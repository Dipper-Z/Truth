/*! permutive-javascript-sdk v19.111.1 (web) (built 2024-04-16T16:47:37.027Z) */(()=>{"use strict";var __webpack_modules__={2688:(e,t,r)=>{function n(e){return e instanceof Error?e:new Error("string"==typeof e?e:JSON.stringify(e))}r.d(t,{w:()=>n})},787:(e,t,r)=>{r.d(t,{A:()=>a});var n=r(3735),i=r(6567);function a(e){return(0,n.zG)((0,i.Y3)((()=>JSON.parse(e))),(0,i.fS)(n.gn))}},7183:(e,t,r)=>{r.d(t,{h:()=>n});const n=e=>new i(e);class i{constructor(e){const t=this;this._worker=e,this._callbacks={},this._id=0,e.addEventListener("message",(function(e){i.onMessage(t,e)}))}set id(e){this._id=e}get id(){return this._id}newId(){const e=this.id;return this.id=this.id+1,e}static onMessage(e,t){if(r=t.data,!(Array.isArray(r)&&r.length>=2))return;var r;const[n,i,a]=t.data,s=e._callbacks[n];s&&(delete e._callbacks[n],s(i,a))}static isServiceWorker(e){return void 0!==e.controller}postMessage(e){const t=this,r=this.newId(),n=[r,e];return new Promise((function(e,a){var s;if(t._callbacks[r]=function(t,r){if(t)return a(new Error(t.message));e(r)},i.isServiceWorker(t._worker)){const e=new MessageChannel;e.port1.onmessage=function(e){i.onMessage(t,e)},null===(s=t._worker.controller)||void 0===s||s.postMessage(n,[e.port2])}else t._worker.postMessage(n)}))}}},3992:(e,t,r)=>{r.d(t,{GL:()=>a,HJ:()=>s,N1:()=>u,SF:()=>d,UM:()=>o,ho:()=>f,iE:()=>l,t_:()=>c});let n=[],i=!1;const a=e=>function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return s((()=>e(...r)))},s=(e,t)=>{if(!i){const r=window.setTimeout(e,t);return()=>window.clearTimeout(r)}let r;const a=()=>{void 0!==r&&i&&n.length<1e4&&n.push([r,performance.now()]),r=void 0},s=[window.setTimeout((()=>{r=performance.now(),window.requestAnimationFrame(a),e()}),t),window.setTimeout(a,t)];return()=>{void 0===r&&s.forEach((e=>window.clearTimeout(e)))}},o=(e,t)=>{if(!i){const r=window.setInterval(e,t);return()=>window.clearInterval(r)}let r=!1,n=()=>{};const a=window.setInterval((()=>{n=s((()=>{r||e()}))}),t);return()=>{r=!0,n(),window.clearInterval(a)}},c=e=>new Promise(((t,r)=>e.then(a(t),a(r)))),u=e=>()=>c(e()),d=e=>{const t=u(e);return()=>new Promise((e=>s((()=>e(t())))))},l=()=>{const e=n;return n=[],e},f=e=>{i=e}},2851:(e,t,r)=>{r.d(t,{oQ:()=>I,a9:()=>g,Ue:()=>p,D8:()=>E,BT:()=>S,VS:()=>h,xH:()=>v,g_:()=>b,p4:()=>k,UI:()=>m,vP:()=>y,bw:()=>D,YP:()=>_});var n=r(2688),i=r(365),a=r(3735),s=r(6567),o=r(3328),c=r(2652);function u(e){let t=e,r=[],n=!1;return{addListener(e){if(n)return()=>{};let i=t;const a=()=>{Object.is(t,i)||(i=t,e(t))};r=[...r,a];return()=>{r=r.filter((e=>e!==a))}},notify(e){if(n)throw new Error("Ref bug: Attempted to notify a terminated notifier");Object.is(e,t)||(t=e,r.forEach((e=>e())))},terminate(){n=!0,r=[]}}}function d(e,t){let r=0;return function(){try{if(r++>0)throw new Error(e);return t(...arguments)}finally{r--}}}function l(e,t){let r=[...new Set(e)].filter((e=>"final"!==e.state));if(0===r.length)return{state:"final",onStateChange:()=>()=>{}};const n=()=>0===r.length?"final":r.some((e=>"might_change"===e.state))?"might_change":"nominal",[i,a]=f(n(),(e=>"might_change"!==e&&t())),s=()=>a(n());return r.forEach((t=>{t.onStateChange((t=>{switch(t){case"final":r=e.filter((e=>"final"!==e.state)),s();break;case"might_change":a("might_change");break;case"nominal":s();break;default:throw new Error(`Ref bug: Invalid state ${t}`)}}))})),i}function f(e,t){if("final"===e)return[{state:"final",onStateChange:()=>()=>{}},()=>{}];const{terminate:r,notify:n,addListener:i}=u(e),a={state:e,onStateChange:i},s=d("Disallowed recursion in Branch.",(e=>{if("final"===a.state){if("final"===e)return;throw new Error(`Attempted to change state of final branch to ${e}.`)}try{null==t||t(e),a.state=e,n(e)}finally{"final"===e&&r()}}));return[a,s]}function p(e){const[t,r,n]=function(){const[e,t]=f("nominal"),r=d("Disallowed recursion in Branch.",(r=>{if("final"===e.state)throw new Error("Attempted to mutate a finalized Ref.");const n=e.state;try{t("might_change"),r()}finally{t(n)}}));return[e,r,()=>t("final")]}(),[i,a]=P(t,e);return[i,e=>r((()=>a(e))),n]}function g(e){return{get current(){return e},onChange:()=>()=>{},branch:{state:"final",onStateChange:()=>()=>{}}}}function _(e){return t=>{const r=t.onChange(e);return e(t.current),r}}function m(e,t){if(t){const[r,n]=P(t.branch,e(t.current));return t.onChange((t=>n(e(t)))),r}return t=>m(e,t)}function h(e,t){return t?v(m(e,t)):t=>v(m(e,t))}function v(e){if("final"===e.branch.state)return e.current;const[t,r]=function(e,t){let r=t;const n=[e.state,r.state].includes("might_change")?"might_change":"nominal",[i,a]=f(n),s=e=>t=>{switch(t){case"final":a(e().state);break;case"might_change":a("might_change");break;case"nominal":"might_change"===e().state?a("might_change"):a("nominal");break;default:throw new Error(`Ref bug: Unexpected upstream state ${t}`)}};e.onStateChange(s((()=>r)));const o=s((()=>e));let c=r.onStateChange(o);return[i,e=>{r=e,c(),c=e.onStateChange(o),o(r.state)}]}(e.branch,e.current.branch),[n,i]=P(t,e.current.current);let a=e.current.onChange(i);return e.onChange((e=>{a(),a=e.onChange(i),r(e.branch),i(e.current)})),n}function b(e,t,r){if(!r)return r=>b(e,t,r);let n=e;return m((e=>(n=t(n,e),n)),r)}function y(){if(0===arguments.length||O(arguments.length<=0?void 0:arguments[0]))return w(...arguments);const e=arguments.length<=0?void 0:arguments[0],t=Object.keys(e);return(0,a.zG)(Object.values(e),(e=>w(...e)),m((0,a.ls)(o.Su(((e,r)=>[t[e],r])),Object.fromEntries)))}function w(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)return g([]);if(1===t.length)return m((e=>[e]))(t[0]);let n=!1;t.forEach((e=>e.onChange((()=>{if("might_change"!==e.branch.state)throw new Error("Ref bug: Received a change notification without a `might_change` state.");n=!0}))));const i=t.map((0,c.vg)("branch")),a=()=>{n&&(n=!1,u(t.map((e=>e.current))))},s=l(i,a),[o,u]=P(s,t.map((e=>e.current)));return o}function k(e){const[t,r,o]=p(s.YP);return e.then(i.F2).catch((0,a.ls)(n.w,i.t$)).then((0,a.ls)(s.G,r,o)),t}function E(e){const t=e.hasOwnProperty("equals")?e.equals:e;return function(e){return t=>{if("final"===t.branch.state)return t;let r=s.YP;return m((t=>{if(s.Wi(r))return r=s.G(t),t;const n=e(r.value,t);return r=s.G(n),n}),t)}}(((e,r)=>t(e,r)?e:r))}function S(e){return t=>{const[r,n]=function(e){const[t,r]=f(e.state),n=e.onStateChange(r);return[t,()=>{n(),r("final")}]}(t.branch),[i,o]=P(r,t.current);let c=s.G(t.onChange(o));return e((()=>(0,a.zG)(c,s.UI((e=>{c=s.YP,e(),n()}))))),i}}function I(e){return O(e)?e:g(e)}function D(e){return t=>(_(e)(t),t)}function P(e,t){if("final"===e.state)return[g(t),()=>{}];const r=u(t);e.onStateChange((e=>{"final"===e&&r.terminate()}));let n=t;return[{get current(){return n},onChange:r.addListener,branch:e},d("Disallowed recursion in Ref.",(e=>{n=e,r.notify(n)}))]}function O(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)&&"function"==typeof e.onChange}},2116:(e,t,r)=>{r.d(t,{K4:()=>u,KD:()=>v,UI:()=>f,VS:()=>g,YO:()=>h,ak:()=>m,bw:()=>p,dQ:()=>d,of:()=>l,vP:()=>_});var n=r(7582),i=r(2851),a=r(3735),s=r(2652),o=r(4923),c=r(6567);const u=e=>(0,a.ls)((t=>{var{previousState:r}=t,i=(0,n._T)(t,["previousState"]);return e(i)}),(e=>({value:e,state:i.a9(void 0)}))),d=a.yR,l=(0,a.ls)(a.a9,u),f=e=>t=>(0,a.ls)(t,(0,s.rO)({value:e})),p=e=>t=>(0,a.ls)(t,(0,s.rO)({value:(0,s.bw)(e)}));function g(e){return t=>r=>{var{previousState:a,onServiceStop:s}=r,o=(0,n._T)(r,["previousState","onServiceStop"]);const c=k(),u=t(Object.assign({previousState:Array.isArray(a)?a[0]:void 0,onServiceStop:c.onServiceStop},o)),d=k(),l=e(u.value)(Object.assign({previousState:Array.isArray(a)?a[1]:void 0,onServiceStop:d.onServiceStop},o));return s(c.stop),s(d.stop),{value:l.value,state:i.vP(u.state,l.state)}}}function _(e){return t=>{var{previousState:r}=t,s=(0,n._T)(t,["previousState"]);const c=w(r)?r:{},u=(0,a.zG)(e,o.Su(((e,t)=>t(Object.assign({previousState:c[e]},s)))));return{value:(0,a.zG)(u,o.UI((e=>e.value))),state:(0,a.zG)(u,o.UI((e=>e.state)),(e=>i.vP(e)))}}}function m(e,t){return r=>(0,a.ls)((0,s.rO)({previousState:y}),(s=>{var{onServiceStop:o}=s,c=(0,n._T)(s,["onServiceStop"]);const u=k(),d=r(Object.assign({onServiceStop:u.onServiceStop},c)),l=k(),f=t(d.value)(Object.assign(Object.assign({onServiceStop:l.onServiceStop},c),{previousState:c.previousState[e]}));return o(u.stop),o(l.stop),{value:(0,a.zG)([d.value,f.value],(t=>{let[r,n]=t;if(!w(r))throw new Error;return Object.assign(Object.assign({},r),{[e]:n})})),state:(0,a.zG)(i.vP(d.state,f.state),i.UI((t=>{let[r,n]=t;if(!w(r))throw new Error;return Object.assign(Object.assign({},r),{[e]:n})})))}}))}function h(e){return t=>(0,a.ls)((0,s.rO)({previousState:(0,a.ls)(y,(t=>t[e]))}),t,(0,s.rO)({value:t=>({[e]:t}),state:i.UI((t=>({[e]:t})))}))}const v=e=>{const t=e.slice(0,-1),r=e.slice(-1)[0],n=[...t.map((e=>{let[t,r]=e;return[t,(0,a.a9)(r)]})),(0,a.a9)(r)];return(0,a.ls)(i.UI((0,s.lo)(n)),b)};function b(e){return t=>{var{previousState:r,onServiceStop:o}=t,u=(0,n._T)(t,["previousState","onServiceStop"]);return(0,a.zG)(e,i.BT(o),i.g_({state:i.a9(r),stop:()=>{},value:c.YP},((e,t)=>{let{state:r,stop:n}=e;n();const{stop:i,onServiceStop:a}=k(),{state:s,value:o}=t(Object.assign({previousState:r.current,onServiceStop:a},u));return{state:s,stop:i,value:c.G(o)}})),(0,s.bw)((e=>o((()=>e.current.stop())))),(e=>({value:i.UI((0,a.ls)((e=>e.value),c.fS((()=>{throw new Error}))),e),state:i.VS((e=>e.state),e)})))}}function y(e){return w(e)?e:{}}function w(e){return"object"==typeof e&&null!==e}function k(){const e=[];return{stop:()=>{for(;e.length>0;)e.shift()()},onServiceStop:t=>e.push(t)}}},6967:(e,t,r)=>{r(2497),r(5165)},8612:(e,t,r)=>{r.d(t,{lg:()=>_,Bt:()=>h});var n=r(7582),i=r(1500),a=r(3735),s=r(6567),o=r(2751),c=r(2652);class u{constructor(e,t,r,n){this.userId=e,this.network=t,this.api=r,this.logger=n,this.tag="appnexus",this.ttlInSeconds=86400,this.usedForThirdPartyData=!0,this.url="https://ib.adnxs.com/getuidj",this.invalidAliases=["","0","-1"]}getId(){return this.logger.debug("identities[appnexus]: start HTTP request"),(0,c.G6)(navigator.userAgent)?Promise.resolve({type:"skipped"}):this.api.appnexus(this.url).then((e=>(this.logger.debug("identities[appnexus]: end HTTP request"),{type:"attempted",result:(0,a.zG)((0,s.DT)((e=>this.isValidAlias(e.uid)))(e),(0,s.UI)((e=>e.uid)))})),(e=>({type:"attempted",result:s.YP})))}reset(){return Promise.resolve()}isValidAlias(e){return!!e&&-1===this.invalidAliases.indexOf(e)}}class d{constructor(e,t,r,n,i){this.config=e,this.network=t,this.api=r,this.userId=n,this.logger=i,this.tag="pxid",this.ttlInSeconds=86400,this.usedForThirdPartyData=!1,this.url=`https://507b28fb-2ef1-4c34-8bda-ba32030bb199.${this.config.pxidHost}/${this.config.apiVersion}/pxid`,this.resetUrl=this.url+"/reset"}getId(){return this.logger.debug("identities[pxid]: start HTTP request"),(0,c.G6)(navigator.userAgent)?Promise.resolve({type:"skipped"}):this.api.pxid(this.url).then((e=>(this.logger.debug("identities[pxid]: end HTTP request"),{type:"attempted",result:(0,s.ij)(e.uid)})),(e=>({type:"attempted",result:s.YP})))}reset(){return(0,c.G6)(navigator.userAgent)?Promise.resolve():this.api.pxidReset(this.resetUrl)}}var l=r(2851),f=r(4923),p=r(2197);const g=p.ff((e=>void 0===e));class _{constructor(e,t,r,n,i){this.metrics=e,this.trace=t,this.permutiveData=r,this.identityProviderEnv=n,this.logger=i,this.providers={};const s=this.getCachedIdentitiesAndMigrateIfRequired(),[u,d]=l.Ue(s);this.identityMapRef=u,this.setIdentityMap=d,u.onChange((0,a.ls)(f.z7((e=>!m.has(e))),(0,c.bw)((e=>{this.logger.debug("[identities] Persisting",e),this.permutiveData.setData("identities",e)})))),this.ref=(0,a.zG)(u,l.UI((0,a.ls)(f.UI((e=>e.value)),f.hX(g))),l.D8(f.Eh(o.Eq))),this.thirdParty=this.prepareThirdPartyIdentities()}get identities(){return this.identityMapRef.current}prepareThirdPartyIdentities(){this.logger.debug("[Identities]","loading 3rd party identities");const e=this.metrics.startTimer("sdk_get_third_party_identities_task_duration_seconds",{}),t=this.trace.startSpan("load_tpd_ids"),r=[{load:e=>{return t=e.config,r=e.network,n=e.api,i=e.userId,a=e.logger,(0,s.G)(new d(t,r,n,i,a));var t,r,n,i,a}},{load:e=>{return t=e.userId,r=e.network,n=e.api,i=e.logger,(0,s.G)(new u(t,r,n,i));var t,r,n,i}},{load:e=>(e.cookies,e.messages,s.YP)},{load:e=>(e.cookies,s.YP)},{load:e=>(e.metrics,e.permutiveData,e.permutive,e.messages,s.YP)}],n=(0,i.oA)(r.map((e=>e.load(this.identityProviderEnv)))).map((e=>this.shouldAskForNewIdentity(e)?this.retrieveIdentity(e):Promise.resolve((0,a.bc)(e,this.getCachedTPDIdentity(e.tag)))));return Promise.all(n).then((e=>e.map((e=>{let[t,r]=e;return this.providers[t.tag]=t,this.mapTPDIdentityIfPresent(t.tag,r,t.ttlInSeconds)})))).then((e=>this.setIdentities(e))).then((0,c.bw)((()=>{this.metrics.stopTimer("sdk_get_third_party_identities_task_duration_seconds",e),t.finish()})))}getPrioritizedIdentities(e){const t={default:0,appnexus:1,pxid:1},r=Object.entries(e).map((e=>{let[t,{id:r,expiry:n,priority:i}]=e;return Object.assign(Object.assign(Object.assign({tag:t},r?{id:r}:{}),n?{expiry:n}:{}),void 0!==i?{priority:i}:{})})),n=r.filter((e=>((e,t)=>!!e.id&&!(0,i.t9)(o.Eq)(e.tag,t))(e,Object.values(this.providers).map((e=>e.tag))))),a=r.filter((e=>((e,t)=>!!e.id&&!!(0,i.t9)(o.Eq)(e.tag,t))(e,Object.values(this.providers).map((e=>e.tag))))),c=(0,i.DZ)((e=>(0,s.ij)(e.priority)))(n),u=c.length>0?Math.max(...c):0,d=n.map((e=>void 0!==e.priority?Object.assign(Object.assign({},e),{priority:e.priority}):Object.assign(Object.assign({},e),{priority:u+1}))),l=a.map((e=>void 0===t[e.tag]?{tag:e.tag,id:e.id,priority:u+v}:{tag:e.tag,id:e.id,priority:u+b}));return d.concat(l)}getIdentitiesMap(){return this.getFilteredIdentities(((e,t)=>!!t.value))}parseCustomerDefinedIdentities(e){const t=`Identify must be passed a non-empty string or list of { tag, id, priority? } tuples, value passed was '${JSON.stringify(e)}'`,r=e=>{throw new Error(e)},n=e=>(e.forEach((e=>{(e=>"string"==typeof e.id&&"string"==typeof e.tag)(e)||r(t),(e=>"email_sha256"!==e.tag||_.emailSHA256Regex.test(e.id))(e)||r("Identify called with unsupported format of email_sha256 ID. The support format is hex-encoded 64 character long lowercase string.")})),e);return"string"==typeof e?(i=e).length>0?[{id:i,tag:"default"}]:r(t):Array.isArray(e)?n(e):r(t);var i}extractIdentifyFromQueue(e){let{global:t}=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=()=>t.q.findIndex((e=>"identify"===e.functionName)),i=(e,r)=>{if(e<0)return r;const a=t.q.splice(e,1)[0],s=this.parseCustomerDefinedIdentities(a.arguments[0]);return i(n(),r.concat(s))};return i(n(),r)}setIdentities(e){const t=e.reduce(((e,t)=>{let{tag:r,id:n,expiry:i,priority:a}=t;return void 0===this.identities[r]&&this.logger.debug(`identities[${r}]: added`),e[r]=Object.assign(Object.assign(Object.assign({},n?{value:n}:{}),i?{expiry:i}:{}),void 0!==a?{priority:a}:{}),e}),{}),r=this.ref.current;this.setIdentityMap(Object.assign(Object.assign({},this.identities),t));const n=this.ref.current;return{identifyRequestRequired:()=>!f.xb(n)&&!f.Eh(o.Eq).equals(r,n)}}reset(){return(0,n.mG)(this,void 0,void 0,(function*(){this.setIdentityMap({}),yield Promise.all(Object.values(this.providers).map((e=>e.reset())))}))}getFilteredIdentities(e){return(0,c.m8)(...Object.entries(this.identities).filter((t=>{let[r,n]=t;return e(r,n)})).map((e=>{let[t,{value:r,expiry:n,priority:i}]=e;return(0,a.bc)(t,Object.assign(Object.assign({id:r},n?{expiry:n}:{}),void 0!==i?{priority:i}:{}))})))}shouldAskForNewIdentity(e){var t;const r=(0,s.ij)(null===(t=this.identities)||void 0===t?void 0:t[e.tag]);return(0,s.g_)((()=>!0),this.isIdentityExpired)(r)}getCachedTPDIdentity(e){return this.identities[e]?(0,s.ij)(this.identities[e].value):s.YP}mapTPDIdentityIfPresent(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:86400;const n=()=>Date.now()+Math.floor(1e3*r);return(0,s.g_)((()=>({tag:e,expiry:n()})),(t=>({tag:e,id:t,expiry:n()})))(t)}retrieveIdentity(e){return e.getId().then((t=>"skipped"===t.type?(0,a.bc)(e,s.YP):(0,a.zG)(t.result,(t=>this.metrics.track({name:(0,s.pC)(t)?"sdk_third_party_identity_present_count":"sdk_third_party_identity_missing_count",value:1,labels:{identity_tag:e.tag}})),(r=>(0,a.bc)(e,t.result)))))}isIdentityExpired(e){return"number"==typeof e.expiry&&Date.now()>=e.expiry}getCachedIdentitiesAndMigrateIfRequired(){return(e=>(0,c.m8)(...Object.entries(e).filter((e=>{let[t,r]=e;return!this.isIdentityExpired(r)&&!m.has(t)}))))(this.permutiveData.getData("identities")||{})}}_.emailSHA256Regex=/^[a-f0-9]{64}$/;const m=new Set(["public","email","email_md5","email_sha256","ip_address"]),h=(e,t,r,n,a)=>{const s=(e,t)=>{const r=["(null)"];return r.indexOf(e)>-1||!!w[e]||(0,i.jV)(o.Eq)(t,r).length>0},c=e=>"721d6d85-35f0-4e35-bb38-13eb0d465158"===e,u={"be668577-07f5-444d-98e0-222b990951b1":s,"e43c8a90-d17b-4790-bfda-81b069b3b8c2":(e,t,r)=>["thestudentroom.co.uk"].some((e=>r.indexOf(e)>-1))&&(0,i.jV)(o.Eq)(t,["tsr-"]).length>0,"5d79bce7-5d2b-427e-a6c4-b89b6c7bf048":s,"366ab8da-5efa-4355-ab00-84db3b68ded2":e=>"96539955-4d7e-40df-882b-7e2fbacedb1c"===e||"345600e7-fb5f-48b1-9aa6-cde5396419b0"===e,"f3a06674-ebb9-4b9d-ba8f-0052018c0687":c,"38dadd0d-257a-4641-b332-b8b0fd20a6cb":c,"10453011-272d-49cd-9043-1964fdb36fd8":e=>"936ba6ac-9a8b-454d-ba98-facebd7553fe"===e},d={"fe68d1f7-c9f4-45b3-8905-7cda73d3fd74":e=>!!y[e]},l=u[e]||d[t];return!!l&&l(a,r,n)},v=2,b=3,y={},w={}},7658:(e,t,r)=>{r.d(t,{z:()=>n});class n{ingestIfEligible(e){return Promise.resolve()}}},922:(e,t,r)=>{r.d(t,{CL:()=>d,D0:()=>i,ED:()=>a,EW:()=>l,MU:()=>g,PH:()=>u,Uy:()=>o,eV:()=>s,jH:()=>f,mL:()=>p,t2:()=>c});var n=r(9853);const i=(0,n.MU)("engagement_edge_only",!0),a=(0,n.MU)("segment_transition_edge_only",!0),s=(0,n.MU)("track_form_submission",!0),o=(0,n.MU)("track_pageview_complete",!0),c=(0,n.MU)("track_pageview_engagement",!0),u=((0,n.$S)("sync_segments_cookie",!1),(0,n.$S)("track_slot_clicked",!0)),d=(0,n.$S)("track_slot_rendered",!0),l=(0,n.$S)("track_slot_viewable",!1),f=(0,n.$S)("track_targeting_keys",!1),p="_psegs",g=6e5},4673:(e,t,r)=>{r.d(t,{U:()=>n});const n={$ip_address:"$ip_address",$ip_address_hash:"$ip_address_hash",$ip_geo_info_city:"$ip_geo_info_city",$ip_geo_info_continent:"$ip_geo_info_continent",$ip_geo_info_country:"$ip_geo_info_country",$ip_geo_info_postal_code:"$ip_geo_info_postal_code",$ip_geo_info_province:"$ip_geo_info_province",$ip_isp_info_autonomous_system_organization:"$ip_isp_info_autonomous_system_organization",$ip_isp_info_isp:"$ip_isp_info_isp",$ip_isp_info_organization:"$ip_isp_info_organization"}},8975:(e,t,r)=>{r.d(t,{v:()=>a});class n{constructor(e,t,r,n,i,a,s){this.logger=e,this.permutive=t,this.id=r,this.segmentCode=n,this.triggerType=i,this.config=a,this.workspaceLevelConfig=s,this.prefix="[Activation]"}getSegmentCode(){return this.segmentCode}getTriggerType(){return this.triggerType}getConfig(){return this.config}getWorkspaceLevelConfig(){return this.workspaceLevelConfig}trackImpression(e){return this.trackActivation("impression",e)}trackConversion(e){return this.trackActivation("conversion",e)}trackActivation(e,t){const r={reaction_id:this.id,type:e};this.permutive.track("Reaction",r,t),this.logger.log(this.prefix,r.type,r)}}var i=r(9853);class a{constructor(e,t,r){this.logger=e,this.permutive=t,this.clientContext=r,this.optimisedActivationsConfig={dfp:{dfp:[171502,164912,168237,146572,162754,171822,168224,169409,168238,174529,171906,168225,168208,171817,168217,173051,168214,164815,158730,171812,168213,168226,168207,165087,171821,156668,162749,168229,163265,165085,158699,165088,171910,171912,158696,167760,168239,171498,165479,163719,167764,163341,164559,173171,168223,156238,171820,165082,162750,172262,162748,171503,171818,168227,168218,174531,164913,165084,171904,165089,164915,171504,167765,164914,156237,171909,166525,174528,168211,156753,165086,165083,168230,171908,174530,171823,171905,171814,166524,164612,168228,167763,156752,167761,166234,168209,168220,166523,168232,172119,176062,176048,176063,176064,176061,176065,176622,176623,176634,176635,176740,176741,176742,176743,176744,177066,177537,179385,180097,179982,180027,179960,180096,180098,180101,180102,180397,180609,180610,180613,180614,180615,180617,180619,180621,181348,181356,181327,182774,182775,182879,181650,182368,182683,182339,181209,181898,182392,181316,181893,182539,181267,182594,182115,181678,182116,182595,181318,182150,182629,182158,182637,182135,182614,181767,182505,183127,183129,183130,183133,183121,183124,183126,183132,183135,183138,183140,183139,183186,183187,183189,183219,183222,183395,183396,183461,183464,183705,183707,183791,183894,183901,184058,184060,184133,184501,184537,184570,185224,185226,185653,185846,186151,186152,186153,186174,186175,186574],dfp_legacy:{}},eyeota_pixel:[],dbm:{omitted:0},appnexus:{},appnexus_adserver:[],nativo:[176744,164914,164915,164612,171910,176061,171823,165082,179385,165085,183395,183396,183464,183705,183707,183901,183894,184058,184060,184133,166525,184501,184537,184570,185224,185226,185846,186151,186152,186153,186174,186175,168225,186574],rubicon_ssp:[],smart:[],freewheel:[]}}getSpecializedActivations(e){return this.optimisedActivationsConfig[e]}getActivations(e){return(0,i.Hn)(e)("activationConfigs",[]).filter((e=>this.areContextCriteriaSatisfied(e))).map((e=>new n(this.logger,this.permutive,e.id,e.sc,e.tt,e.c,e.wc)))}areContextCriteriaSatisfied(e){const t=e.cc,r=e=>{const t=this.clientContext.getContext()[e.key];switch(e.comparison){case"EQUALS":return t===e.value;case"NOT_EQUALS":return t!==e.value;case"CONTAINS":return"string"==typeof t&&t.indexOf(e.value)>=0;case"NOT_CONTAINS":return"string"==typeof t&&t.indexOf(e.value)<0}};return!t||("AND"===(n=t).operator?n.criteria.every(r):n.criteria.some(r));var n}}},9853:(e,t,r)=>{r.d(t,{$S:()=>s,Hn:()=>i,MU:()=>a});const n={web:{auto_init:!1,track_pageview_engagement:!0,track_form_submission:!1,track_link_click:!0,track_pageview_complete:!0,add_alchemy_taxonomy:!1,add_alchemy_entities:!1,engagement_edge_only:!0,segment_transition_edge_only:!0,activationConfigs:[]},nativo:{auto_init:!0,activationConfigs:[]},dfp:{auto_init:!0,track_slot_rendered:!1,track_slot_viewable:!0,track_slot_clicked:!0,activationConfigs:[]}},i=e=>{const t=n[e];return(e,r)=>{var n;return null!==(n=null==t?void 0:t[e])&&void 0!==n?n:r}},a=i("web"),s=i("dfp");i("facebook_pixel_v2")},2836:(e,t,r)=>{r.d(t,{z:()=>a});var n=r(3030);class i{constructor(e){this.context=e}getContext(){return this.context}updateContext(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach((e=>{let[t,r]=e;this.context[t]=r}))}}class a extends i{constructor(e){super(e)}getClient(){var e;const t=null!==(e=document.title)&&void 0!==e?e:"";return Promise.resolve({type:"web",user_agent:navigator.userAgent||"",url:(0,n.bk)(window.location.href),domain:window.location.hostname||"",title:t,referrer:(0,n.bk)(document.referrer)})}}},389:(e,t,r)=>{r.d(t,{p:()=>a});var n=r(3577);const i="permutive-pvc";class a extends((0,n.h)(i)){constructor(e){super(e)}}},5865:(e,t,r)=>{r.d(t,{J:()=>i});var n=r(3577);class i extends((0,n.h)("permutive-unprocessed-pba")){constructor(e){super(e)}}},3577:(e,t,r)=>{r.d(t,{h:()=>o});var n=r(3735),i=r(6567),a=r(7554);const s=e=>t=>class extends t{constructor(){super(...arguments),this.key=e}put(e){return this.db.then((t=>t.put(e,this.key))).then(n.Q1)}getIfPresent(){return this.db.then((e=>e.get(this.key))).then(i.ij)}reset(){return this.db.then((e=>e.delete(this.key)))}},o=e=>(0,n.zG)(class{constructor(e){this.db=Promise.resolve((0,a.E)(e.namespace,e.logger,e.consentTracking))}},s(e))},5700:(e,t,r)=>{r.d(t,{LP:()=>a,dG:()=>n,eP:()=>i});const n=4096,i=`Cookie exceeds maximum supported size of ${n} bytes for most browsers.`,a="Cookie is missing required parameters."},5461:(e,t,r)=>{r.d(t,{S:()=>c});var n=r(3735),i=r(5700);class a{constructor(e,t,r){this.namespace=e,this.config=t,this.logger=r}makeCookie(e,t,r){return[encodeURIComponent(this.namespace.getNamespacedStorageKey(e)),"=",t?encodeURIComponent(t):"","; expires=",r,"; domain=",this.config.cookieDomain,"; path=/; samesite=none; secure"].join("")}setCookie(e,t){var r;if(!(t&&e&&this.config.cookieExpiry&&this.config.cookieDomain)){const{cookieExpiry:n,cookieDomain:a}=null!==(r=this.config)&&void 0!==r?r:{};throw this.logger.warn(`Unable to set cookie. ${i.LP}`,{value:t,cookieName:e,cookieExpiry:n,cookieDomain:a}),new Error(i.LP)}const n=this.makeCookie(e,t,this.config.cookieExpiry);if(n.length>i.dG)throw this.logger.warn(`Unable to set cookie ${this.namespace.getNamespacedStorageKey(e)}. ${i.eP}`),new Error(i.eP);return this.logger.debug(`Setting cookie ${n}`),document.cookie=n,!0}getCookie(e){const t=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?e:this.namespace.getNamespacedStorageKey(e),r=new RegExp("\\b"+encodeURIComponent(t)+"=([^;]+)").exec(document.cookie);return null!==r?decodeURIComponent(r[1]):null}deleteCookie(e){if(!e||!this.config.cookieDomain)return!1;const t=this.makeCookie(e,void 0,"Thu, 01 Jan 1970 00:00:00 UTC");return this.logger.debug(`Deleting cookie ${t}`),document.cookie=t,!0}}var s=r(4769);const o=e=>{const{logger:t,consentTracking:r}=e,n=e=>(t.debug(`Cookie: Failed to set cookie ${e} as consent is revoked`),!1);return e=>class extends e{constructor(){super(...arguments),this.setCookie=(0,s.v)(super.setCookie.bind(this),n,r.isRevoked)}}},c=(e,t,r,i)=>new((0,n.zG)(a,o({consentTracking:i,logger:r})))(e,t,r)},9773:(e,t,r)=>{r.d(t,{S:()=>d});var n=r(3735),i=r(2688),a=r(787),s=r(365);class o{constructor(e){this.namespace=e}getExternalData(e){const t=this.namespace.getNamespacedStorageKey(e);return window.localStorage.getItem(t)}getExternalJsonData(e){const t=this.getExternalData(e);return null===t?null:(0,a.A)(t)}setExternalData(e,t){const r=this.namespace.getNamespacedStorageKey(e);try{window.localStorage.setItem(r,t)}catch(e){}}setExternalJsonData(e,t){return(0,n.zG)((r=t,(0,s.Y3)((function(){var e=JSON.stringify(r);if("string"!=typeof e)throw new Error("Converting unsupported structure to JSON");return e}),n.yR)),(0,s.UI)((t=>this.setExternalData(e,t))),(0,s.g_)((e=>{throw(0,i.w)(e)}),n.Q1));var r}removeExternalData(e){const t=this.namespace.getNamespacedStorageKey(e);window.localStorage.removeItem(t)}}var c=r(4769);const u=e=>{const{logger:t,consentTracking:r}=e,n=e=>{t.debug(`External Data: Failed to set key ${e} as consent is revoked`)},i=n,a=n;return e=>class extends e{constructor(){super(...arguments),this.setExternalData=(0,c.v)(super.setExternalData.bind(this),i,r.isRevoked),this.setExternalJsonData=(0,c.v)(super.setExternalJsonData.bind(this),a,r.isRevoked)}}},d=(e,t,r)=>new((0,n.zG)(o,u({consentTracking:r,logger:t})))(e)},342:(e,t,r)=>{r.d(t,{SX:()=>a});class n{constructor(){this.prefix="[Permutive]",this.debugStyle=["color: blue"].join(";")}log(){return console.log.bind(window.console,this.prefix)(...arguments)}debug(){return console.debug.bind(window.console,"%c%s",this.debugStyle,this.prefix)(...arguments)}warn(){return console.warn.bind(window.console,this.prefix)(...arguments)}error(){return console.error.bind(window.console,this.prefix)(...arguments)}}class i{log(){}debug(){}warn(){}error(){}}const a=e=>{var t;return e.loggingEnabled&&void 0!==(null===(t=window.console)||void 0===t?void 0:t.log)?new n:new i}},8491:(e,t,r)=>{r.d(t,{Q:()=>a});var n=r(3735);const i="[MESSAGES]";class a{constructor(e){this.logger=e,this.messageListenerMap={},this.replayQueue={},this.onceTracker={},this.defaultMessageOptions={withReplay:!1,once:!1}}on(e,t,r){const n=this.mergeMessageOptions(r);n.withReplay&&this.processReplayQueue(e,t);const i=s(e,this.messageListenerMap).push(t)-1;return n.once&&this.addToOnceTracker(e,i),i}once(e,t){return this.on(e,t,{once:!0})}off(e,t){if(null==t)return this.messageListenerMap[e]=[],void(this.replayQueue[e]=[]);t<0?this.logError('Index for "off" fell out of range',{index:t}):s(e,this.messageListenerMap)[t]=n.Q1}emit(e,t,r){const n=this.mergeMessageOptions(r);s(e,this.messageListenerMap).length>0?(this.logDebug(`Emitting Event: ${e}`),this.emitMessageWithPayload(e,t)):n.withReplay&&this.addToReplayQueue(e,t)}addToReplayQueue(e,t){s(e,this.replayQueue).push(t)}processReplayQueue(e,t){var r;null===(r=this.replayQueue[e])||void 0===r||r.forEach((e=>t(e)))}emitMessageWithPayload(e,t){var r;null===(r=this.messageListenerMap[e])||void 0===r||r.forEach(((r,n)=>{r(t),this.removeListenerIfSetToFireOnlyOnce(e,n)}))}addToOnceTracker(e,t){s(e,this.onceTracker).push(t)}removeListenerIfSetToFireOnlyOnce(e,t){var r;(null===(r=this.onceTracker[e])||void 0===r?void 0:r.includes(t))&&this.off(e,t)}mergeMessageOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(Object.assign({},this.defaultMessageOptions),e)}logError(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.error(i,...t)}logDebug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.debug(i,...t)}}const s=(e,t)=>{var r;return null!==(r=t[e])&&void 0!==r?r:t[e]=[]}},5619:(e,t,r)=>{r.d(t,{Eq:()=>l,X:()=>f,b:()=>d});var n=r(2851),i=r(2116),a=r(4268),s=r(2751),o=r(4011),c=r(3735),u=r(6567);const d=()=>({environment:"",events_count:0,os:"",sdk_version:"",segments_count:0,session_count:0,session_init_count:0,session_view_count:0}),l=a.n_({environment:s.Eq,events_count:o.Eq,os:s.Eq,sdk_version:s.Eq,segments_count:o.Eq,session_count:o.Eq,session_init_count:o.Eq,session_view_count:o.Eq}),f=e=>{const t=g(e.userId),r=(0,c.zG)(n.vP(e.userId,e.sessionId),n.UI((e=>{let[t,r]=e;return`${t},${r}`})),g),a=String(Math.random()),s=(0,c.zG)(e.sdkVariant,u.UI((e=>`-${e}`)),u.fS((()=>""))),o={environment:"web",events_count:0,os:p(window.navigator.userAgent||""),sdk_version:"v19.111.1"+s,segments_count:0};return(0,c.zG)(i.vP({session_count:t(e.sessionId),session_init_count:r(n.a9(a)),session_view_count:r(e.viewId)}),i.UI((0,c.ls)((e=>n.vP(e)),n.UI((e=>Object.assign(Object.assign({},o),e))))))},p=e=>{const t=e.toLowerCase();return t.includes("windows")?"windows":t.includes("iphone")||t.includes("ipad")?"ios":t.includes("android")?"android":t.includes("macintosh")?"macos":t.includes("linux")?"linux":"unknown"},g=e=>t=>i.dQ((r=>{let{previousState:i}=r;const u=(0,c.zG)(n.vP(e,t),n.g_(function(e){if(null!==e&&"object"==typeof e&&"scope"in e&&"lastValue"in e&&"count"in e)return e;return{scope:"",lastValue:"",count:1}}(i),((e,t)=>{let[r,n]=t;return{scope:r,lastValue:n,count:r!==e.scope?1:n!==e.lastValue?e.count+1:e.count}})),n.D8(a.n_({scope:s.Eq,lastValue:s.Eq,count:o.Eq})));return{state:u,value:(0,c.zG)(u,n.UI((e=>e.count)))}}))},4454:(e,t,r)=>{r.d(t,{p:()=>y});var n=r(7582),i=r(2688),a=r(3735),s=r(6392),o=function(){return Math.random()};function c(e,t){return(0,a.zG)(o,(0,s.UI)((function(r){return Math.floor((t-e+1)*r+e)})))}(0,s.UI)((function(e){return e<.5}));var u=r(7927),d=r(4673),l=r(2652),f=r(5619),p=r(3328),g=r(7241),_=r(4268),m=r(8377),h=r(4767),v=r(5151),b=r(3992);const y=e=>{let t=[];const r=e=>{t=[...t,...e]},s=t=>{(0,a.zG)(e.metrics.consume(),w(t),r)};let o=e.context.current;e.context.onChange((e=>{s(o),o=e}));const y="[Metrics Reporter]",k=t=>(0,a.zG)({},(0,a.ls)((0,u.dx)("continent",d.U.$ip_geo_info_continent),(t=>e.enrichers.enrich(t,!0).output)),(e=>Object.assign(Object.assign({},t),e))),E=c=>{let{beacon:u}=c;s(o);const d=t;t=[];const b=(0,a.zG)(d,g.ru((0,a.zG)(_.Uz((e=>e[0]))(f.Eq))),p.UI((0,a.ls)(g.Ri,m.pL((0,a.ls)(g.YM,k)))),v.uU((t=>{let[r,a]=t;return h.Y3((()=>((t,r)=>(0,n.mG)(void 0,void 0,void 0,(function*(){if(!t)return e.api.metrics(r);if(!e.api.metricsBeacon(r))throw new Error("Failed to send beacon.")})))(u,{context:r,items:a})),(t=>(function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];e.logger.error(y,...r)}(`Failed to publish metrics ${(0,i.w)(t).message}`,a),w(r)(a))))})),v.UI((0,a.ls)(p.bj,p.xH,(0,l.bw)(r),p.xb)));return b()};e.messages.on("permutive:ready",(()=>{const e=c(3e4,9e4),t=r=>(0,b.HJ)((()=>(0,n.mG)(void 0,void 0,void 0,(function*(){const r=(yield E({beacon:!1}))?5e3:e();t(r)}))),r);t(5e3),(0,l.Bf)((()=>E({beacon:!0})),{capture:!1})}))},w=e=>t=>(0,a.zG)(t,p.UI((t=>[e,t])))},4074:(e,t,r)=>{function n(e,t,r,n,s){var o;return(null!==(o=r.getData("metricsEnabled"))&&void 0!==o?o:(()=>{const e=Math.random()<=t.metricsSamplingPercentage/100;return r.setData("metricsEnabled",e),e})())?new i(e,n,s):new a}r.d(t,{g:()=>n});class i{constructor(e,t,r){this.sdkInitTimestamp=e,this.messages=t,this.logger=r,this.prefix="[Metrics]",this.pendingMetrics=[],this.pendingTimers={},this.track({name:"sdk_initialisation_start_time_seconds",value:e/1e3,labels:{}})}isEnabled(){return!0}consume(){const e=this.pendingMetrics;return this.pendingMetrics=[],e}track(e){this.logDebug(`Tracking ${e.name}`,{metric:e}),this.pendingMetrics.push(e)}trackTimeSinceInit(e,t){const r=(performance.now()-this.sdkInitTimestamp)/1e3;this.logDebug("timer stopped",e,r),this.track({name:e,value:r,labels:t})}startTimer(e,t){const r=performance.now(),n=this.generateRandomKey(e);return this.pendingTimers[n]={startTime:r,labels:t},n}stopTimer(e,t){const r=this.pendingTimers[t];if(r){const n=(performance.now()-r.startTime)/1e3;this.logDebug("timer stopped",e,n),this.track({name:e,value:n,labels:r.labels}),delete this.pendingTimers[t]}}generateRandomKey(e){return`${e}-${[...Array(24)].map((()=>Math.random().toString(36)[2])).join("")}`}logDebug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.debug(this.prefix,...t)}}class a{isEnabled(){return!1}consume(){return[]}track(e){}trackTimeSinceInit(e,t){}startTimer(e,t){return""}stopTimer(e,t){}}},8317:(e,t,r)=>{r.d(t,{S:()=>s});var n=r(7582),i=r(3735),a=r(2652);class s{constructor(e,t){this.db=e,this.options=t}getSessionId(){return this.options.session_id}sessionHasChanged(){return this.options.hasChanged}static decodeSessionData(e){return e&&"object"==typeof e&&e.hasOwnProperty("session_id")&&e.hasOwnProperty("last_updated")?Object.assign(Object.assign({},e),{last_updated:new Date(e.last_updated)}):null}reset(){return this.db.delete(this.options.session_data_key)}persistSessionData(e){return(0,n.mG)(this,void 0,void 0,(function*(){const t=e.last_updated.toISOString();yield this.db.put(Object.assign(Object.assign({},e),{last_updated:t}),this.options.session_data_key)}))}static generateNewSession(e){return{session_id:(0,a.k$)(),last_updated:e}}static hasExpired(e,t,r){if(isNaN(t.getTime()))return!0;return e>new Date(t.getTime()+1e3*r)}static initialise(e,t,r){return(0,n.mG)(this,void 0,void 0,(function*(){const n={timeout_seconds:1800,session_data_key:"permutive-session",hasChanged:!1,logger:r};e.deleteCookie(n.session_data_key);const o=new Date,c=yield t.get(n.session_data_key).catch(i.gn),u=s.decodeSessionData(c),d=null===u||s.hasExpired(o,u.last_updated,n.timeout_seconds)?Object.assign(Object.assign({},s.generateNewSession(o)),{hasChanged:!0}):Object.assign(Object.assign({},u),{last_updated:o,hasChanged:!1}),l=new s(t,(0,a.PM)(n,d));return yield l.persistSessionData(d),l}))}}},4026:(e,t,r)=>{r.d(t,{S:()=>h});var n=r(3735),i=r(2688),a=r(787),s=r(365),o=r(2652),c=r(4730),u=r(926);class d{constructor(e,t,r){this.config=e,this.namespace=t,this.logger=r,this.prefix="[Data Store]",this.permutiveData={},this.permutiveDataSize=0,this.localStorageQueue=new Set,this.localStorageScheduler=new c.b(e.localStorageWriteDelay,e.localStorageWriteMaxDelay),this.debouncedFlush=this.localStorageScheduler.schedule(this.flushLocalStorageQueue.bind(this)),this.debouncedStorageKeys=new Set(e.localStorageDebouncedKeys),this.localStorageScheduler.scheduleForPageUnload(this.flushLocalStorageQueue.bind(this)),this.permutiveData=this.buildData()}reset(){this.permutiveData={}}getDataSize(){return this.permutiveDataSize}getData(e){return this.permutiveData[e]}setData(e,t){this.permutiveData[e]=t,this.requestWrite(e)}deleteKey(e){delete this.permutiveData[e],this.requestWrite(e)}requestWrite(e){this.debouncedStorageKeys.has(e)?(this.localStorageQueue.add(e),this.debouncedFlush()):this.writeData(e)}flushLocalStorageQueue(){for(let e of this.localStorageQueue)this.writeData(e);this.localStorageQueue.clear()}buildData(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.getDataChunk("misc")),this.getDataChunk("models")),this.getDataChunk("queries")),this.getDataChunk("enrichers"))}getDataChunk(e){const t=this.namespace.getNamespacedStorageKey(this.chunkKeyToStorageKey(e)),r=window.localStorage.getItem(t),n=null===r?null:(0,a.A)(r);return r&&n?(this.permutiveDataSize+=2*r.length,n):{}}chunkKeyToStorageKey(e){switch(e){case"models":return this.config.permutiveDataModelsKey;case"queries":return this.config.permutiveDataQueriesKey;case"enrichers":return this.config.permutiveDataEnrichersKey;case"misc":return this.config.permutiveDataMiscKey;default:throw new Error(`Unhandled chunk key "${e}"`)}}writeData(e){this.logger.debug(`Data Store: Writing ${e} to localStorage`);const[t,r]=this.dataKeyToChunkInfo(e);return s.Y3((()=>window.localStorage.setItem(this.namespace.getNamespacedStorageKey(t),JSON.stringify(r))),(t=>{const r=(0,i.w)(t);return this.logError(`Failed to set ${e}. Got ${r}`),r}))}dataKeyToChunkInfo(e){const t=e=>(0,o.eu)(this.permutiveData,e);switch(e){case"models_data":case"models_last_updated":return[this.chunkKeyToStorageKey("models"),t(l)];case"query_states":case"internal_query_states":case"external_query_states":case"state_offset":case"event-source-id":return[this.chunkKeyToStorageKey("queries"),t(f)];case"enricher:geoip":case"enricher:topics":return[this.chunkKeyToStorageKey("enrichers"),t(p)];case u.Kd:case"identities":case"amp_ready":case"metricsEnabled":case"addon:tradedesk":case"addon:tracking_pixel":case"addon:eyeota_pixel":case"addon:pinterest_pixel":case"addon:facebook_pixel_v2":case"addon:tiktok_pixel":case"addon:appnexus":case"addon:ddp":case"addon:gigya":case"addon:neustar_fabrick":case"pubmatic":case"lotame":return[this.chunkKeyToStorageKey("misc"),t(g)];default:throw new Error(`Unhandled data key "${e}"`)}}logError(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.error(this.prefix,...t)}}const l=["models_data","models_last_updated"],f=["query_states","internal_query_states","external_query_states","state_offset","event-source-id"],p=["enricher:geoip","enricher:topics"],g=[u.Kd,"identities","amp_ready","metricsEnabled","addon:tradedesk","addon:tracking_pixel","addon:eyeota_pixel","addon:pinterest_pixel","addon:facebook_pixel_v2","addon:tiktok_pixel","addon:appnexus","addon:ddp","addon:gigya","addon:neustar_fabrick","pubmatic","lotame"];var _=r(4769);const m=e=>{const{logger:t,consentTracking:r}=e,n=e=>(t.debug(`Data Store: Failed to write ${e} as consent is revoked`),s.F2(void 0));return e=>class extends e{constructor(){super(...arguments),this.writeData=(0,_.v)(super.writeData.bind(this),n,r.isRevoked)}}},h=(e,t,r,i)=>new((0,n.zG)(d,m({consentTracking:i,logger:r})))(e,t,r)},569:(e,t,r)=>{r.d(t,{L:()=>n});class n{constructor(e){this.config=e}getNamespacedStorageKey(e){return`${this.config.stateNamespace}${e}`}}},7575:(e,t,r)=>{r.d(t,{u:()=>n});class n{constructor(e,t){this.metrics=e,this.messages=t,this._isRealtime=!1,this._isReady=!1}isRealtime(){return this._isRealtime}isReady(){return this._isReady}setAsRealtime(e){this._isRealtime=!0,this.messages.emit("permutive:realtime"),this.metrics.trackTimeSinceInit("sdk_realtime_targeting_set_task_duration_seconds",{}),this.metrics.track({name:"sdk_user_segments_count",value:e,labels:{}})}setAsReady(){this._isReady=!0,this.messages.emit("permutive:ready"),this.metrics.trackTimeSinceInit("sdk_initialisation_task_duration_seconds",{}),window.performance&&window.performance.memory&&(this.metrics.track({name:"sdk_heap_memory_bytes_used",value:window.performance.memory.usedJSHeapSize,labels:{}}),this.metrics.track({name:"sdk_heap_memory_limit_fraction_used",value:window.performance.memory.usedJSHeapSize/window.performance.memory.jsHeapSizeLimit,labels:{}}))}}},7256:(e,t,r)=>{r.d(t,{a:()=>s});var n=r(7582),i=r(3735),a=r(7927);class s{constructor(e,t,r,n,i,a,s){this.config=e,this.localStorage=t,this.logger=r,this.permutiveData=n,this.eventSourceId=i,this.cookies=a,this.externalData=s}reset(){return(0,n.mG)(this,void 0,void 0,(function*(){return this.logger.log("Resetting State"),(0,i.zG)(this.cookies.deleteCookie(this.config.cookieName),(e=>this.externalData.removeExternalData(this.config.cookieName)),(e=>(0,a.XP)({_paols:!0,_papns:!0,_pcrdbs:!0,_pcrprs:!0,_pdfps:!0,_pfws:!0,_pnativo:!0,_prps:!0,_prubicons:!0,_psegs:!0,_psmart:!0,"permutive-id":!0,"permutive-loaded":!0,"permutive-prebid-rtd":!0,"permutive-events-cache":!0,_pssps:!0,_ppsts:!0}).forEach((e=>this.externalData.removeExternalData(e)))),(e=>this.permutiveData.reset()),(e=>this.eventSourceId.generateAndSet()),(e=>Promise.all([this.localStorage.delete(this.config.permutiveDataModelsKey),this.localStorage.delete(this.config.permutiveDataQueriesKey),this.localStorage.delete(this.config.permutiveDataEnrichersKey),this.localStorage.delete(this.config.permutiveDataMiscKey)])),i.Q1)}))}}},7274:(e,t,r)=>{r.d(t,{u:()=>n});class n{constructor(e,t,r,n,i){this.permutiveData=e,this.permutiveReset=t,this.userId=r,this.viewId=n,this.eventCollection=i}getPermutiveData(e){return this.permutiveData.getData(e)}setPermutiveData(e,t){return this.permutiveData.setData(e,t)}getStateSizeInBytes(){return this.permutiveData.getDataSize()+this.eventCollection.getStateSizeInBytes()}reset(){return this.permutiveReset.reset()}}},9117:(e,t,r)=>{r.d(t,{M:()=>o});var n=r(3735),i=r(6567),a=r(2851),s=r(2652);class o{constructor(e,t,r,i){this.config=e,this.clientContext=t,this.cookies=r,this.externalData=i;const[s,o]=a.Ue(this.getOrGenerateUserId());this.ref=s,this.setUserId=o,(0,n.zG)(s,a.YP((e=>{this.cookies.setCookie(this.config.cookieName,e),this.externalData.setExternalData(this.config.cookieName,e),this.clientContext.updateContext(["user_id",e])})))}isEqual(e){return this.ref.current===e}get(){return this.ref.current}set(e){this.setUserId(e)}getOrGenerateUserId(){return(0,i.fS)((()=>(0,i.fS)(s.k$)(this.getUserIdFromLocalStorage())))(this.getUserIdFromCookie())}getUserIdFromCookie(){return this.getUserIdFromStorageIfValid("cookie")}getUserIdFromLocalStorage(){return this.getUserIdFromStorageIfValid("localStorage")}getUserIdFromStorageIfValid(e){const t=(0,i.DT)(s.Gz);return(0,n.zG)("cookie"===e?this.cookies.getCookie(this.config.cookieName):this.externalData.getExternalData(this.config.cookieName),i.ij,(0,i.tS)(t))}}},9880:(e,t,r)=>{r.d(t,{W:()=>a});var n=r(2851),i=r(2652);class a{constructor(e){this.config=e;const t=this.useIfValidOrGenerate(e.viewId),[r,i]=n.Ue(t);this.ref=r,this.set=i}get(){return this.ref.current}generateAndSet(e){const t=this.useIfValidOrGenerate(e);return this.set(t),t}useIfValidOrGenerate(e){return"string"==typeof e&&(0,i.Gz)(e)?e:(0,i.k$)()}}},7554:(e,t,r)=>{r.d(t,{E:()=>i});var n=r(8259);const i=(e,t,r)=>{const i=window.localStorage;return(0,n.rK)(i,"[Local Storage]",e,t,r)}},9332:(e,t,r)=>{r.d(t,{u:()=>i});r(2233);var n=r(8259);const i=(e,t,r)=>{const i=window.sessionStorage;return(0,n.rK)(i,"[Session Storage]",e,t,r)}},8259:(e,t,r)=>{r.d(t,{_z:()=>d,oP:()=>u,rK:()=>f});var n=r(7582),i=r(2688),a=r(787),s=r(365),o=r(3735),c=r(4769);class u{constructor(e,t){this.storage=e,this.namespace=t}put(e,t){return(0,n.mG)(this,void 0,void 0,(function*(){const r=this.namespace.getNamespacedStorageKey(t.toString());return this.storage.setItem(r,JSON.stringify(e)),t}))}get(e){return(0,n.mG)(this,void 0,void 0,(function*(){const t=this.namespace.getNamespacedStorageKey(e.toString()),r=this.storage.getItem(t);return null===r?null:(0,a.A)(r)}))}delete(e){return(0,n.mG)(this,void 0,void 0,(function*(){const t=this.namespace.getNamespacedStorageKey(e.toString());this.storage.removeItem(t)}))}deleteStore(){return(0,n.mG)(this,void 0,void 0,(function*(){}))}}const d=e=>{const{logger:t,consentTracking:r,prefix:n}=e,i=(e,r)=>(t.debug(`${n} Failed to write ${String(r)} as consent is revoked`),Promise.resolve(r));return e=>class extends e{constructor(){super(...arguments),this.put=(0,c.v)(super.put.bind(this),i,r.isRevoked)}}},l=e=>{const{logger:t,prefix:r,storage:a}=e;return e=>class extends e{constructor(){super(...arguments),this.isSupported=null}isStorageSupported(){return null!==this.isSupported||(this.isSupported=s.Y3((()=>{const e="_permutive_ls_test";return a.setItem(e,e),a.getItem(e),a.removeItem(e),!0}),i.w),(0,o.zG)(this.isSupported,s.EQ((e=>{t.warn(`${r} Is NOT supported`,e)}),(()=>{t.debug(`${r} Is supported`)})))),this.isSupported}put(e,t){const r=Object.create(null,{put:{get:()=>super.put}});return(0,n.mG)(this,void 0,void 0,(function*(){return(0,o.zG)(this.isStorageSupported(),s.EQ((e=>{throw e}),(()=>r.put.call(this,e,t))))}))}get(e){const t=Object.create(null,{get:{get:()=>super.get}});return(0,n.mG)(this,void 0,void 0,(function*(){return(0,o.zG)(this.isStorageSupported(),s.EQ((()=>null),(()=>t.get.call(this,e))))}))}delete(e){const t=Object.create(null,{delete:{get:()=>super.delete}});return(0,n.mG)(this,void 0,void 0,(function*(){return(0,o.zG)(this.isStorageSupported(),s.EQ(o.Q1,(()=>t.delete.call(this,e))))}))}deleteStore(){const e=Object.create(null,{deleteStore:{get:()=>super.deleteStore}});return(0,n.mG)(this,void 0,void 0,(function*(){return(0,o.zG)(this.isStorageSupported(),s.EQ(o.Q1,(()=>e.deleteStore.call(this))))}))}}},f=(e,t,r,n,i)=>new((0,o.zG)(u,l({logger:n,prefix:t,storage:e}),d({logger:n,consentTracking:i,prefix:t})))(e,r)},2497:(e,t,r)=>{r.d(t,{Ec:()=>s,_8:()=>a});var n=r(6567),i=r(2652);const a=e=>{const t=e.__tcfapi,r={type:"aborted"},a=["tcloaded","useractioncomplete"];return t?(0,i.a4)((()=>o(t,"getTCData")),(()=>o(t,"getTCData").then((e=>"loaded"===(null==e?void 0:e.cmpStatus)&&a.includes(null==e?void 0:e.eventStatus))))).then((0,n.g_)((()=>r),(e=>({type:"loaded",data:e})))):Promise.resolve({type:"missing"})},s=e=>e.gdprApplies?(0,n.G)(e.vendor.consents):n.YP,o=(e,t)=>new Promise((r=>{e(t,2,(e=>{r(e)}))}))},5165:(e,t,r)=>{r.d(t,{D:()=>n});const n={tradedesk:21,ddp:755,appnexus:32,pubmatic:76,neustar_fabrick:468}},6037:(e,t,r)=>{r.d(t,{C:()=>c});var n=r(7582),i=r(1500),a=r(3735);const s=(o=[[{name:"dfp",import:Promise.resolve().then(r.bind(r,4388))}],[],[],[],[],[],[],[],[],[],[],[],[],[],[],[{name:"nativo",import:Promise.resolve().then(r.bind(r,488))}],[],[],[],[],[],[],[],[],[],[],[],[],[{name:"web",import:Promise.resolve().then(r.bind(r,4400))}],[],[],[],[]],(0,a.zG)((0,i.xH)(o),(0,i.u4)({},((e,t)=>Object.assign(Object.assign({},e),{[t.name]:t.import})))));var o;const c=e=>{const t=Object.entries(s).map((t=>{let[r,i]=t;return(0,n.mG)(void 0,void 0,void 0,(function*(){return e.logger.log(`Loading addon ${r}`),(yield i).load(e)}))}));return Promise.all(t)}},2721:(e,t,r)=>{r(9853),r(2652)},3248:(e,t,r)=>{r.d(t,{h:()=>n});const n=e=>{window.googletag=window.googletag||{cmd:[]},window.googletag.cmd.push((()=>{const t=googletag.pubads(),r=()=>{e.track("AdRequest",{ad_server_id:"dfp",cohorts:t.getTargeting("permutive")})},n=t.getSlots().filter((e=>e.getResponseInformation())).length;for(let e=0;e<n;e++)r();t.addEventListener("slotRequested",r)}))}},9624:(e,t,r)=>{r.d(t,{Y:()=>a});var n=r(3735),i=r(3328);const a=e=>{var t;const r=e.getSpecializedActivations("dfp"),a=(0,n.zG)(null!==(t=null==r?void 0:r.dfp)&&void 0!==t?t:[],i.UI(String),(e=>new Set(e)));return{id:"dfp",filterCohorts:i.hX((e=>a.has(e)))}}},9658:(e,t,r)=>{r.r(t),r.d(t,{createAddon:()=>S,getCachedDFPSegments:()=>k});var n=r(7582),i=r(2688),a=r(365),s=r(3735),o=r(6567),c=r(2851),u=r(9853),d=r(2652);const l="_pdfps";r(5700);var f=r(1500),p=r(2751);let g=!1;let _=null;const m=(e,t)=>{const{logger:r}=t;(0,s.zG)(e,o.UI((e=>{!0!==g&&e.pubadsReady&&(null!=_||(_=n=>{let{slot:i}=n;const{getContentUrl:a}=i;if(!a||"function"!=typeof a)return;(0,s.zG)(a(),(0,p.pn)("&trunc=1"))&&(r.debug("DFP content URL has been truncated!"),(e=>{let{metrics:t,logger:r}=e;g||(t.track({name:"sdk_targeting_size_limit_exceeded_count",value:1,labels:{target:"dfp"}}),g=!0,r.debug("DFP has exceeded targeting limit"))})(t),_&&e.pubads().removeEventListener("slotRenderEnded",_),_=null)}),e.pubads().addEventListener("slotRenderEnded",_))})))},h=(e,t,r,n)=>{const{logger:i}=t;m(e,t);(0,s.zG)(e,o.UI((e=>(e=>{e.cmd.push((()=>{const{getTargeting:t,setTargeting:a}=e.pubads(),s=t("permutive")||[],o=Object.values(r.eligibleSegments).map(String).concat(r.cloudCohorts).concat("rts"),c=(0,f.uK)((e=>o.includes(e))),{left:u}=c(s),d=n.concat(u).concat("rts");i.debug("DFP setting GPT targeting to",d),a("permutive",d)}))})(e))))};var v=r(4388),b=r(9624);const y={liveSegments:[],cloudCohorts:[],eligibleSegments:{}},w={segments:y,getGAMKeyValues:()=>({permutive:""})},k=e=>e.getExternalJsonData(l)||[],E=(e,t,r)=>{const{logger:n,externalData:a,api:s}=t;let o=r.map(String).concat(y.cloudCohorts);n.debug("DFP is updating with targeting values",o),h(e,t,y,o);try{a.setExternalJsonData(l,o)}catch(e){const t=(0,i.w)(e),r="DFP failed to set data. Got:";n.error(r,t),s.reportError(`${r} ${t.message}`)}return((e,t)=>{let{api:r,logger:n}=e;(0,u.$S)("sync_segments_cookie",!1)?(n.debug("DFP syncing segment cookie _pdfps"),r.segmentSync({key:l,value:t})):n.debug("DFP sync segments cookie not enabled, skipping sync")})(t,JSON.stringify(o)),n.debug("DFP live segments updated to",r),r},S=e=>(0,n.mG)(void 0,void 0,void 0,(function*(){const{api:t,logger:r,activationManager:n,messages:i,externalData:u,nextGenOutput:f,userId:p,cookies:g}=e,_=yield(0,d.a4)((()=>window.googletag),(()=>!!window.googletag),{waitTimeInMs:10,maxAttempts:200,exponentialBackOff:!1});o.Wi(_)&&r.error("[DFP]: unable to find google tag script on the page"),(0,s.zG)(_,o.UI((e=>(e=>e.cmd.push((()=>e.pubads().setTargeting("prmtvsdk","web"))))(e))));w.getGAMKeyValues=()=>Object.assign(Object.assign({},(0,s.zG)((0,v.generateProjectSpecificKVs)(e),a.Vn((e=>{var r;return r=e,t.reportError(`[DFP] ${r}`,p.get()),e})),a.fS((()=>({}))))),{permutive:w.segments.liveSegments.join(",")}),y.eligibleSegments=(e=>{const t=e.getSpecializedActivations("dfp"),r={};for(const e of t.dfp)r[e]=e;for(const e of Object.keys(t.dfp_legacy)){const n=Number(e);r[n]=t.dfp_legacy[n]}return r})(n);const m=(0,s.zG)(f.queryLanguageCohorts.all,c.UI((e=>(r.debug("DFP received QL segments",{qlSegments:e}),((e,t)=>e.filter((e=>e in t)).map((e=>t[e])))(e,y.eligibleSegments)))),c.D8(d.cO)),h=f.nonQLCohorts((0,b.Y)(n));return(0,s.zG)(c.vP(m,h),c.YP((0,d.Z_)(t,p,(t=>{let[n,i]=t;r.debug("DFP received updated cohorts",{filteredQlSegments:n,cloudCohorts:i}),y.cloudCohorts=i,y.liveSegments=E(_,e,n)})))),r.debug("DFP initialised with segments",y),i.on("permutive:reset",(0,d.Z_)(t,p,(()=>{r.debug("DFP received 'permutive:reset' event"),u.removeExternalData(l),g.deleteCookie(l)}))),i.emit("permutive:dfp:ready"),w}))},4388:(e,t,r)=>{r.r(t),r.d(t,{generateProjectSpecificKVs:()=>P,load:()=>f});var n=r(2688),i=r(365),a=r(6567),s=r(3735),o=r(922),c=r(9853),u=r(2652),d=r(9658);const l={},f=e=>{(0,c.Hn)("dfp")("auto_init",!1)&&e.q.push({functionName:"addon",arguments:["dfp",{}]}),window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((()=>p(e)))},p=e=>{e.permutive.ready((0,u.Z_)(e.api,e.userId,(()=>E(e.metrics))),"realtime");S(e.externalData);(0,s.zG)(P(e),i.tS((e=>i.Y3((()=>(0,u.qh)(e).forEach((e=>{let[t,r]=e;googletag.pubads().setTargeting(t,r)}))),n.w))),i.Vn((t=>e.api.reportError(`[DFP:load], ${t}`,e.userId.get())))),b(e.permutive),googletag.cmd.push((()=>{y(e.permutive),w(e.permutive)})),window.addEventListener("message",_(e.permutive),!1)},g=e=>{let{advertiserId:t,campaignId:r,lineItemId:n,creativeId:i}=e;return{advertiser_id:(0,u.rH)(t),campaign_id:(0,u.rH)(r),line_item_id:(0,u.rH)(n),creative_id:(0,u.rH)(i)}},_=e=>t=>{var r;try{const n=JSON.parse(t.data);if(!n.permutive_type||"google_ad_click"!==n.permutive_type)return;const{ad_unit_path:i,creative_id:a,advertiser_id:s,order_id:o,line_item_id:c}=null!==(r=null==n?void 0:n.data)&&void 0!==r?r:{},u=g({lineItemId:c,advertiserId:s,campaignId:o,creativeId:a});let d;Object.keys(l).some((e=>{const{slot:t,creative_id:r}=l[e];if((null==t?void 0:t.ad_unit_path)===i&&r===u.creative_id)return d=l[e],!0})),d=null!=d?d:Object.assign(Object.assign({},u),{is_empty:!1}),m(e,d)}catch(e){}},m=(e,t)=>{o.PH&&t&&e.track("SlotClicked",t)},h={},v=(e,t,r)=>{l[t]=r,k(e,r),h[t]&&h[t](),h[t]=D(e,t)},b=e=>{const t=googletag.pubadsReady&&googletag.pubads().getSlots();t&&t.forEach((t=>{const r=t.getResponseInformation();if(!r)return;const n=Object.assign(Object.assign({},g(r)),{is_empty:!1,service_name:"publisher_ads",slot:I(t)}),i=t.getSlotElementId();v(e,i,n)}))},y=e=>{googletag.pubads().addEventListener("slotRenderEnded",(t=>{const r=Object.assign(Object.assign({},g(t)),{is_empty:t.isEmpty,service_name:t.serviceName,slot:I(t.slot)});if(t.size){const[e,n]=t.size;"number"==typeof e&&"number"==typeof n&&(r.width=e,r.height=n)}const n=t.slot.getSlotElementId();v(e,n,r)}))},w=e=>{o.EW&&googletag.pubads().addEventListener("impressionViewable",(t=>{let{slot:r,serviceName:n}=t;const i=r.getResponseInformation();if(!i)return;const a=Object.assign(Object.assign({},g(i)),{service_name:n,slot:I(r)});e.track("SlotViewable",a)}))},k=(e,t)=>{if(!o.CL)return;var r;r=Object.assign(Object.assign({},t),{rendered_timestamp:Date.now()}),e.track("SlotRendered",r)},E=e=>{let t=0;const r=googletag.pubadsReady&&googletag.pubads().getSlots();r&&r.forEach((e=>e.getResponseInformation()&&t++));const n=0===t?"sdk_targeting_realtime_success_count":"sdk_targeting_realtime_fail_count";e.track({name:n,value:1,labels:{target:"dfp"}})},S=e=>{const t=(0,d.getCachedDFPSegments)(e);googletag.cmd.push((()=>{const{getTargeting:e,setTargeting:r}=googletag.pubads(),n=e("permutive")||[];r("permutive",[...new Set([...t.map(String),...n])])}))},I=e=>{const t={ad_unit_path:e.getAdUnitPath(),slot_element_id:e.getSlotElementId()};return o.jH?Object.assign(Object.assign({},t),(()=>{const t={},r=[];let n=[];const i=(e,i)=>{const a="slot"===e?e=>t[e]=1:()=>{},s=i.getTargetingKeys();n=s;for(let s=0;s<n.length;s++){const o=n[s];if(void 0!==t[o]&&"service"===e)continue;const c=[],u=i.getTargeting(o);for(let e=0;e<u.length;e++)c.push(u[e].toString());c.length>0&&(a(o),r.push({key:o,value:c}))}};return i("slot",e),i("service",googletag.pubads()),{targeting_keys:r}})()):t},D=(e,t)=>{let r=[];const n=()=>(0,s.zG)((0,s.bc)((0,s.zG)(a.Y3((()=>document.getElementById(t))),a.tS(a.ij),a.tS(a.KQ((e=>e.querySelector("iframe"))))),a.ij(document.activeElement)),a.RD,a.UI((r=>{let[n,i]=r;"hidden"===document.visibilityState&&n===i&&m(e,l[t])})));return document.addEventListener("visibilitychange",n),r.push((()=>document.removeEventListener("visibilitychange",n))),()=>{r.forEach((e=>e())),r=[]}},P=e=>{let{userId:t,viewId:r}=e;return i.Y3((()=>({})),n.w)}},4400:(e,t,r)=>{r.r(t),r.d(t,{WebAddon:()=>I,load:()=>S});var n=r(7582),i=r(2688),a=r(365),s=r(3735),o=r(4011),c=r(6567),u=r(7209),d=r(6341),l=r(922),f=r(9853),p=r(2652);const g=(0,f.MU)("add_alchemy_entities",!1),_=(0,f.MU)("add_alchemy_taxonomy",!1);function m(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object.assign(Object.assign(Object.assign(Object.assign({},e&&_?{taxonomy_labels:"$alchemy_taxonomy_labels"}:{}),e&&g?{entity_names:"$alchemy_entity_names"}:{}),{}),{})}function h(e,t,r,n){const i=Object.assign(Object.assign(Object.assign({isp_info:"$ip_isp_info",geo_info:"$ip_geo_info"},{}),e),t);r.track("Pageview",i).then((e=>{e&&n.emit("permutive:event:pageview",e)}))}function v(e,t,r,n,i,a){let s=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:c.YP;const u=b(e,t,r,n,i),d=(0,c.fS)((()=>null))(o);let l={useBeacon:s};return null!==d&&(l=Object.assign(Object.assign({},l),{unprocessedData:d})),a.track("PageviewComplete",u,l)}function b(e,t,r,n,i){return Object.assign(Object.assign(Object.assign({isp_info:"$ip_isp_info",geo_info:"$ip_geo_info"},n),r),{aggregations:Object.assign({PageviewEngagement:Object.assign({engaged_time:e},{completion:t})},l.ED?{SegmentEntry:Array.from(i.segmentEntryQueryCodes),SegmentExit:Array.from(i.segmentExitQueryCodes),CohortEntry:Array.from(i.cohortEntryQueryCodes),CohortExit:Array.from(i.cohortExitQueryCodes)}:{})})}var y=r(3992);const w=["mousemove","click","scroll"],k=["email","tel","submit","reset","button","file","password","radio","checkbox"],E=["email","e-mail","password","tel","telephone","phone","name_first","name_last","sa_zip"],S=e=>{(0,f.Hn)("web")("auto_init",!1)&&e.q.push({functionName:"addon",arguments:["web",{auto_init:!0}]})};class I{constructor(e){this.dirtyState=!1,this.cancelEngagementTimer=()=>{},this.totalCompletion=0,this.totalEngagedTime=0,this.cancelPageviewCompleteTimer=()=>{},this.hasPageviewCompleteFired=!1,this.cleanupPageEngagementDetection=s.Q1,this.permutive=e.permutive,this.options=e,this.api=e.api,this.clientContext=e.clientContext,this.logger=e.logger,this.unprocessedPVC=e.unprocessedEvents.PageviewComplete,this.options.customProperties.overrideCustomProps(e.page||{});this.pageEngagementDetected=(()=>{this.dirtyState=!0,l.Uy&&this.resetTimeout()}).bind(this),h(m(this.clientContext.getContext().isArticle),this.options.customProperties.getCustomProps(),this.permutive,this.options.messages),this.enablePageEngagementDetection(),"loading"!==document.readyState?this.attachListeners():window.addEventListener("DOMContentLoaded",this.attachListeners.bind(this),!1),l.t2&&(this.cancelEngagementTimer=this.registerEngagementInterval(this.getEventInterval())),l.Uy&&(this.setPageviewCompleteTimeout(l.MU),(0,p.aT)((()=>{this.hasPageviewCompleteFired||v(this.totalEngagedTime,this.totalCompletion,m(this.clientContext.getContext().isArticle),this.options.customProperties.getCustomProps(),this.options.queryManager,this.permutive)})))}sendFormSubmissionEvent(e){{const t=e.currentTarget,r={form:Object.assign(Object.assign(Object.assign({method:t.method||"GET",properties:this.serializeForm(t)},"string"==typeof t.id?{id:t.id}:{}),t.name&&"string"==typeof t.name?{name:t.name}:{}),t.action&&"string"==typeof t.action?{action:t.action}:{})};this.permutive.track("FormSubmission",r)}}trackEngagementInterval(e){return(0,n.mG)(this,void 0,void 0,(function*(){const t=this.updateState(e);!function(e,t,r,n,i,a){const s=Object.assign(Object.assign({isp_info:"$ip_isp_info",geo_info:"$ip_geo_info",engaged_time:e,total_engaged_time:t},i),{completion:r,total_completion:n});a.track("PageviewEngagement",s)}(t.engaged_time,t.total_engaged_time,t.completion,t.total_completion,this.options.customProperties.getCustomProps(),this.permutive),this.hasPageviewCompleteFired||(yield function(e,t,r,n,i,a,s,o,c){const u=b(e,t,s,o,c);return i.then((e=>{const t={props:u,sessionId:r,viewId:n,client:e};a.put(t)}))}(this.totalEngagedTime,this.totalCompletion,this.options.sessionManager.getSessionId(),this.options.viewId.get(),this.clientContext.getClient(),this.unprocessedPVC,m(this.clientContext.getContext().isArticle),this.options.customProperties.getCustomProps(),this.options.queryManager))}))}reset(e){var t,r;return(0,n.mG)(this,void 0,void 0,(function*(){if(this.disablePageEngagementDetection(),l.Uy){const e=yield this.unprocessedPVC.getIfPresent();this.hasPageviewCompleteFired=!1,yield v(this.totalEngagedTime,this.totalCompletion,m(this.clientContext.getContext().isArticle),this.options.customProperties.getCustomProps(),this.options.queryManager,this.permutive,!1,e)}this.dirtyState=!1;const n=this.updateWebOptions(e);this.options.state.viewId.generateAndSet(null===(t=n.context)||void 0===t?void 0:t.view_id),this.totalCompletion=0,this.totalEngagedTime=0,this.options.customProperties.overrideCustomProps(this.options.page||{}),this.enablePageEngagementDetection();const i={logger:this.logger,config:Object.assign(Object.assign({},this.options.config),{watson:null!==(r=this.options.watson)&&void 0!==r?r:this.options.config.watson}),clientContext:this.clientContext,api:this.api,permutiveData:this.options.permutiveData,metrics:this.options.metrics,sessionManager:this.options.sessionManager,enrichers:this.options.enrichers,network:this.options.network,externalData:this.options.externalData};(0,d.H)(i)().then((()=>{h(m(this.clientContext.getContext().isArticle),this.options.customProperties.getCustomProps(),this.permutive,this.options.messages),l.t2&&(this.cancelEngagementTimer(),this.cancelEngagementTimer=this.registerEngagementInterval(this.getEventInterval()))}))}))}serializeForm(e){return[...e.getElementsByTagName("input")].filter((e=>!(!e.type||!e.id||e.disabled||e.checked||"fieldset"===e.nodeName.toLowerCase()||-1!==k.indexOf(e.type.toLowerCase())||-1!==E.indexOf(e.name.toLowerCase())))).map((e=>({name:e.name||e.id,value:e.value}))).filter((e=>e.value.length<120))}registerEngagementInterval(e){return(0,y.UM)((()=>{this.dirtyState&&this.trackEngagementInterval(e)}),1e3*e)}attachListeners(){const e=e=>"a"===e.tagName.toLowerCase(),t=e=>e instanceof Element,r=t=>e(t)?(0,c.G)(t):t.parentElement?e(t.parentElement)?(0,c.G)(t.parentElement):r(t.parentElement):c.YP;l.eV&&[].slice.call(document.getElementsByTagName("form"),0).forEach((e=>e.addEventListener("submit",(0,s.ls)(c.DT(this.canTrackPermutiveEvent("FormSubmission")),c.UI((0,p.Z_)(this.options.api,this.options.userId,this.sendFormSubmissionEvent.bind(this)))))));(0,f.MU)("track_link_click",!0)&&document.body.addEventListener("click",(0,s.ls)(c.DT(this.canTrackPermutiveEvent("LinkClick")),c.UI((e=>({event:e,anchor:(0,s.zG)(e.target,c.ij,c.tS(c.DT(t)),c.tS(r))}))),c.DZ((e=>{let{event:t,anchor:r}=e;return c.pC(r)?c.G({event:t,anchor:r.value}):c.YP})),c.UI((e=>{let{event:t,anchor:r}=e;return D(this.permutive,r,(n=t,!("_blank"===r.target||n.metaKey||n.ctrlKey||n.shiftKey||2===n.which||3===n.which)));var n}))),{capture:!0})}updateState(e){const t=Math.max(this.totalCompletion,this.getCurrentCompletion()),r=t-this.totalCompletion;return this.totalEngagedTime+=e,this.totalCompletion=t,this.dirtyState=!1,{engaged_time:e,total_engaged_time:this.totalEngagedTime,completion:r,total_completion:this.totalCompletion}}getCurrentCompletion(){if("function"==typeof this.options.getPageCompletion)return(0,s.zG)((0,a.Y3)((0,s.ls)(this.options.getPageCompletion,Number,(e=>isNaN(e)?0:e),(0,u.uZ)(o.Df)(0,1)),i.w),(0,a.EQ)((e=>(this.logger.warn("Web: invoking getPageCompletion threw an error. Got",e),0)),(e=>(this.logger.debug("Web: invoking getPageCompletion returned",e),e))));return(()=>{const e=document.documentElement.scrollHeight,t=window.pageYOffset+window.innerHeight;return t<=0?0:t>=e?1:t/e})()}setPageviewCompleteTimeout(e){return(0,y.HJ)((()=>{this.hasPageviewCompleteFired||(v(this.totalEngagedTime,this.totalCompletion,m(this.clientContext.getContext().isArticle),this.options.customProperties.getCustomProps(),this.options.queryManager,this.permutive,!1),this.hasPageviewCompleteFired=!0)}),e)}resetTimeout(){this.cancelPageviewCompleteTimer(),this.cancelPageviewCompleteTimer=this.setPageviewCompleteTimeout(l.MU)}registerPageEngagementCleanup(e){"function"==typeof e?this.cleanupPageEngagementDetection=()=>(0,a.Y3)((()=>{e(),this.cleanupPageEngagementDetection=s.Q1}),(e=>this.logger.warn("Page detection cleanup threw an error",(0,i.w)(e)))):this.logger.warn("No page detection cleanup was registered")}enablePageEngagementDetection(){this.options.addPageEngagementDetection&&(0,s.zG)(this.options.addPageEngagementDetection(this.pageEngagementDetected),(e=>this.registerPageEngagementCleanup(e))),this.setDirtyEventListenersTo(!0,this.getDirtyEvents())}disablePageEngagementDetection(){this.cleanupPageEngagementDetection(),this.setDirtyEventListenersTo(!1,this.getDirtyEvents())}setDirtyEventListenersTo(e,t){const r=e?window.addEventListener:window.removeEventListener;return t.forEach((e=>r(e,this.pageEngagementDetected))),null}getDirtyEvents(){return this.options.dirtyEvents||w}getEventInterval(){return this.options.eventInterval||5}canTrackPermutiveEvent(e){return t=>{var r,n;return(0,s.zG)(null===(n=null===(r=this.options)||void 0===r?void 0:r.filterPermutiveEvent)||void 0===n?void 0:n[e],c.DT((e=>"function"==typeof e)),c.tS((0,s.ls)((e=>a.Y3((()=>e(t)),(e=>new Error(`Threw an unexpected error: ${(0,i.w)(e)}`)))),a.tS(a.DT((e=>"boolean"==typeof e),(()=>new Error("Did not return a boolean")))),(0,p.bw)(a.Vn((t=>this.logger.error(`Filter predicate for "${e}" event failed`,t)))),c.Uo)),c.fS((()=>!0)))}}updateWebOptions(e){(0,p.Kn)(e)||(e={}),e.watson&&"object"==typeof e.watson&&"enabled"in e.watson&&"boolean"==typeof e.watson.enabled||delete e.watson,"object"==typeof e.filterPermutiveEvent&&null!==e.filterPermutiveEvent||delete e.filterPermutiveEvent,"context"in e&&!(0,p.Kn)(e.context)&&delete e.context;const t={addPageEngagementDetection:void 0,context:void 0,dirtyEvents:void 0,eventInterval:void 0,filterPermutiveEvent:void 0,getPageCompletion:void 0,page:void 0,watson:void 0};return this.options=Object.assign(Object.assign(Object.assign({},this.options),t),e)}}const D=(e,t,r)=>{if(window.location.href&&t.href){const n=0===t.href.indexOf("data:")?"NOT_URL":t.href;e.track("LinkClick",{dest_url:n},{useBeacon:r})}}},9078:(e,t,r)=>{r.d(t,{a:()=>n});class n{constructor(e){var t;this.messages=e,this.handlers={},this.messageQueue={};null===(t=window.addEventListener)||void 0===t||t.call(window,"message",(e=>{var t;"permutive"===(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.origin)&&this.handle(e)}),!1),this.messages.once("permutive:api:ready",(function(){var e;null===(e=window.postMessage)||void 0===e||e.call(window,{origin:"permutive",type:"sdk-init"},"*")}))}listen(e,t){if(e in this.handlers||(this.handlers[e]=[]),this.handlers[e].push(t),e in this.messageQueue){const t=this.messageQueue[e];if(void 0===t)return;for(let e=0;e<t.length;e++){const r=t[e];this.handle(r)}}}handle(e){var t,r,n;if(e.data.type in this.handlers)this.handlers[e.data.type].forEach((t=>{t(e)}));else{(null!==(t=(r=this.messageQueue)[n=e.data.type])&&void 0!==t?t:r[n]=[]).push(e)}}}},533:(e,t,r)=>{r.d(t,{o:()=>n,s:()=>i});class n extends Error{constructor(){super(n.defaultMessage),this.name=n.errorName}static get defaultMessage(){return"Network request failed"}}n.errorName="NetworkRequestFailedError";class i extends Error{constructor(){super(i.defaultMessage),this.name=i.errorName}static get defaultMessage(){return"Network request timed out"}}i.errorName="NetworkRequestTimeoutError"},7423:(e,t,r)=>{r.d(t,{F:()=>d});var n=r(7582),i=r(2688),a=r(3735),s=r(6567),o=r(3328),c=r(3030),u=r(533);class d{constructor(e,t,r,n,i){this.urls=e,this.config=t,this.network=r,this.metricsCollector=n,this.logger=i,this.prefix="[API]"}identify(e,t,r){const n=()=>this.reqWithMetrics(e,"sdk_http_identify_seconds",{url:this.urls.getEndpointUrl("/identify",s.G(this.config.apiVersion)),method:"POST",payload:{user_id:t.get(),aliases:r},contentType:"text/plain",dataType:"json",withCredentials:!0});return this.identifyPromise?this.identifyPromise=this.identifyPromise.then(n):this.identifyPromise=n()}metrics(e){return this.network.req({url:this.urls.getEndpointUrl("/internal/metrics",s.G(this.config.apiVersion)),method:"POST",payload:e,contentType:"text/plain",dataType:"text",withCredentials:!1})}metricsBeacon(e){return this.network.reqWithBeacon({url:this.urls.getEndpointUrl("/internal/metrics",s.G(this.config.apiVersion)),payload:e})}track(e,t,r){const n=this.getTrackUrl(t,{isFullyEnriched:r,useBeacon:!1});return this.reqWithMetrics(e,"sdk_http_events_seconds",{url:n,method:"POST",payload:t,contentType:"text/plain",dataType:"json",withCredentials:!1})}trackBatch(e,t){const r=this.getTrackUrl(t,{isFullyEnriched:!0,useBeacon:!1});return this.reqWithMetrics(e,"sdk_http_events_seconds",{url:r,method:"POST",payload:t,contentType:"text/plain",dataType:"json",withCredentials:!1})}trackBeacon(e,t){const r=this.getTrackUrl(e,{isFullyEnriched:t,useBeacon:!0});return this.network.reqWithBeacon({url:r,payload:e})}trackBatchBeacon(e){const t=this.getTrackUrl(e,{isFullyEnriched:!0,useBeacon:!0});return this.network.reqWithBeacon({url:t,payload:e})}reset(e){return this.reqWithMetrics(e,"sdk_http_reset_seconds",{url:this.urls.getEndpointUrl("/reset",s.G(this.config.apiVersion)),method:"POST",payload:null,contentType:"text/plain",dataType:"json",withCredentials:!0})}segmentSync(e){return this.network.req({url:`https://${this.config.segmentSyncApiHost}/sync/${e.key}`,method:"POST",payload:`value=${encodeURIComponent(e.value)}`,contentType:"application/x-www-form-urlencoded",dataType:"json",withCredentials:!0})}modelsBinary(e){return this.reqWithMetrics(e,"sdk_http_models_seconds",{url:this.getModelsUrl("binary"),method:"GET",contentType:"text/plain",dataType:"binary",withCredentials:!1})}modelsJson(e){return this.reqWithMetrics(e,"sdk_http_models_seconds",{url:this.getModelsUrl("json"),method:"GET",contentType:"text/plain",dataType:"json",withCredentials:!1})}state(e,t,r,n,i,a){return this.reqWithMetrics(e,"sdk_http_reset_seconds",{url:this.urls.getEndpointUrl("/state",s.G("v1.0"),[["fetch_unseen",JSON.stringify(a)]]),method:"POST",payload:{group_id:t,event_source_id:r,state:JSON.stringify(n),last_seen_offset:i},contentType:"text/plain",dataType:"json",withCredentials:!1})}appnexus(e){return this.network.req({url:e,method:"GET",contentType:"text/plain",dataType:"json",withCredentials:!0,timeout:2e3})}pxid(e){return this.network.req({url:this.urls.makeAuthenticatedUrl(e),method:"GET",contentType:"text/plain",dataType:"json",withCredentials:!0,timeout:2e3})}queries(){const e={addons:{dfp:{activations:{dfp:[],dfp_legacy:{}},auto_init:!0,track_slot_rendered:!1,track_slot_viewable:!1,track_slot_clicked:!1,track_targeting_keys:!1,sync_segments_cookie:!1},web:{auto_init:!1,track_pageview_engagement:!0,track_pageview_complete:!0,track_form_submission:!1,track_link_click:!1,engagement_edge_only:!0,segment_transition_edge_only:!1}},queries:{queries:{},eventSegments:{},eventsLookup:[],literalsLookup:[],subexpressionsLookup:[],stateSyncReplays:[],propertiesLookup:[]},queries_metadata:{}},t=`${this.config.cdnBaseUrl.startsWith("dev.local:")?"http":"https"}://${this.config.cdnBaseUrl}/queries/507b28fb-2ef1-4c34-8bda-ba32030bb199-amp.json`;return this.network.req({url:t,withCredentials:!1,dataType:"json",method:"GET"}).catch((()=>e))}pxidReset(e){return this.network.req({url:this.urls.makeAuthenticatedUrl(e),method:"POST",payload:null,contentType:"text/plain",dataType:"json",withCredentials:!0})}uploadCohortMemberships(e,t){return this.reqWithMetrics(e,"sdk_http_upload_cohort_memberships_seconds",{url:this.urls.getCCSCohortMembershipEndpointUrl("/amp/cohorts",s.G("alpha"),[["i",t.user_id]]),method:"POST",payload:t,contentType:"text/plain",dataType:"json",withCredentials:!1})}reqWithMetrics(e,t,r){const n=e.startTimer(t,{});return this.network.req(r).then((r=>(0,a.zG)(e.stopTimer(t,n),(e=>r))))}reportError(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Date;return(0,n.mG)(this,void 0,void 0,(function*(){const d=(0,i.w)(e);if(this.logError("Reporting error:\n",d),!this.config.sendClientErrors)return void this.logDebug("Send errors not enabled. Skipping");const l=e=>this.network.req({url:this.urls.getSdkErrorsUrl("/errors",s.G(this.config.sdkErrorsApiVersion)),method:"POST",payload:[e],contentType:"text/plain",dataType:"text",withCredentials:!1}),f=e=>{this.metricsCollector.track({name:"sdk_http_generic_network_request_fail_count_total",value:1,labels:{network_error_type:e}})};yield(0,a.zG)([u.o,u.s],o.Ew((e=>d.name===e.errorName||d.message.indexOf(e.errorName)>=0||d.message.indexOf(e.defaultMessage)>=0)),s.g_((()=>{const e=(()=>{var e,n,i,a,s,o,u,l;const f={error_message:null!==(n=null===(e=null==d?void 0:d.message)||void 0===e?void 0:e.toString())&&void 0!==n?n:"",stack_trace:null===(i=null==d?void 0:d.stack)||void 0===i?void 0:i.split("\n")},p=t?{user_id:t}:{};return Object.assign({platform:"web",sdk_version:"v19.111.1",ql_runtime_version:"v10.0.2",timestamp:r,domain:null!==(s=null===(a=null===window||void 0===window?void 0:window.location)||void 0===a?void 0:a.hostname)&&void 0!==s?s:"",url:(0,c.bk)(null===(o=null===window||void 0===window?void 0:window.location)||void 0===o?void 0:o.href),referrer:(0,c.bk)(null===document||void 0===document?void 0:document.referrer),user_agent:null!==(u=null===navigator||void 0===navigator?void 0:navigator.userAgent)&&void 0!==u?u:"",error_message:null!==(l=f.error_message)&&void 0!==l?l:String(d),stack_trace:f.stack_trace},p)})();return l(e).catch((0,a.ls)(i.w,(e=>this.logError(e))))}),(e=>(0,n.mG)(this,void 0,void 0,(function*(){return f(e.errorName)})))))}))}getTrackUrl(e,t){const{isFullyEnriched:r,useBeacon:n}=t,i=Array.isArray(e),a=!r;return this.urls.getEndpointUrl(i?"/batch/events":"/events",s.G(this.config.apiVersion),[["enrich",JSON.stringify(a)],["sdkp",JSON.stringify(!n)]])}getModelsUrl(e){const t=`https://${this.config.cdnBaseUrl}`;switch(e){case"binary":return`${t}/models/v2/507b28fb-2ef1-4c34-8bda-ba32030bb199-models.bin`;case"json":return`${t}/models/507b28fb-2ef1-4c34-8bda-ba32030bb199-models.json`}}logDebug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.debug(this.prefix,...t)}logError(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.error(this.prefix,...t)}}},4586:(e,t,r)=>{r.d(t,{E:()=>o});var n=r(365),i=r(3735),a=r(533),s=r(3992);class o{constructor(){}req(e){return this.reqImpl(e).then((e=>(0,i.MZ)(e)))}reqWithBeacon(e){let{url:t,payload:r}=e;return null===navigator||void 0===navigator?void 0:navigator.sendBeacon(t,JSON.stringify(r))}reqImpl(e){const{url:t,dataType:r,contentType:i,method:o,withCredentials:c,timeout:u}=e;return new Promise(((d,l)=>{const f=new XMLHttpRequest,p="POST"===e.method?"string"==typeof(g=e.payload)?g:JSON.stringify(g):null;var g;f.onload=(0,s.GL)((function(){if(f.status>=400){const e="text"===f.responseType||""===f.responseType?f.responseText:"Couldn't access response text";l(`Failed ajax request. Status code was ${f.status}. ${e}`)}else if("json"===r){const e=f.responseText?(0,n.Y3)((()=>JSON.parse(f.responseText)),(e=>`Failed to parse response as JSON. Response was ${JSON.stringify(f.responseText)}. Got ${e}`)):(0,n.F2)(null);(0,n.g_)(l,d)(e)}else d("text"===r?f.responseText:f.response)})),f.onerror=(0,s.GL)((()=>l(new a.o))),f.ontimeout=(0,s.GL)((()=>l(new a.s))),f.open(o,t,!0),i&&f.setRequestHeader("content-type",i),f.timeout=u||f.timeout,f.withCredentials=c||f.withCredentials,f.responseType="binary"===r?"arraybuffer":f.responseType,f.send(p)}))}}},310:(e,t,r)=>{r.d(t,{s:()=>i});var n=r(6567);class i{constructor(e){this.config=e,this.PATH_JOINER_Q="?",this.PATH_JOINER_A="&"}getEndpointUrl(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getUrl("base",e,t,r)}getSdkErrorsUrl(e,t){return this.getUrl("sdk-errors",e,t,[])}getAdvertiserEndpointUrl(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getUrl("adv",e,t,r)}getClassificationModelsEndpointUrl(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getUrl("clm",e,t,r)}getAudienceMatchingEndpointUrl(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];const i=`${e}/${r}/audiences`;return this.getUrl("audience-matching",i,t,n)}getCCSCohortMembershipEndpointUrl(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.getUrl("ccs",e,t,r)}makeAuthenticatedUrl(e){return this.makeUrlWithQueryParams(e,[["k",this.config.apiKey]])}getUrlPrefix(e){switch(e){case"base":return"";case"adv":return"/adv";case"sdk-errors":return"/sdk-errors";case"clm":return"/clm";case"audience-matching":return"/audience-matching";case"ccs":return"/ccs"}}getUrl(e,t,r,i){const a=this.getUrlPrefix(e),s=(0,n.g_)((()=>""),(e=>`/${e}`))(r),o=`${this.config.apiProtocol}://${this.config.apiHost}${a}${s}${t}`;return this.makeUrlWithQueryParams(o,i.concat([["k",this.config.apiKey]]))}makeUrlWithQueryParams(e,t){const r=t.map((e=>{let[t,r]=e;return`${t}=${r}`})).join(this.PATH_JOINER_A),n=e.includes(this.PATH_JOINER_Q)?this.PATH_JOINER_A:this.PATH_JOINER_Q;return`${e}${n}${r}`}}},2515:(e,t,r)=>{r.r(t),r.d(t,{nextGenWeb:()=>Cr,runNextGenFeaturesWeb:()=>Mr});var n=r(7582),i=r(2116);class a{constructor(){this.events=[],this.listeners=[]}newEvent(e,t){this.events.push([e,t]),[...this.listeners].forEach((r=>{this.handle(e,t,r)}))}addListener(e){this.listeners.push(e);const t={replay:()=>(this.replay(e),t),remove:()=>(this.remove(e),t)};return t}handle(e,t,r){const n="string"==typeof r.name&&e.name===r.name,i=r.name.test&&r.name.test(e.name),a=n||i;if(a)try{r.callback(e,t)}catch(e){window.console&&window.console.error&&window.console.error("callback error: ",e)}a&&r.once&&this.remove(r)}replay(e){let t=-1!==this.listeners.indexOf(e);for(let r=0;r<this.events.length&&t;r++)this.handle(this.events[r][0],this.events[r][1],e),t=-1!==this.listeners.indexOf(e)}remove(e){const t=this.listeners.indexOf(e);-1!==t&&this.listeners.splice(t,1)}}var s=r(2688),o=r(3735);const c=e=>({id:e.id,name:e.name,time:new Date(e.time),properties:e.properties||{},session_id:e.session_id,view_id:e.view_id}),u=e=>({id:e.id,name:e.name,time:(f(e.time)?e.time:new Date).toISOString(),properties:e.properties||{},session_id:e.session_id,view_id:e.view_id}),d=(e,t)=>({id:e.id,time:new Date(e.time),name:t.name,properties:t.properties,session_id:t.session_id,view_id:t.view_id}),l=e=>void 0!==e.request_id,f=e=>isFinite(e)&&e instanceof Date;var p=r(4730);class g{constructor(e,t,r,n,i){this.eventHandler=e,this.api=t,this.metrics=r,this.userId=n,this.eventsCache=i,this.DEBOUNCE_TIME=500,this.MAX_DEBOUNCE_TIME=5e3,this.batch={requestData:[],requestOptions:[],processingStrategies:[]},this.scheduler=new p.b(this.DEBOUNCE_TIME,this.MAX_DEBOUNCE_TIME),this.debouncedFlushIfNotEmpty=this.scheduler.schedule(this.flush.bind(this)),this.scheduler.scheduleForPageUnload((()=>this.flushWithBeacon.bind(this)(this.batch)))}add(e,t,r){return this.batch.requestData.push(e),this.batch.requestOptions.push(t),this.batch.processingStrategies.push(r),this.debouncedFlushIfNotEmpty(this.batch),Promise.resolve()}flush(e){return this.flushIfNotEmpty(e,!1)}flushWithBeacon(e){return this.flushIfNotEmpty(e,!0)}flushIfNotEmpty(e,t){const{requestData:r,requestOptions:n,processingStrategies:i}=e,a=e=>this.api.reportError(`Error sending events batch. Got ${(0,s.w)(e)}`,this.userId.get()),c=t?(0,o.ls)((e=>this.api.trackBatchBeacon(e)),(e=>Promise.resolve())):e=>this.api.trackBatch(this.metrics,e);return r.length>0?(0,o.zG)(this.resetBatch(),(e=>this.trackMetrics(r)),(e=>c(r).then((e=>this.isBatchResponse(e)?this.onBatchResponseSuccess(e,r,n,i):(0,o.Q1)())).catch(a))):Promise.resolve()}onBatchResponseSuccess(e,t,r,n){const i=(e,t)=>{"never"!==t&&(this.eventHandler.newEvent(u(e),null),this.eventsCache.add(e,{persistOnDisk:!0}))},a=(e,t,r)=>{const n={name:t.name,session_id:t.session_id,view_id:t.view_id,properties:t.properties,time:(new Date).toISOString()};r&&r(e.error.message),console.error(e),this.eventHandler.newEvent(n,e)};return e.forEach(((e,s)=>{let{body:o}=e;const c=t[s],u=r[s],f=n[s];return l(o)?a(o,c,u.error):((e,t,r,n)=>{const a=d(e,t);return n&&n(a),i(a,r)})(o,c,f,u.success)}))}resetBatch(){this.batch={requestData:[],requestOptions:[],processingStrategies:[]}}trackMetrics(e){this.metrics.track({name:"sdk_events_batch_size_total",value:e.length,labels:{}}),this.metrics.track({name:"sdk_events_batch_size_bytes",value:2*JSON.stringify(e).length,labels:{}})}isBatchResponse(e){return!!e}}var _=r(6567),m=r(5151),h=r(1828),v=r(922),b=r(3328),y=r(3992),w=r(8377);const k=e=>[e,m.of(e)],E=w.li,S=w.Yg,I=e=>t=>(0,o.zG)(S(t),(t=>()=>new Promise((r=>{const n=t();n.then(_.G).then(r);const i=(0,y.HJ)((()=>r(_.YP)),e);n.then(i)}))));var D=r(2851);const P="RefEventual",O=e=>D.a9(k(e)),M=e=>t=>D.vP((0,o.zG)(t,D.UI(E),D.UI(e)),(0,o.zG)(t,D.UI(S),D.UI(m.UI(e)))),C=e=>t=>D.vP((0,o.zG)(D.vP((0,o.zG)(e,D.UI(E)),(0,o.zG)(t,D.UI(E))),D.UI((e=>{let[t,r]=e;return r(t)}))),(0,o.zG)(D.vP((0,o.zG)(e,D.UI(S)),(0,o.zG)(t,D.UI(S))),D.UI((e=>{let[t,r]=e;return m.ap(t)(r)})))),x=e=>E(e.current),T=D.UI(E),A=D.UI(S),U={URI:P,map:(e,t)=>M(t)(e)},q={URI:P,map:U.map,ap:(e,t)=>C(t)(e)};var G=r(6392),z=r(2652);const j=(e,t,r)=>r?"deferred":L(e.name,t),L=(e,t)=>J.has(e)?"memoryOnly":V.has(e)?"never":t?"immediate":"response",R=e=>{let{event:t,requestData:r,requestOptions:n,queryManager:i,eventsBatch:a,stateSync:s,metrics:c,logger:u,segments:d,cohorts:l}=e;return(0,o.zG)((()=>new Promise((e=>Y(t,c,i,u,(t=>{const r=(0,o.zG)(m.of(d.current),m.mU((()=>()=>t)),m.tS(I(1e3)),m.UI(_.fS((()=>x(d)))))(),n=(0,o.zG)(l.current,m.uU((e=>(0,o.zG)(m.of(e.current),m.mU((()=>()=>r)),m.tS(I(1e3)),m.UI(_.fS((()=>x(e))))))),m.UI(b.xH))();e(Promise.all([t,r,n]).then((e=>{let[t,r,n]=e;return{update:t,updatedSegments:r,updatedCohorts:n}})))}))()))),m.At((e=>{let{updatedCohorts:r,updatedSegments:n}=e;return()=>u.debug(`Batching ${t.name} with`,{segments:n,cohorts:r})})),m.tS((e=>{let{update:[t],updatedSegments:i,updatedCohorts:o}=e;return h.gz(m.Hi)((()=>a.add(Object.assign(Object.assign({},r),{segments:[...i],cohorts:[...o]}),n,"immediate")),(()=>s.sync(t)))})),m.UI(o.Q1))},B=e=>{let{event:t,metrics:r,queryManager:n,logger:i,eventHandler:a}=e;return(0,o.zG)(Y(t,r,n,i),m.At((()=>()=>{"Reaction"===t.name&&H(a,t,_.YP)})),m.UI(o.Q1))},K=e=>{let{requestData:t,requestOptions:r,queryManager:n,eventsCache:i,eventHandler:a,api:s,metrics:c,logger:u}=e;return(0,o.zG)((()=>s.track(c,t,!1)),m.tS((e=>$(e,t,r,i,c,n,u))),m.UI((e=>H(a,e.event,e.error))))},W=e=>{let{event:t,isEventFullyEnriched:r,requestData:n,api:i,eventHandler:a}=e;return m.tD((()=>{i.trackBeacon(n,r),H(a,t,_.YP)}))},N=e=>{let{requestData:t,requestOptions:r,eventsBatch:n}=e;return()=>n.add(t,r,"never")},$=(e,t,r,n,i,a,s)=>l(e)?F(e,t,r):Q(e,t,r,n,i,a,s),F=(e,t,r)=>{const n=new Date;return m.tD((()=>{const i={name:t.name,session_id:t.session_id,view_id:t.view_id,properties:t.properties,time:n};return"function"==typeof r.error&&r.error(e.error.message),{event:i,error:(0,_.G)(e)}}))},Q=(e,t,r,n,i,a,s)=>(0,o.zG)(m.tD((()=>(e=>void 0!==e.properties)(e)?c(Object.assign(Object.assign({},e),{session_id:t.session_id,view_id:t.view_id})):d(e,t))),m.mU((e=>Y(e,i,a,s))),m.At((e=>()=>{"function"==typeof r.success&&r.success(e)})),m.mU((e=>()=>n.add(e,{persistOnDisk:!0}))),m.UI((e=>({event:e,error:_.YP})))),Y=(e,t,r,n,i)=>{const a=(0,o.zG)((()=>(0,o.bc)({},{segmentsEntered:new Set,segmentsExited:new Set,cohortsEntered:new Set,cohortsExited:new Set})),G.UI((0,z.bw)((e=>null==i?void 0:i(Promise.resolve(e))))),m.tD),s="sdk_events_querylanguage_seconds",c=(0,o.zG)(m.tD((()=>t.startTimer(s,{}))),m.YO("qlMetricKey"),m.ak("update",(()=>()=>{const t=r.process(e,!0)();return null==i||i(t),t})),m.UI((r=>{let{qlMetricKey:i,update:a}=r;return t.stopTimer(s,i),n.debug("[Processing]","Processing event",e,"caused the following update",a),a})));return Z.has(e.name)?c:a},H=(e,t,r)=>{e.newEvent(u(t),(0,o.zG)(r,_.fS((()=>null))))},V=new Set(["ThirdPartySegments","SlotRendered"]),J=new Set(["AdRequest","Reaction",...v.D0?["PageviewEngagement"]:[],...v.ED?["SegmentEntry","SegmentExit"]:[]]),X=new Set(["PageviewComplete"]),Z=new Set(["!UpdateLookalikeModels","!UpdateThirdPartyData","LinkClick","Pageview","PageviewComplete","SegmentEntry"]);function ee(e,t,r){const{api:s,enrichers:c,logger:u,metrics:d,queryManager:l,stateSync:f,unprocessedPVC:p,userId:_}=e;return i.K4((()=>{const e=new a,i=new g(e,s,d,_,r);return{allEvents:()=>r.all(),getStateSizeInBytes:()=>r.getStateSizeInBytes(),on:(t,r)=>e.addListener({name:t,callback:r,once:!1}),once:(t,r)=>e.addListener({name:t,callback:r,once:!0}),reset:e=>r.reset(e),track:a=>{var{client:g,event:_,useBeacon:h}=a,v=(0,n._T)(a,["client","event","useBeacon"]);const{output:y,isFullyEnriched:w}=c.enrich(_.properties,J.has(_.name)),k=Object.assign(Object.assign({},y),{client:g});d.track({name:w?"sdk_event_enrichment_success_count":"sdk_event_enrichment_fail_count",value:1,labels:{}});const E={user_id:t.userId.current,name:_.name,cohorts:(0,o.zG)(t.cohorts.current,b.tS(x)),segments:x(t.segments),properties:k,session_id:_.session_id,view_id:_.view_id},S=Object.assign(Object.assign({},_),{properties:k});return(0,o.zG)(((e,t)=>(0,o.zG)(j(e.event,e.isEventFullyEnriched,t),(t=>{switch(t){case"immediate":return R(e);case"memoryOnly":return B(e);case"response":return K(e);case"deferred":return W(e);case"never":return N(e)}}),m.tS((()=>X.has(e.event.name)?()=>e.unprocessedPVC.reset():m.of(void 0)))))(Object.assign(Object.assign({},v),{api:s,event:S,eventsBatch:i,eventsCache:r,eventHandler:e,isEventFullyEnriched:w,logger:u,metrics:d,queryManager:l,requestData:E,stateSync:f,unprocessedPVC:p,segments:t.segments,cohorts:t.cohorts}),h))()},__deprecated_eventsCache:r}}))}class te{constructor(){this.crypto=window.crypto||window.msCrypto,this.ALG_NAME="AES-GCM"}isAvailable(){var e;return!!(null===(e=this.crypto)||void 0===e?void 0:e.subtle)}generateKey(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,y.t_)(this.crypto.subtle.generateKey({name:this.ALG_NAME,length:256},e,["encrypt","decrypt"]))}encrypt(e,t){const[r,n]=this._encrypt(e,this.str2bytes(t));return r.then((e=>{const t=new Uint8Array(16+e.byteLength);return t.set(n,0),t.set(new Uint8Array(Uint32Array.of(e.byteLength).buffer),12),t.set(new Uint8Array(e),16),t.buffer}))}decrypt(e,t){const r=new Uint8Array(t,0,12),n=new Uint32Array(t,12,1)[0],i=t.slice(16,16+n);return this._decrypt(e,r,i).then(this.bytes2str)}_encrypt(e,t){const r=this.crypto.getRandomValues(new Uint8Array(12));return[(0,y.t_)(this.crypto.subtle.encrypt({name:this.ALG_NAME,iv:r},e,t)),r]}_decrypt(e,t,r){return(0,y.t_)(this.crypto.subtle.decrypt({name:this.ALG_NAME,iv:t},e,r))}str2bytes(e){return(new TextEncoder).encode(e).buffer}bytes2str(e){return(new TextDecoder).decode(e)}}var re=r(365),ne=r(4767);var ie=r(7554);class ae extends Error{constructor(e){super(e),this.name="StoreClosingError"}}class se{constructor(e,t,n,i,a,s,o,c,u,d){this.version=3;{const l=r(2546);this.db=l.make(e,t,n,i,a,s,o,c,this.version,u,d)().then((0,re.fS)((e=>(0,ie.E)(t,u,d))))}}shouldThrowStoreClosingError(e){return"NotFoundError"===e.name||"InvalidStateError"===e.name}makeStoreClosingDuringOpertationError(e){return new ae(`Attempted ${e} when the current store is closing.`)}put(e,t){return(0,ne.Y3)((()=>this.db.then((r=>r.put(e,t)))),(e=>{const t=(0,s.w)(e);return this.shouldThrowStoreClosingError(t)?this.makeStoreClosingDuringOpertationError("put"):t}))}get(e){return(0,ne.Y3)((()=>this.db.then((t=>t.get(e))).then(_.ij)),(e=>{const t=(0,s.w)(e);return this.shouldThrowStoreClosingError(t)?this.makeStoreClosingDuringOpertationError("get"):t}))}delete(e){return(0,ne.Y3)((()=>this.db.then((t=>t.delete(e)))),(e=>String(e)))}deleteStore(){return(0,ne.Y3)((()=>this.db.then((e=>e.deleteStore()))),(e=>String(e)))}}const oe="permutive-events-cache",ce="permutive-events-for-page",ue="[EVENTSCACHE]",de=e=>"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name;class le{constructor(e,t,r,n,i,a,s,c){this.config=e,this.namespace=t,this.logger=r,this.api=n,this.trace=i,this.metrics=a,this.userId=s,this.makeEventsStore=c,this.eventsCache=this.makeEventsRepository(oe),this.eventsForPage=this.makeEventsRepository(ce),this.debouncedReportError=(()=>new p.b(5e3,5e3).schedule((e=>this.api.reportError(e.errorMessage,e.userId))))(),this.eventStore=c(),this.eventsTTLInMilliseconds=(0,o.zG)((0,_.ij)(this.config.eventsTTLInDays),(0,_.tS)((e=>"number"==typeof e&&e>0?(0,_.G)(24*e*3600):_.YP))),this.eventsCache.events=(0,z.HP)((()=>(0,z.PQ)((0,o.zG)(m.tD((()=>this.trace.startSpan("load_event_cache"))),m.tS((e=>(0,o.zG)(this.loadFromDisk(),m.At((t=>()=>{e.finish(),this.logDebug(`Event cache loaded, #e ${t.length}`)}))))))))),this.readiness=this.eventsCache.events().then((()=>this.migratePreviousPagesEvents()))}migratePreviousPagesEvents(){return(0,n.mG)(this,void 0,void 0,(function*(){const e=this.trace.startSpan("migrate_previous_for_page_events"),t=(0,m.pE)((e=>(0,ne.Y3)((()=>e.flush()),s.w)));return(0,o.zG)([this.eventsForPage,this.eventsCache],t,(0,m.UI)((t=>{const r=b.bj(t);return r.length>0&&this.api.reportError(`Migrate previous events failed. Got:\n${r.join("\n ")}`,this.userId.get()),e.finish()})),(e=>e()))}))}all(){return Promise.all([this.eventsCache.events(),this.eventsForPage.events()]).then(b.xH)}add(e,t){let{persistOnDisk:r}=t;return(0,n.mG)(this,void 0,void 0,(function*(){return this.logDebug("Adding to cache",e),this.eventsForPage.events=(0,o.zG)(this.eventsForPage.events,m.UI((t=>[...t,e])),z.HP),r&&this.readiness.then((()=>this.eventsForPage.flush())),e}))}filterEventsByWorkspace(e){return e}pruneEventsToSizeLimit(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.config.eventsCacheLimitBytes;if(r<=0||t<=r)return this.logDebug(`Event size of ${t} less than limit of ${r}`),{events:e,sizeInBytes:t};this.logDebug("Events before pruning",{count:e.length,sizeInBytes:t,byteLimit:r});let n=1,i=[...e];for(;t>r;)i.splice(0,n),n*=2,t=2*JSON.stringify(i).length;return this.logDebug("Events after pruning",{count:i.length,sizeInBytes:t}),{events:i,sizeInBytes:t}}loadFromDisk(){const e=()=>[],t=(0,o.zG)(this.eventsTTLInMilliseconds,_.EQ((()=>o.yR),(e=>b.hX((t=>e>Date.now()-t.time.getTime())))));return(0,o.zG)(m.tD((()=>(this.logLog("Loading event cache..."),this.metrics.startTimer("sdk_load_events_cache_task_duration_seconds",{})))),m.YO("loadEventsCacheTask"),m.ak("eventsFromDisk",(()=>(0,o.zG)(b.nI([this.eventStore.get(oe),this.eventStore.get(ce)]),b.UI(ne.LV((0,z.lo)([[e=>e instanceof ae,(0,o.ls)(e,m.of)],t=>(0,o.zG)((()=>this.api.reportError(`Error fetching data from store. Got ${t}`,this.userId.get())),m.tS((()=>()=>this.reset("historical"))),m.UI(e))]),(0,o.ls)(_.fS(e),m.of))),b.vP(m.qA)))),m.At((e=>{let{eventsFromDisk:t,loadEventsCacheTask:r}=e;return()=>{this.logDebug("Read events from store:",t),this.metrics.stopTimer("sdk_load_events_cache_task_duration_seconds",r)}})),m.UI((0,o.ls)((0,z.vg)("eventsFromDisk"),b.xH,this.filterEventsByWorkspace,(e=>this.pruneEventsToSizeLimit(e,2*JSON.stringify(e).length)),(e=>(this.eventsCache.sizeInBytes=e.sizeInBytes,this.eventsCache.sizeInBytesLastSuccessfulWrite=e.sizeInBytes,e.events.length>0&&(this.metrics.track({name:"sdk_events_cache_byte_total",value:e.sizeInBytes,labels:{}}),this.metrics.track({name:"sdk_events_cache_size_total",value:e.events.length,labels:{}})),e.events)),b.UI(c),t)))}reset(e){return(0,n.mG)(this,void 0,void 0,(function*(){return(0,o.zG)(m.tD((()=>this.logDebug("Resetting Events Cache"))),m.tS((()=>this.eventStore.deleteStore())),ne.Zl((()=>(this.eventStore=this.makeEventsStore(),"historical"===e?h.gz(ne.Ij)(this.eventsCache.reset,this.eventsForPage.flush):h.gz(ne.Ij)(this.eventsCache.reset,this.eventsForPage.reset)))),ne.wE((()=>()=>this.all())),ne.fS((()=>m.of(fe()))),(e=>e()))}))}getStateSizeInBytes(){return this.eventsForPage.sizeInBytes+this.eventsCache.sizeInBytes}makeEventsRepository(e){const t=(()=>{let e=Promise.resolve(re.F2((0,o.Q1)()));return t=>e=e.then(t)})(),r=e=>(0,o.zG)(m.tD((()=>this.logDebug(`Writing ${e.length} events to ${p.key}`))),m.tS((()=>this.eventStore.put(e.map(u),p.key))),ne.UI(o.Q1)),n=(0,o.zG)(m.tD((()=>this.logDebug(`Deleting events for ${p.key}`))),m.tS((()=>this.eventStore.delete(p.key))),ne.Vn(s.w)),i=(0,o.ls)(m.of,m.At((e=>()=>this.logError(`Events cache failed to put ${p.key}. Got ${e}`))),m.tS((0,z.lo)([[e=>de(e)&&p.retryAttempts<9,()=>(0,o.zG)(m.tD((()=>{p.retryAttempts+=1,this.logDebug(`Attempt #${p.retryAttempts} to write ${p.key} to EventsStore`)})),m.tS((()=>f)),m.tS((()=>c)))],[e=>de(e),e=>(0,o.zG)(m.tD((()=>this.logDebug(`Attempted ${p.retryAttempts} rewrite attempts and reached limit of 9 max writes.`,"Reporting QuotaExceededError to API"))),m.tS((()=>()=>this.debouncedReportError({errorMessage:`Events cache failed to put ${p.key}. Got ${e}`,userId:this.userId.get()}))),m.tS((()=>ne.t$(e))))],ne.t$]))),a=e=>ne.tD((()=>{this.logDebug(`Successfully wrote events for ${p.key} after ${p.retryAttempts} attempts`),p.retryAttempts=0,p.sizeInBytes=2*JSON.stringify(e).length,p.sizeInBytesLastSuccessfulWrite=p.sizeInBytes})),c=(0,o.zG)((()=>p.events()),m.tS((e=>(0,o.zG)(r(e),m.mU(re.EQ(i,(()=>a(e)))))))),d=(e,t)=>(0,o.zG)(e.events,m.UI((r=>{const n=2*JSON.stringify(r).length,i=this.pruneEventsToSizeLimit(r,n,t);return e.events=m.of(i.events),e.sizeInBytes=i.sizeInBytes,t-e.sizeInBytes}))),l=(e,t)=>{let[r,...n]=e;return r&&0!==t?(0,o.zG)(d(r,t),m.tS((e=>(this.logDebug(`${e} left after pruning ${r.key}`),l(n,e))))):m.of((0,o.Q1)())},f=(0,o.zG)(ne.tD((()=>this.eventsForPage.sizeInBytes-this.eventsForPage.sizeInBytesLastSuccessfulWrite)),ne.fX(re.DT((e=>e>0),(e=>new Error(`${this.eventsForPage.key} failed to write the same or smaller events cache of size ${e}`)))),ne.tS((e=>{const t=1.2*e,r=[this.eventsCache,this.eventsForPage];return this.logDebug(`Pruning ${t} bytes from`,r),(0,o.zG)(l(r,t),ne.fF)}))),p={key:e,events:m.of([]),sizeInBytes:0,sizeInBytesLastSuccessfulWrite:0,retryAttempts:0,flush:()=>(0,o.zG)(m.tD((()=>this.trace.startSpan(`write_${p.key}`))),m.tS((e=>(0,o.zG)(c,m.At((()=>()=>e.finish()))))),t),reset:()=>(0,o.zG)(m.tD((()=>{p.events=m.of([]),p.sizeInBytes=0,p.sizeInBytesLastSuccessfulWrite=0})),m.tS((()=>n)),t)};return p}logDebug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.debug(ue,...t)}logWarn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.warn(ue,...t)}logError(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.error(ue,...t)}logLog(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.log(ue,...t)}}const fe=()=>[];class pe extends le{constructor(e,t,r,n,i,a,s,o){super(e,t,r,n,i,a,s,(()=>new se(e,t,a,new te,"507b28fb-2ef1-4c34-8bda-ba32030bb199",`events_${s.get()}`,`keys_${s.get()}`,"events",r,o)))}}function ge(e,t){return ee(e,t,new pe(e.config,e.namespace,e.logger,e.api,e.trace,e.metrics,e.userId,e.consentTracking))}const _e="[PrebidJS]";function me(e){const t=(()=>{const e=["pbjs",...window._pbjsGlobals||[]];return[...new Set(e)]})();e.logger.debug(_e,"Found keys",t);return i.K4((()=>(0,o.zG)(t,b.UI((0,o.ls)((e=>(e=>{const t={maxAttempts:100,waitTimeInMs:50};let r;return{windowPropertyKey:e,pbjs:(0,z.a4)((()=>r),(()=>{const t=(0,o.zG)(window,(0,z.vg)(e));return!(!(null==t?void 0:t.que)||"function"!=typeof(null==t?void 0:t.getEvents)||(r=t,0))}),t)}})(e)),(t=>(0,o.zG)(D.p4(t.pbjs),D.UI((r=>{const n=re.pF((r=>(r.message=`Failed to resolve key "${t.windowPropertyKey}". ${r.message}`,e.reportError(`[PrebidJS] ${r.toString()}`),_.YP)));return(0,o.zG)(r,(0,z.bw)(_.UI((r=>e.logger.debug(_e,`Completed check for key "${t.windowPropertyKey}"`,{result:r})))),_.UI(n),_.UI(_.UI((e=>({windowPropertyKey:t.windowPropertyKey,pbjs:e})))))})))))),(e=>D.vP(...e)),D.UI((e=>({completedChecks:e.every(_.pC),pbjsKeyPairs:e.map(_.xH)}))),D.UI((e=>{let{pbjsKeyPairs:t,completedChecks:r}=e;const n=t.filter(_.pC),[i,...a]=n;return{completedChecks:r,mainPair:null!=i?i:_.YP,otherPairs:(0,o.zG)(a,b.DZ(o.yR))}})))))}var he=r(488),ve=r(7927),be=r(6017);function ye(e,t){const r=we(e.queryManager.segments),n=we(e.queryManager.pageviewSegments),a=function(e){let{messages:t,queryManager:r}=e;const[n,i]=D.Ue(_.YP);return t.on("permutive:segments:updated",(()=>{i(_.G(r.stateMap.value))})),t.on("permutive:reset",(()=>i(_.YP))),D.UI(_.UI(ke),n)}(e);return e.queryManager.setLalRef(t.lookalikeModels),e.queryManager.setTpdRef(t.thirdPartyData),i.K4((()=>({cohorts:r,pageviewCohorts:n,tpdUsage:a})))}function we(e){return(0,o.zG)(e,M((0,o.ls)(b.uK((e=>e<1e7)),(e=>{let{left:t,right:r}=e;return{custom:r,standard:t}}))),(t=>({all:e,custom:(0,o.zG)(t,M((e=>{let{custom:t}=e;return t}))),standard:(0,o.zG)(t,M((e=>{let{standard:t}=e;return t})))})))}const ke=(0,o.ls)(ve.UI((e=>{var t;return null!==(t=e.activations)&&void 0!==t?t:{}})),ve.hX((0,o.zG)(Boolean,(0,be.xD)((0,be.ff)(ve.xb)))));var Ee,Se,Ie,De,Pe,Oe=-1,Me=function(e){addEventListener("pageshow",(function(t){t.persisted&&(Oe=t.timeStamp,e(t))}),!0)},Ce=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},xe=function(){var e=Ce();return e&&e.activationStart||0},Te=function(e,t){var r=Ce(),n="navigate";return Oe>=0?n="back-forward-cache":r&&(document.prerendering||xe()>0?n="prerender":document.wasDiscarded?n="restore":r.type&&(n=r.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:n}},Ae=function(e,t,r){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var n=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return n.observe(Object.assign({type:e,buffered:!0},r||{})),n}}catch(e){}},Ue=function(e,t,r,n){var i,a;return function(s){t.value>=0&&(s||n)&&((a=t.value-(i||0))||void 0===i)&&(i=t.value,t.delta=a,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,r),e(t))}},qe=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},Ge=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},ze=function(e){var t=!1;return function(r){t||(e(r),t=!0)}},je=-1,Le=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},Re=function(e){"hidden"===document.visibilityState&&je>-1&&(je="visibilitychange"===e.type?e.timeStamp:0,Ke())},Be=function(){addEventListener("visibilitychange",Re,!0),addEventListener("prerenderingchange",Re,!0)},Ke=function(){removeEventListener("visibilitychange",Re,!0),removeEventListener("prerenderingchange",Re,!0)},We=function(){return je<0&&(je=Le(),Be(),Me((function(){setTimeout((function(){je=Le(),Be()}),0)}))),{get firstHiddenTime(){return je}}},Ne=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},$e=[1800,3e3],Fe=[.1,.25],Qe=function(e,t){t=t||{},function(e,t){t=t||{},Ne((function(){var r,n=We(),i=Te("FCP"),a=Ae("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(a.disconnect(),e.startTime<n.firstHiddenTime&&(i.value=Math.max(e.startTime-xe(),0),i.entries.push(e),r(!0)))}))}));a&&(r=Ue(e,i,$e,t.reportAllChanges),Me((function(n){i=Te("FCP"),r=Ue(e,i,$e,t.reportAllChanges),qe((function(){i.value=performance.now()-n.timeStamp,r(!0)}))})))}))}(ze((function(){var r,n=Te("CLS",0),i=0,a=[],s=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=a[0],r=a[a.length-1];i&&e.startTime-r.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,a.push(e)):(i=e.value,a=[e])}})),i>n.value&&(n.value=i,n.entries=a,r())},o=Ae("layout-shift",s);o&&(r=Ue(e,n,Fe,t.reportAllChanges),Ge((function(){s(o.takeRecords()),r(!0)})),Me((function(){i=0,n=Te("CLS",0),r=Ue(e,n,Fe,t.reportAllChanges),qe((function(){return r()}))})),setTimeout(r,0))})))},Ye={passive:!0,capture:!0},He=new Date,Ve=function(e,t){Ee||(Ee=t,Se=e,Ie=new Date,Ze(removeEventListener),Je())},Je=function(){if(Se>=0&&Se<Ie-He){var e={entryType:"first-input",name:Ee.type,target:Ee.target,cancelable:Ee.cancelable,startTime:Ee.timeStamp,processingStart:Ee.timeStamp+Se};De.forEach((function(t){t(e)})),De=[]}},Xe=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var r=function(){Ve(e,t),i()},n=function(){i()},i=function(){removeEventListener("pointerup",r,Ye),removeEventListener("pointercancel",n,Ye)};addEventListener("pointerup",r,Ye),addEventListener("pointercancel",n,Ye)}(t,e):Ve(t,e)}},Ze=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,Xe,Ye)}))},et=[100,300],tt=0,rt=1/0,nt=0,it=function(e){e.forEach((function(e){e.interactionId&&(rt=Math.min(rt,e.interactionId),nt=Math.max(nt,e.interactionId),tt=nt?(nt-rt)/7+1:0)}))},at=function(){return Pe?tt:performance.interactionCount||0},st=function(){"interactionCount"in performance||Pe||(Pe=Ae("event",it,{type:"event",buffered:!0,durationThreshold:0}))},ot=[200,500],ct=0,ut=function(){return at()-ct},dt=[],lt={},ft=function(e){var t=dt[dt.length-1],r=lt[e.interactionId];if(r||dt.length<10||e.duration>t.latency){if(r)r.entries.push(e),r.latency=Math.max(r.latency,e.duration);else{var n={id:e.interactionId,latency:e.duration,entries:[e]};lt[n.id]=n,dt.push(n)}dt.sort((function(e,t){return t.latency-e.latency})),dt.splice(10).forEach((function(e){delete lt[e.id]}))}},pt=[2500,4e3],gt={};const _t=function(e){let t=0;const r=r=>{if(0===t)return;const n=mt(r);n&&e.metrics.track({name:`sdk_web_vitals_${n.suffix}`,labels:{},value:n.value})},n=(0,z.HP)((()=>{Qe(r),function(e,t){t=t||{},Ne((function(){var r,n=We(),i=Te("LCP"),a=function(e){var t=e[e.length-1];t&&t.startTime<n.firstHiddenTime&&(i.value=Math.max(t.startTime-xe(),0),i.entries=[t],r())},s=Ae("largest-contentful-paint",a);if(s){r=Ue(e,i,pt,t.reportAllChanges);var o=ze((function(){gt[i.id]||(a(s.takeRecords()),s.disconnect(),gt[i.id]=!0,r(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,o,!0)})),Ge(o),Me((function(n){i=Te("LCP"),r=Ue(e,i,pt,t.reportAllChanges),qe((function(){i.value=performance.now()-n.timeStamp,gt[i.id]=!0,r(!0)}))}))}}))}(r),function(e,t){t=t||{},Ne((function(){var r,n=We(),i=Te("FID"),a=function(e){e.startTime<n.firstHiddenTime&&(i.value=e.processingStart-e.startTime,i.entries.push(e),r(!0))},s=function(e){e.forEach(a)},o=Ae("first-input",s);r=Ue(e,i,et,t.reportAllChanges),o&&Ge(ze((function(){s(o.takeRecords()),o.disconnect()}))),o&&Me((function(){var n;i=Te("FID"),r=Ue(e,i,et,t.reportAllChanges),De=[],Se=-1,Ee=null,Ze(addEventListener),n=a,De.push(n),Je()}))}))}(r),function(e,t){t=t||{},Ne((function(){st();var r,n=Te("INP"),i=function(e){e.forEach((function(e){e.interactionId&&ft(e),"first-input"===e.entryType&&!dt.some((function(t){return t.entries.some((function(t){return e.duration===t.duration&&e.startTime===t.startTime}))}))&&ft(e)}));var t,i=(t=Math.min(dt.length-1,Math.floor(ut()/50)),dt[t]);i&&i.latency!==n.value&&(n.value=i.latency,n.entries=i.entries,r())},a=Ae("event",i,{durationThreshold:t.durationThreshold||40});r=Ue(e,n,ot,t.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),Ge((function(){i(a.takeRecords()),n.value<0&&ut()>0&&(n.value=0,n.entries=[]),r(!0)})),Me((function(){dt=[],ct=at(),n=Te("INP"),r=Ue(e,n,ot,t.reportAllChanges)})))}))}(r)}));return i.K4((r=>{let{onServiceStop:i}=r;t++,i((()=>{t--})),e.metrics.isEnabled()&&n()}))};const mt=e=>(e=>"CLS"===e.name)(e)?{value:e.value,suffix:`${e.name.toLowerCase()}_score`}:(e=>["INP","FID","LCP"].includes(e.name))(e)?{value:e.value/1e3,suffix:`${e.name.toLowerCase()}_seconds`}:void 0;var ht=r(926),vt=r(4923),bt=r(7341);r(856);const yt=e=>k(re.F2(e)),wt=e=>D.a9(yt(e)),kt=bt.UI(U,re.dO),Et=(re.G5,e=>M(re.fS(e))),St=(e,t)=>r=>({all:(0,o.zG)(r,kt(e)),byAdServer:(0,z.mQ)((0,o.ls)(t,_.UI((e=>(0,o.zG)(r,kt(e))))))}),It=e=>(0,o.zG)(e,M(re.F2),St(o.yR,(e=>_.G(e.filterCohorts)))),Dt=e=>({all:(0,o.zG)(e.all,Et((()=>b.bM()))),byAdServer:(0,z.mQ)((0,o.ls)(e.byAdServer,_.UI(Et((()=>b.bM())))))});var Pt=r(4870);const Ot=e=>{if(!e.metrics.isEnabled)return()=>{};const t=(0,o.zG)(e.adServers,b.UI((e=>(0,o.bc)(e.id,e))),vt.sq,vt.UI((t=>{const r=(0,o.zG)(e.cohortTypes,D.UI(vt.DZ((e=>e.byAdServer(t)))),D.VS((e=>D.vP(e))),D.UI(vt.UI((n=5e3,i="Timeout",e=>(0,o.zG)(e,I(n),m.UI(_.pF((()=>re.t$(i)))))))),D.UI((0,h.Yt)(m.Hi)),D.UI(m.UI((0,o.ls)(vt.oh,Pt.Vn(vt.Su(((t,r)=>{e.logger.warn("[Targeting Metrics]",`[${t}]`,r)}))),Pt.F2))),(e=>()=>e.current));var n,i;return(0,o.ls)(b.of,b.UI((e=>e.cohorts)),Ct,b.UI((e=>{let[t,r]=e;return{allCohorts:new Set(t),cohortCountByType:Mt(t),requestCount:r}})),(n=>(0,o.zG)(r(),m.UI(vt.Su(((t,r)=>(n,i)=>{(0,o.zG)(r,b.Hr("actualCohortCount",(e=>{let{cohortCountByType:t}=e;return(0,o.zG)(t,vt.P5(n))})),b.UI((r=>{const a={cohort_type:n,target:t},s=i.reduce(((e,t)=>r.allCohorts.has(t)?e+1:e),0),c=i.length-s;e.metrics.track({name:"sdk_ad_request_missed_cohorts",labels:a,value:r.requestCount*c}),e.metrics.track({name:"sdk_ad_request_successful_cohorts",labels:a,value:r.requestCount*s}),(0,o.zG)(r.actualCohortCount,_.UI((t=>{const n=t-s;e.metrics.track({name:"sdk_ad_request_superfluous_cohorts",labels:a,value:r.requestCount*n})})))})))})(t.id,n))))),(e=>e()))})));return e=>{if("AdRequest"===e.name)(r=e.properties).ad_server_id in t&&t[r.ad_server_id](r);var r}},Mt=e=>({ql:(0,o.zG)(e,b.u4(0,((e,t)=>isNaN(parseInt(t))?e:e+1)))}),Ct=e=>(0,o.zG)(e,b.pO((e=>{const{init:t,rest:r}=(0,o.zG)(e,b.zT((t=>t===e[0])));return[t,r]})),b.UI((e=>[e[0],e.length]))),xt=(e,t)=>((e,t,r)=>{const{activationManager:a,externalData:s,metrics:c,permutiveData:u,queryManager:d,stateSync:l,trace:f}=e;return(0,o.zG)(ye(e,{lookalikeModels:t.lookalikeModels,thirdPartyData:(0,o.zG)(t.thirdPartyData,D.UI(_.UI(vt.UI((e=>{const t={};for(const r of e)t[r]=!0;return t})))))}),i.YO("queryLanguage"),i.ak("webVitals",(()=>_t(e))),i.ak("eventCollection",(n=>{let{queryLanguage:a}=n;const s=(0,o.zG)(a.cohorts.all,M(b.UI(String)),It),u=(0,o.zG)(t.nonQlCohortTypes,D.UI((e=>Object.assign(Object.assign({},e),{query_language:s})))),d=Ot({adServers:t.adServers,cohortTypes:u,metrics:c,logger:e.logger});return(0,o.zG)(r(e,{cohorts:(0,o.zG)(u,D.UI((e=>Object.values(e))),D.UI(b.UI((e=>e.all))),D.UI(b.UI(Et((()=>b.bM()))))),segments:a.cohorts.all,userId:t.userId}),i.UI((0,z.rO)({track:e=>(0,o.ls)((0,z.bw)((e=>d(e.event))),e)})))})),i.ak("nativo",(e=>{let{queryLanguage:r}=e;return(0,he.nativoService)(Object.assign({activationManager:a,externalData:s,metrics:c,queryLanguageCohorts:T(r.cohorts.all)},t))})),i.ak("twitterPixel",(e=>{let{queryLanguage:r}=e;return(0,ht.eJ)(Object.assign({activationManager:a,metrics:c,permutiveData:u,queryLanguageCohorts:T(r.cohorts.all)},t))})),i.ak("prebidJS",(()=>me(e))),i.ak("reset",(e=>{let{eventCollection:t}=e;return i.of((e=>(0,n.mG)(void 0,void 0,void 0,(function*(){d.reset();const r=e.preserveEventsFromCurrentView?"historical":void 0,n=yield t.reset(r),i=f.startSpan("ss_reset_sync");e.downloadState?yield l.resetSync():l.reset(),yield d.bootstrap(n)(),i.finish()}))))})))})(e,t,ge);function Tt(e){return"consentTracking"in e?e.consentTracking.consentRef:D.a9(!0)}function At(e){let{messages:t}=e;const[r,n]=D.Ue(new Set);return t.on("permutive:addon:preinit",(e=>n(new Set([...r.current,e])))),r}function Ut(e){let{messages:t,realtime:r}=e;var n;const[i,a]=D.Ue(null!==(n=r.isRealtime())&&void 0!==n&&n);return t.on("permutive:realtime",(()=>a(!0))),i}function qt(){const e=()=>Math.floor(Date.now()/1e3),[t,r]=D.Ue(e());return(0,y.UM)((()=>r(e())),1e3),t}function Gt(e,t){const r=function(e){const{activationManager:t,api:r,clientContext:n,config:i,enrichers:a,externalData:s,logger:o,messages:c,metrics:u,permutiveData:d,namespace:l,network:f,queryManager:p,stateSync:g,trace:_,track:m,unprocessedPVC:h,urls:v,userId:b}=e,y="consentTracking"in e?e.consentTracking:{consentRef:D.a9(!0),listenForConsent:()=>0,isRevoked:()=>!1,isGiven:()=>!0};return{activationManager:t,api:r,clientContext:n,config:i,consentTracking:y,enrichers:a,externalData:s,logger:o,messages:c,metrics:u,permutiveData:d,namespace:l,permutiveApi:f,permutiveUrls:v,queryManager:p,reportError:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r.reportError(e,null==t?void 0:t.userId,null==t?void 0:t.timestamp)},stateSync:g,trace:_,track:m,unprocessedPVC:h,userId:b}}(e),i=function(e){return{addonsLoaded:e.addonsLoaded,adServers:e.adServers,consent:Tt(e),currentTimestampSecs:qt(),enabledAddons:At(e),identities:e.identities,realtime:Ut(e),sdkVariant:_.ij(e.sdkVariant),sessionId:D.a9(e.sessionManager.getSessionId()),userId:e.userId.ref,viewId:e.viewId.ref}}(e);return function(e,t,r){const i=5e3;return(0,o.zG)(e,(a=i,e=>t=>{var{onServiceStop:r}=t,i=(0,n._T)(t,["onServiceStop"]);let s=[];const{value:o,state:c}=e(Object.assign(Object.assign({},i),{onServiceStop:e=>s.push(e)})),[u,d]=D.Ue(c.current),l=()=>d(c.current),f=(0,y.UM)(l,a);let p=!1;return(0,z.aT)((()=>!p&&l()),navigator.userAgent),r((()=>{p=!0,s.forEach((e=>e())),l(),f()})),{value:o,state:u}}),zt,function(e){return t=>(0,o.ls)((0,z.rO)({previousState:t=>e.current?t:void 0}),t,(0,z.rO)({state:(0,o.ls)((t=>D.vP(e,t)),D.UI((e=>{let[t,r]=e;return t?r:void 0})))}))}(r),function(e){return t=>(0,o.ls)((0,z.rO)({previousState:()=>localStorage.getItem(e)}),t,(0,z.rO)({state:(0,z.bw)(D.YP((t=>{switch(typeof t){case"string":localStorage.setItem(e,t);break;case"undefined":localStorage.removeItem(e);break;case"object":if(null===t){localStorage.removeItem(e);break}throw new Error("Permutive app raised an invalid state.");default:throw new Error("Permutive app raised an invalid state.")}})))}))}(t))({onServiceStop:o.Q1}).value;var a}(t(r,i),e.namespace.getNamespacedStorageKey("permutive-app"),i.consent)}function zt(e){return(0,o.ls)((0,z.rO)({previousState:e=>{if("string"!=typeof e)return{};try{return JSON.parse(e)}catch(e){return{}}}}),e,(0,z.rO)({state:D.UI(JSON.stringify)}))}var jt=r(9853);function Lt(e){return t=>(0,o.zG)(D.oQ(e),D.UI((0,z.rO)({backoffAfterErrorMs:e=>null!=e?e:0,backoffAfterSuccessMs:e=>null!=e?e:0})),(e=>i.dQ((r=>{let{previousState:n}=r;const[i,a]=D.Ue(function(e){if("object"!=typeof e||null===e)return{lastSuccess:0,lastError:0};return e}(n)),s=(0,o.zG)(D.vP(i,e),D.UI((e=>{let[t,r]=e;return Math.max(t.lastError+r.backoffAfterErrorMs,t.lastSuccess+r.backoffAfterSuccessMs)})));return{state:i,value:(0,o.ls)(_.DT((()=>Date.now()>=s.current)),_.UI(t),_.UI((0,z.bw)((e=>e.then((()=>a(Object.assign(Object.assign({},i.current),{lastSuccess:Date.now()}))),(()=>a(Object.assign(Object.assign({},i.current),{lastError:Date.now()}))))))))}}))))}const Rt=b.cS,Bt=(Promise.resolve(re.F2(Rt)),"clean_room");const Kt=function(e,t){return i.of(_.YP)};var Wt=r(7241),Nt=r(2197);const $t="[Prebid Monitoring]",Ft=(e,t)=>{e.metrics.track({name:"sdk_prebid_monitoring_key_flag_count_total",labels:t,value:1})},Qt=(e,t)=>{e.metrics.track({name:"sdk_prebid_monitoring_key_bidder_flag_count_total",labels:t,value:1})},Yt=function(e,t){const r=Ht(e);return i.K4((()=>(0,o.zG)(t,D.UI((0,o.ls)(_.DT((e=>e.consent)),_.UI((e=>e.prebidJS)))),D.D8(_.Eh((0,z.Or)())),D.bw((0,o.ls)(_.tS((e=>e.completedChecks?e.mainPair:_.YP)),_.UI((t=>Ft(e,{flag:"prebid_main_key",prebid_key:t.windowPropertyKey}))))),D.UI(_.UI((e=>(0,o.zG)(e.mainPair,_.UI((t=>[t,...e.otherPairs])),_.fS((()=>e.otherPairs)))))),D.g_(new Set,((t,n)=>(0,o.zG)(n,_.UI(b.hX((e=>!t.has(e.windowPropertyKey)))),_.hX(b.Od),(0,z.bw)(_.EQ((()=>e.logger.debug($t,"Nothing to report")),(t=>e.logger.debug($t,"Reporting",t)))),_.fS((()=>[])),b.UI((t=>(0,o.zG)((t=>(0,o.zG)(re.Y3((function(){var r,n;const{pbjs:i,windowPropertyKey:a}=t;e.logger.log($t,`Reporting on "${a}"`,t);const s=Vt(i);e.logger.debug($t,`Version ${i.version} parsed as`,s);const c="function"==typeof(u=i).readConfig?u.readConfig():u.getConfig();var u;e.logger.debug($t,"Read config",c);const d=(0,o.zG)(null!==(n=null===(r=c.realTimeData)||void 0===r?void 0:r.dataProviders)&&void 0!==n?n:[],b.Ew((e=>"permutive"===e.name)));return e.logger.debug($t,"Read data provider config",d),{pbjs:i,config:c,dataProviderConfig:d,installedModules:i.installedModules||[],version:s,windowPropertyKey:a}}),s.w),re.ak("bidders",(e=>r.acBidders(e))),re.ak("permutiveRTDProvider",(e=>r.permutiveRTDProvider(e))),re.ak("consent",(e=>r.consent(e))),re.ak("targeting",(e=>r.targeting(e)))))(t),re.Pd((r=>e.reportError(`[Prebid Monitoring] Failed to report pair "${t.windowPropertyKey}", ${r.message}`)),(()=>t.windowPropertyKey))))),b.hp,(e=>new Set([...t,...e]))))),(e=>({reportedKeys:e})))))};const Ht=e=>({acBidders:t=>re.Y3((()=>{(0,jt.Hn)("prebid")("data_provider_config",{ac_bidders:[]});const r=[],n=(0,o.zG)(t.dataProviderConfig,_.UI((e=>{var t,r;return null!==(r=null===(t=null==e?void 0:e.params)||void 0===t?void 0:t.acBidders)&&void 0!==r?r:[]})),_.fS((()=>[]))),i=[...new Set([...r,...n])];return e.logger.debug($t,"Determined acBidders as",{acBidders:i,dynamicBidders:r,staticBidders:n}),i.forEach((r=>{Qt(e,{flag:"prebid_ac_bidder",prebid_key:t.windowPropertyKey,prebid_bidder:r})})),{acBidders:i,dynamicBidders:r,readBidders:n}}),s.w),consent:t=>re.Y3((()=>{var r,n,i,a,s,o;const c=t.windowPropertyKey;t.config.consentManagement&&"object"==typeof t.config.consentManagement&&Ft(e,{prebid_key:c,flag:"prebid_has_consent_management"});const u=t.installedModules.includes("gdprEnforcement");u&&Ft(e,{prebid_key:c,flag:"prebid_gdpr_enforcement_module"});const d=(null===(o=null===(s=null===(a=null===(i=null===(n=null===(r=t.config)||void 0===r?void 0:r.consentManagement)||void 0===n?void 0:n.gdpr)||void 0===i?void 0:i.rules)||void 0===a?void 0:a.find((e=>"storage"===(null==e?void 0:e.purpose))))||void 0===s?void 0:s.vendorExceptions)||void 0===o?void 0:o.includes("permutive"))||!1;return d&&Ft(e,{prebid_key:c,flag:"prebid_storage_exception"}),{hasGDPREnforcementModule:u,addedAsStorageException:d}}),s.w),permutiveRTDProvider:t=>re.Y3((()=>{const r=t.installedModules.includes("permutiveRtdProvider");return r&&Ft(e,{prebid_key:t.windowPropertyKey,flag:"prebid_permutive_rtd"}),r}),s.w),targeting:t=>{const r=(0,o.ls)(b.UI((e=>[e,null])),vt.sq),n=(t,r)=>(0,o.zG)(t,(0,z.bw)((t=>e.logger.debug($t,`Processing ${t.length} bidder request(s)`,t))),b.hX((e=>r.hasOwnProperty(e.bidderCode)&&null===r[e.bidderCode])),Wt.vM((e=>e.bidderCode)),vt.DZ(b.f2((0,z.lo)([[e=>(e=>{var t,r,n;const i=null===(r=null===(t=null==e?void 0:e.user)||void 0===t?void 0:t.data)||void 0===r?void 0:r.find((e=>"permutive.com"===e.name));return!!(null===(n=null==i?void 0:i.segment)||void 0===n?void 0:n.length)})(e.ortb2),()=>_.G("ortb2")],[e=>{return t=e.params,["permutive","p_standard"].some((e=>{var r,n,i,a;return(null===(n=null===(r=null==t?void 0:t.visitor)||void 0===r?void 0:r[e])||void 0===n?void 0:n.length)||(null===(a=null===(i=null==t?void 0:t.keywords)||void 0===i?void 0:i[e])||void 0===a?void 0:a.length)}));var t},()=>_.G("params")],()=>_.YP]))),(0,z.bw)((t=>e.logger.debug($t,"Bidders targeting method's updated",t)))),i=i=>{e.logger.debug($t,"Bidders found with no targeting method",i);let a=r(i);const s=r=>(0,o.zG)(n([r],a),(0,z.bw)((e=>{a=Object.assign(Object.assign({},a),e)})),(0,z.bw)(vt.Su(((r,n)=>Qt(e,{flag:`prebid_${n}_targeting_success`,prebid_key:t.windowPropertyKey,prebid_bidder:r})))),(0,z.bw)((()=>{Object.values(a).includes(null)||(e.logger.debug($t,`Cleaning up "bidRequested" listener for ${t.windowPropertyKey}`),t.pbjs.offEvent("bidRequested",s))})));t.pbjs.onEvent("bidRequested",s)};return re.Y3((()=>{const a=(0,o.zG)(t.pbjs.getEvents(),b.DZ((0,o.ls)(_.DT((e=>"bidRequested"===e.eventType)),_.UI((0,z.vg)("args")))));return(0,o.zG)(t.bidders.acBidders,_.DT(b.Od),_.EQ((()=>e.logger.debug($t,"No bidders for targeting")),(0,o.ls)(r,(e=>Object.assign(Object.assign({},e),n(a,e))),vt.uK(Nt.ff((e=>null===e))),Pt.Pd((0,o.ls)(vt.XP,_.DT(b.Od),_.UI(i)),vt.Su(((r,n)=>Qt(e,{prebid_bidder:r,prebid_key:t.windowPropertyKey,flag:`prebid_${n}_targeting_success`})))))))}),s.w)}}),Vt=e=>{const[t,r,n]=e.version.split("-")[0].replace("v","").split(".").map((e=>parseInt(e)));return{major:t,minor:r,patch:n}},Jt=(e,t)=>(0,o.zG)(function(e,t){return(0,o.zG)(t,D.UI((e=>{var{initdAddons:t}=e,r=(0,n._T)(e,["initdAddons"]);return Object.assign(Object.assign({},r),{isInitd:t.has(Bt)})})),(t=>Kt(e,t)))}(e,D.vP({addonsLoaded:t.addonsLoaded,consent:t.consent,customCohorts:A(t.customCohorts),demandPartnerCohorts:t.demandPartnerCohorts,initdAddons:t.initdAddons,realtime:t.realtime,sessionId:t.sessionId,standardCohorts:A(t.standardCohorts),userId:t.userId,viewId:t.viewId})),i.YO("segmentation"),i.ak("prebidMonitoring",(()=>Yt(e,D.vP({consent:t.consent,prebidJS:t.prebidJS})))),i.UI((e=>({segments:e.segmentation})))),Xt=function(e,t,r,n,a){return i.K4((()=>(e.removeExternalData(Zt),_.YP)))};const Zt="_pssps",er=function(e,t){const r=(0,o.zG)(t.pbjs,D.VS((0,o.ls)(_.tS(_.KQ((e=>{var t;return null===(t=e.getUserIdsAsync)||void 0===t?void 0:t.call(e).then((()=>{var t,r;return null!==(r=null===(t=e.getUserIdsAsEids)||void 0===t?void 0:t.call(e))&&void 0!==r?r:[]}))}))),_.UI(D.p4),_.fS((()=>D.a9(_.YP))))),D.UI(_.tS(_.Uo)),D.bw(_.mU((t=>(t.length>0?t.forEach((t=>{e.metrics.track({name:"sdk_prebid_alternative_identifiers_count_total",labels:{alternative_user_id_name:t.source},value:1})})):e.metrics.track({name:"sdk_prebid_alternative_identifiers_count_total",labels:{identifier:"NONE"},value:1}),_.YP))))),n=(0,o.zG)(t.pbjs,D.UI(_.tS(_.KQ((e=>{var t;return null===(t=e.getUserIdsAsEids)||void 0===t?void 0:t.call(e)})))));return i.K4((()=>(0,o.zG)(D.vP(r,n),D.UI((e=>{let[t,r]=e;return(0,o.zG)(t,_.wp((()=>r)))})),D.UI((0,o.ls)(_.UI(b.DZ((e=>{var t,r;return"string"==typeof(null===(r=null===(t=e.uids)||void 0===t?void 0:t[0])||void 0===r?void 0:r.id)?_.G((0,o.bc)(e.source,{id:e.uids[0].id})):_.YP}))),_.tS(Wt.c2),_.UI(vt.sq))),D.bw((t=>{_.pC(t)&&e.logger.debug("[Prebid Identifiers]","Found identifiers",t.value)})))))};const tr=function(e){let{externalData:t}=e;return i.K4((()=>{t.removeExternalData(rr)}))};const rr="_pfws";const nr=function(e,t){return i.of(_.YP)};const ir=(e,t,r,n)=>t+(r-t)*n/(Math.pow(2,e)-1),ar=(e,t)=>{const r=(e,t)=>{const r=e.toString(16);return("0".repeat(t)+r).slice(Math.min(-t,-r.length))};return`${r(e.getUint32(t),8)}-${r(e.getUint16(t+4),4)}-${r(e.getUint16(t+6),4)}-${r(e.getUint16(t+8),4)}-${r(e.getUint32(t+10),8)}${r(e.getUint16(t+14),4)}`},sr=e=>{const t=[1,2],r=e.getInt8(0);if(1===r)return or(e);if(2===r)return cr(e);{const n=(0,_.Y3)((()=>ar(e,1))),i=(0,_.g_)((()=>"Couldn't decode model id"),(e=>`Model id was ${e}`))(n);throw new Error(`Decoding only supported for version(s): ${t}; Supplied version was ${r}; ${i}`)}},or=e=>ur(e,1),cr=e=>ur(e,2),ur=(e,t)=>{const r=ar(e,1),n=((e,t)=>{switch(String.fromCharCode(e.getInt8(t))){case"1":return"1p";case"3":return"3p"}})(e,17),i=e.getInt8(18),a=e.getFloat32(19),s=e.getFloat32(23),[o,c]=((e,t,r,n,i,a)=>{const s={};let o=0;do{let r;1===a?(o=e.getUint16(t),r=e.getUint16(t+2),t+=4):(o=e.getUint32(t),r=e.getUint16(t+4),t+=6),s[0===o?"const":o]=r.toString(36)}while(0!==o);return[s,t]})(e,27,0,0,0,t);return[{version:t,id:r,data_preference:n,weights:o,precision:i,min:a,max:s},c]};var dr=r(7758);class lr{constructor(e,t,r,n,i){this.network=e,this.logger=t,this.api=r,this.metrics=n,this.permutiveData=i,this.MODELS_LAST_UPDATED_KEY="models_last_updated",this.MODELS_DATA_KEY="models_data",this.MODELS_SYNC_TIMEOUT_IN_SECONDS=86400;const a=n.startTimer("sdk_load_lookalike_models_task_duration_seconds",{}),s=(0,o.zG)(dr.tD((()=>i.getData(this.MODELS_LAST_UPDATED_KEY))),dr.hX((e=>!(!e||isNaN(e)||(new Date).getTime()>e+1e3*this.MODELS_SYNC_TIMEOUT_IN_SECONDS))),dr.NG((()=>this.permutiveData.getData(this.MODELS_DATA_KEY)))),c=(0,o.zG)(this.fetchModels(),y.N1,m.At((e=>()=>{this.permutiveData.setData(this.MODELS_DATA_KEY,e),this.permutiveData.setData(this.MODELS_LAST_UPDATED_KEY,(new Date).getTime())}))),u=(0,o.zG)(s,y.N1,dr.fS((()=>(0,y.N1)(c))),m.UI((e=>(e=>{const t=Object.keys(e);return t.length>0&&e[t[0]].hasOwnProperty("precision")})(e)?(e=>{const t={},r=Object.keys(e),n=e=>{const t={"1p":{}},{precision:r,min:n,max:i}=e,a=e["1p"],s=Object.keys(a);for(let e=0;e<s.length;e++){const o=s[e],c=parseInt(a[o],36);t["1p"][o]=ir(r,n,i,c)}return t};for(let i=0;i<r.length;i++){const a=r[i],s=e[a];t[a]=n(s)}return t})(e):e)),y.N1,m.At((()=>()=>{this.metrics.stopTimer("sdk_load_lookalike_models_task_duration_seconds",a)})));this.models=u()}getModels(){return this.models}extractModelsFromJsonArray(e){return t=>{const r={};for(let n=0;n<t.length;n++){const i=t[n],{id:a,weights:s}=i;if(void 0===a||void 0===s)continue;const o=e(i);Object.keys(s).forEach((e=>{o["1p"][e]=s[e]})),r[a]=o}return r}}fetchModels(){return(0,o.zG)(ne.Y3((()=>this.api.modelsBinary(this.metrics)),(e=>e.message)),y.N1,ne.oU((e=>()=>function(e){const t=[];let r=0;for(;r<e.byteLength;){const[n,i]=sr(new DataView(e,r));t.push(n),r+=i}return t}(e))),y.N1,ne.UI(this.extractModelsFromJsonArray((e=>{let{precision:t,max:r,min:n}=e;return{"1p":{},precision:t,min:n,max:r}}))),ne.fS((e=>(this.logger.log("Failed fetching binary models, reverting to JSON.\nError: "+e),this.metrics.track({name:"sdk_binary_models_missing_count",value:1,labels:{}}),(0,o.zG)(ne.Y3((()=>this.api.modelsJson(this.metrics)),(e=>e.message)),ne.UI((e=>e.models)),ne.UI(this.extractModelsFromJsonArray((()=>({"1p":{}})))),ne.fS((e=>(this.api.reportError("Failed fetching json models.\nError: "+e),m.of({})))))))))}}const fr=function(e){return i.K4((()=>{const t=new lr(e.permutiveApi,e.logger,e.api,e.metrics,e.permutiveData);return(0,o.zG)(t.getModels(),D.p4,D.UI(_.tS(_.Uo)))}))};const pr=(e,t)=>i.vP({classificationModels:nr(e,t)}),gr=e=>i.dQ((t=>{let{onServiceStop:r,previousState:n}=t;const i=function(e){if("object"!=typeof e||null===e)return{validityKey:"",inFlight:_.YP,lastSuccess:_.YP};return e}(n),a=(0,o.zG)(e,D.BT(r),D.UI((e=>"currentTimestampSecs"in e&&"freshness"in e&&"validity"in e?e:{currentTimestampSecs:0,validity:{key:e.validityKey,maxAge:Number.MAX_SAFE_INTEGER},freshness:{key:e.freshnessKey,maxAge:Number.MAX_SAFE_INTEGER},refresh:e.refresh})),D.g_(D.a9(i),((e,t)=>{const r=t.validity.key(),n=_.hX((e=>t.currentTimestampSecs-e.timestamp<=t.validity.maxAge)),i=(0,z.HP)(t.freshness.key),a=_.hX((e=>t.currentTimestampSecs-e.timestamp<=t.freshness.maxAge&&e.freshnessKey===i())),s=(0,o.zG)(e,D.UI((0,o.ls)(_.DT((e=>e.validityKey===r)),_.EQ((()=>({validityKey:r,inFlight:_.YP,lastSuccess:_.YP})),(0,z.rO)({inFlight:n,lastSuccess:n})))),D.D8(_r));if((0,o.zG)(s.current,(e=>(0,o.zG)(e.inFlight,_.wp((()=>e.lastSuccess)),a,_.pC))))return s;const c=()=>({timestamp:t.currentTimestampSecs,freshnessKey:i(),output:_.YP});return(0,o.zG)(t.refresh(),_.EQ((()=>s),(0,o.ls)(D.p4,D.VS(_.EQ((()=>(0,o.zG)(s,D.UI((e=>Object.assign(Object.assign({},e),{inFlight:_.G(c())}))))),re.EQ((e=>s),(e=>D.a9({validityKey:r,inFlight:_.YP,lastSuccess:_.G(Object.assign(Object.assign({},c()),{output:_.G(e)}))}))))))))})),D.xH,D.D8(_r));return{value:D.UI((0,o.ls)((0,z.vg)("lastSuccess"),_.tS((0,z.vg)("output"))),a),state:D.UI((e=>Object.assign(Object.assign({},e),{inFlight:_.YP})),a)}}));const _r=(e,t)=>e.validityKey===t.validityKey&&e.inFlight===t.inFlight&&e.lastSuccess===t.lastSuccess,mr=["pug"],hr=function(e,t){return(0,o.zG)(vr(e),Lt({backoffAfterErrorMs:6e5}),i.VS((e=>gr((0,o.zG)(t,D.UI((0,z.rO)({tpdUsage:_.UI((0,o.ls)(vt.UI(vt.z7((e=>!mr.includes(e)))),vt.hX((0,be.ff)(vt.xb))))})),D.UI((t=>{let{tpdUsage:r,userId:n}=t;return{validityKey:()=>n,freshnessKey:(0,o.ls)((()=>r),_.EQ((()=>0),(0,o.ls)(JSON.stringify,z.vp))),refresh:(0,o.ls)((()=>r),_.hX((e=>Object.keys(e).length>0)),_.tS((t=>e({user_id:n,time:new Date,tpd_segments:t}))))}})))))),i.UI(o.Q1))};const vr=e=>t=>{const{config:r,metrics:n,permutiveApi:i,permutiveUrls:a}=e,s=n.startTimer("sdk_http_tpd_usage_seconds",{});return i.req({url:a.getEndpointUrl("/tpd/usage",_.G(r.apiVersion)),method:"POST",payload:t,contentType:"text/plain",dataType:"json",withCredentials:!1}).then((e=>(n.stopTimer("sdk_http_tpd_usage_seconds",s),e)))};function br(e,t){const[r,n]=D.Ue(0);let a=!1;const s=()=>{try{a=!0,n(r.current+1)}finally{a=!1}},c=["amp","gigya","pxid","sailthru"],u=(0,o.zG)(t.identities,D.UI(vt.z7((e=>!c.includes(e)))));return(0,o.zG)(i.vP({fetchFromNewEndpoint:(0,o.zG)(yr(e),Lt({backoffAfterErrorMs:6e5})),fetchFromLegacyEndpoint:(0,o.zG)(wr(e),Lt({backoffAfterErrorMs:6e5}))}),i.VS((n=>{let{fetchFromNewEndpoint:i,fetchFromLegacyEndpoint:s}=n;const c=t=>(0,o.zG)(i(t),_.UI((e=>e.catch((()=>(0,o.zG)(s(t.identities),_.fS((()=>e))))))),_.wp((()=>s(t.identities))),_.UI((0,z.bw)((t=>{const r=e.metrics.startTimer("sdk_get_third_party_data_task_duration_seconds",{});t.catch(o.Q1).then((()=>{e.metrics.stopTimer("sdk_get_third_party_data_task_duration_seconds",r)}))}))));return gr((0,o.zG)(D.vP(r,t.userId,t.sessionId,u),D.UI((e=>{let[t,r,n,i]=e;return{validityKey:()=>r,freshnessKey:()=>`${kr(i)},${n}`,refresh:()=>(0,o.zG)({userId:r,identities:i},_.DT((e=>{let{identities:t}=e;return a&&!vt.xb(t)})),_.tS(c))}}))))})),i.UI((e=>({refresh:s,data:e}))))}const yr=e=>t=>(0,n.mG)(void 0,void 0,void 0,(function*(){return(yield e.api.reqWithMetrics(e.metrics,"sdk_http_audience_matching_seconds",{url:e.permutiveUrls.getAudienceMatchingEndpointUrl("/id",_.G("v1"),t.userId),payload:{identities:(0,o.zG)(t.identities,vt.Yz,b.UI((e=>{let[t,r]=e;return{tag:t,id:r}})))},method:"POST",withCredentials:!1,dataType:"json"})).items})),wr=e=>t=>e.api.reqWithMetrics(e.metrics,"sdk_http_tpd_seconds",{url:e.permutiveUrls.getEndpointUrl("/tpd",_.G(e.config.apiVersion)),method:"POST",payload:{user_id:t},contentType:"text/plain",dataType:"json",withCredentials:!1}),kr=(0,o.ls)(JSON.stringify,z.vp);const Er=(e,t)=>(0,o.zG)(i.vP({data:br(e,{identities:t.identities,sessionId:t.sessionId,userId:t.userId}),usageReporting:hr(e,D.vP({tpdUsage:t.tpdUsage,userId:t.userId})),removeLegacyDataFromLocalStorage:i.dQ((t=>{let{previousState:r}=t;if(!r){const t=e.namespace.getNamespacedStorageKey("permutive-data-tpd");localStorage.removeItem(t)}return{value:null,state:D.a9(!0)}}))}),i.ak("analytics",(r=>{let{data:{data:n}}=r;return function(e,t){return i.dQ((r=>{let{previousState:n}=r;var i;return{state:(0,o.zG)(D.vP(t.userId,t.providerSegments),D.g_(null!==(i=n)&&"object"==typeof i?i:{userId:"",providerHashes:{}},((t,r)=>{let[n,i]=r;const a=(0,o.zG)(i,_.fS((()=>({})))),s=(0,o.zG)(a,vt.UI((0,z.SL)(z.vp))),c=(0,o.zG)(t,_.DT((e=>e.userId===n)),_.UI((e=>e.providerHashes)),_.fS((()=>({}))));return(0,o.zG)(a,vt.z7((e=>s[e]!==(c[e]||0))),vt.Su(((t,r)=>{e("ThirdPartySegments",{data_provider:t,segments:[...r]})}))),{userId:n,providerHashes:s}}))),value:void 0}}))}(e.track,{providerSegments:n,userId:t.userId})})),i.UI((e=>{let{data:t}=e;return{data:t.data,refreshData:t.refresh}})));var Sr=r(5619);r(4564);const Ir=function(e,t){return i.K4((()=>({addon:()=>({}),cohorts:_.YP})))};const Dr=(e,t)=>i.vP({contextual:Ir(e,t)}),Pr={empty:(()=>({byAdServer:(0,o.a9)(_.YP),all:O(b.cS)}))(),concat:(e,t)=>({all:(0,o.zG)((0,h.gz)(q)(e.all,t.all),M(b.xH)),byAdServer:(0,z.mQ)((r=>(0,o.zG)(b.oA([e.byAdServer(r),t.byAdServer(r)]),Wt.c2,_.UI((e=>e.reduce(((e,t)=>(0,o.zG)((0,h.gz)(q)(e,t),M(b.xH)))))))))})};D.a9([]),D.a9([]),D.a9([]),D.a9(Sr.b()),D.a9(_.YP),D.a9(_.YP);function Or(e,t,r){const{addonsLoaded:n,consent:a,currentTimestampSecs:s,enabledAddons:c,identities:u,realtime:d,sdkVariant:l,sessionId:f,userId:p,viewId:g}=t,[m,h]=D.Ue({}),[v,w]=(0,o.zG)(D.Ue(D.a9(_.YP)),(e=>{let[t,r]=e;return[D.xH(t),r]}));return(0,o.zG)(i.vP({lookalikeModels:fr(e),metricContext:Sr.X({sdkVariant:l,sessionId:f,userId:p,viewId:g}),computeTimeMetrics:(k=e.metrics,i.K4((e=>{let{onServiceStop:t}=e;const r=(0,y.HJ)((()=>{(0,o.zG)((0,y.iE)(),(0,z.bw)((()=>(0,y.ho)(!1))),b.UI((e=>{let[t,r]=e;return(r-t)/1e3})),(e=>{k.track({name:"sdk_ui_thread_compute_first10s_total_seconds",value:e.reduce(((e,t)=>e+t),0),labels:{}}),k.track({name:"sdk_ui_thread_compute_first10s_total_task_overrun_seconds",value:(0,o.zG)(e,b.hX((e=>e>.05)),b.UI((e=>e-.05)),b.u4(0,((e,t)=>e+t))),labels:{}}),k.track({name:"sdk_ui_thread_compute_first10s_longest_task_seconds",value:Math.max(0,...e),labels:{}})}))}),1e4);t(r)}))),audiences:Dr(e,t)}),i.ak("sdkql",(i=>{let{lookalikeModels:s}=i;return r(e,{addonsLoaded:n,adServers:t.adServers,consent:a,initdAddons:c,lookalikeModels:s,nonQlCohortTypes:m,thirdPartyData:v,userId:p})})),i.ak("strategicPartnerships",(t=>{let{sdkql:r}=t;return((e,t)=>i.vP({prebid_identifiers:er(e,t)}))(e,{pbjs:(0,o.zG)(r.prebidJS,D.UI((e=>(0,o.zG)(e.mainPair,_.UI((e=>e.pbjs))))))})})),i.ak("demandPartners",(t=>{let{sdkql:{queryLanguage:r}}=t;return((e,t)=>i.vP({ssp:Xt(e.externalData,e.permutiveApi,e.permutiveUrls,e.clientContext,t)}))(e,{consent:a,cohorts:(n=r.cohorts.all,M(re.F2)(n)),viewId:g});var n})),i.ak("mediaAndEntertainment",(t=>{let{sdkql:{queryLanguage:r}}=t;return((e,t)=>(0,o.zG)(i.vP({freewheel:tr(Object.assign({activationManager:e.activationManager,externalData:e.externalData},t))}),i.UI((0,o.a9)({}))))(e,{addonsLoaded:n,consent:a,initdAddons:c,queryLanguageCohorts:T(r.cohorts.all)})})),i.ak("publishers",(t=>{let{sdkql:{queryLanguage:r}}=t;return((e,t)=>(0,o.zG)(i.vP({addressability:pr(e,D.vP({addonsLoaded:t.addonsLoaded,consent:t.consent,currentTimestampSecs:t.currentTimestampSecs,initdAddons:t.initdAddons,queryLanguageCohorts:A(t.queryLanguageCohorts),realtime:t.realtime,userId:t.userId})),audienceMatching:Er(e,{identities:t.identities,sessionId:t.sessionId,tpdUsage:t.tpdUsage,userId:t.userId})}),i.UI((e=>{let{addressability:t,audienceMatching:r}=e;return{classificationModels:t.classificationModels,refreshThirdPartyData:r.refreshData,thirdPartyData:r.data}}))))(e,{addonsLoaded:n,consent:a,currentTimestampSecs:s,identities:u,initdAddons:c,queryLanguageCohorts:r.pageviewCohorts.all,realtime:d,sessionId:f,tpdUsage:r.tpdUsage,userId:p})})),i.ak("advertisers",(t=>{let{demandPartners:r,sdkql:i}=t;return Jt(e,{addonsLoaded:n,consent:a,customCohorts:i.queryLanguage.pageviewCohorts.custom,demandPartnerCohorts:(0,o.zG)(r.ssp,_.UI((e=>e.all)),_.fS((()=>wt(b.bM()))),(s=()=>b.bM(),D.UI((0,o.ls)(E,re.fS(s))))),initdAddons:c,prebidJS:i.prebidJS,realtime:d,sessionId:f,standardCohorts:i.queryLanguage.pageviewCohorts.standard,userId:p,viewId:g});var s})),i.bw((e=>{let{publishers:t}=e;return w(t.thirdPartyData)})),i.ak("nonQlCohortTypes",(e=>{let{advertisers:t,audiences:r,demandPartners:n,publishers:a}=e;return(0,o.zG)(i.of({advertiser:t.segments,classificationModel:a.classificationModels,contextual:r.contextual.cohorts,ssp:n.ssp}),i.UI(vt.oA),i.bw(h))})),i.UI((e=>{let{audiences:t,metricContext:r,nonQlCohortTypes:n,publishers:i,sdkql:a,strategicPartnerships:s}=e;return{addons:{contextual:t.contextual.addon},eventCollection:a.eventCollection,metricContext:r,nonQLCohorts:(0,o.zG)(Object.values(n),b.Lx(Pr)(Dt),(e=>e.byAdServer),(e=>(0,o.ls)(e,_.UI(T),_.fS((()=>D.a9(b.bM())))))),pbjsPair:D.UI((e=>e.mainPair),a.prebidJS),prebidIdentifiers:s.prebid_identifiers,queryLanguageCohorts:(0,o.zG)(a.queryLanguage.cohorts,vt.UI(T)),refreshThirdPartyData:i.refreshThirdPartyData,resetQL:a.reset}})));var k}function Mr(e){return Gt(e,Cr)}function Cr(e,t){return Or(e,t,xt)}},2233:(e,t,r)=>{r.d(t,{iq:()=>l,B9:()=>g,ti:()=>m});var n=r(2688),i=r(787),a=r(365),s=r(6567),o=r(3735),c=r(2652);var u=r(3030);const d="__permutive.",l="__permutiveConfigQueryParams";const f={default:{windowKey:"permutive",environment:"default",apiHost:"api.permutive.com",apiKey:"",cdnBaseUrl:"cdn.permutive.com",pxidHost:"prmutv.co",apiVersion:"v2.0",sdkErrorsApiVersion:"v2",advertiserApiVersion:"v2",classificationModelsApiVersion:"v1",apiProtocol:"https",loggingEnabled:!1,tracingEnabled:!1,requestTimeout:5e3,cookieDomain:"."+(0,u._Y)(window.location.hostname),cookieName:"permutive-id",cookieExpiry:function(){const e=new Date;return e.setMonth(e.getMonth()+6),e.toUTCString()}(),eventsTTLInDays:null,permutiveDataMiscKey:"permutive-data-misc",permutiveDataModelsKey:"permutive-data-models",permutiveDataQueriesKey:"permutive-data-queries",permutiveDataEnrichersKey:"permutive-data-enrichers",stateNamespace:"",sendClientErrors:!0,metricsSamplingPercentage:20,eventsCacheLimitBytes:25e5,segmentSyncApiHost:"507b28fb-2ef1-4c34-8bda-ba32030bb199.partner.permutive.app",consentRequired:!1,sdkType:"stable",viewId:null,localStorageDebouncedKeys:["internal_query_states"],localStorageWriteDelay:1e3,localStorageWriteMaxDelay:1500,watson:{enabled:!0}},production:{},development:{apiProtocol:"http",loggingEnabled:!0,tracingEnabled:!0,sendClientErrors:!1}},p=e=>{const t={consentRequired:!0,loggingEnabled:!0,sendClientErrors:!0,tracingEnabled:!0},r={eventsTTLInDays:!0,eventsCacheLimitBytes:!0,metricsSamplingPercentage:!0,requestTimeout:!0,localStorageWriteDelay:!0,localStorageWriteMaxDelay:!0};return Object.keys(e).reduce(((n,i)=>{if(t.hasOwnProperty(i)){const t="true"===e[i];return Object.assign(Object.assign({},n),{[i]:t})}if(r.hasOwnProperty(i)){const t=Number(e[i]);return isNaN(t)?n:Object.assign(Object.assign({},n),{[i]:t})}return Object.assign(Object.assign({},n),{[i]:e[i]})}),{})},g=function(){let{getQueryParams:e=u.zM}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e=>Object.entries(e).reduce(((e,t)=>{let[r,n]=t;if(!(0===r.indexOf(d)))return e;const i=r.replace(d,"");return[...e,[i,n]]}),[]);return(0,o.zG)(a.Y3((()=>(0,o.zG)(e(),t,(e=>(0,c.m8)(...e)),p,(e=>_({queryConfig:e})))),(e=>`Failed to parse query params. Got ${(0,n.w)(e).message}`)))},_=e=>{let{queryConfig:t}=e;const r=(0,o.zG)(s.Y3((()=>window.sessionStorage.getItem(l))),s.tS(s.ij),s.tS((0,o.ls)(i.A,s.ij)),s.fS((()=>({}))));return(0,c.PM)(r,t)},m=(e,t)=>{var r;const n=null!==(r=e.environment&&f[e.environment])&&void 0!==r?r:{};return(0,c.PM)(f.default,n,e,t)}},4564:(e,t,r)=>{r.d(t,{NY:()=>m,vk:()=>p,qA:()=>f});var n=r(7582),i=r(2688),a=r(365),s=r(3735),o=r(4767),c=r(8259),u=r(1410),d=r(2851);var l=r(30);const f=()=>({opt_in:!0,token:u.L}),p=()=>({opt_in:!1,token:""}),g=e=>{return(0,s.ls)((t=e,e=>(0,s.zG)((0,l.J)(t.consentRequired,e),(e=>{let{consentData:r,isValid:n}=e;return t.consentDatabase.put(r,u.L),n}))),(e=>{let{logger:t,messages:r}=e;return e=>{const n=e?"given":"revoked";return t.log("Consent has been",n),r.emit(`permutive:consent:${n}`),e}})(e));var t},_=e=>(t,r)=>{e.on("permutive:consent:revoked",t),e.on("permutive:consent:given",r)},m=e=>(0,n.mG)(void 0,void 0,void 0,(function*(){const{logger:t,namespace:r,consentRequired:n,messages:f}=e,p=new c.oP(window.localStorage,r),m=(0,l.J)(n,yield p.get(u.L)),h=yield(0,s.zG)(o.Y3((()=>p.put(m.consentData,u.L)),(e=>new Error(`LocalStorage access is required. ${(0,i.w)(e).message}`))),(e=>e()));if(a.nM(h))return h;const{consentRef:v,giveConsent:b,revokeConsent:y,isRevoked:w,isGiven:k}=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const[t,r]=d.Ue(e),n=()=>!0===t.current;return{consentRef:t,revokeConsent:()=>(r(!1),t.current),giveConsent:()=>(r(!0),t.current),isRevoked:()=>!n(),isGiven:n}}(m.isValid),E={consentRef:v,isGiven:k,isRevoked:w,listenForConsent:_(f)};E.listenForConsent(y,b);const S=g({consentDatabase:p,consentRequired:n,logger:t,messages:f});return a.F2({consentTracking:E,consentValidation:S,consentDatabase:p})}))},1410:(e,t,r)=>{r.d(t,{L:()=>n});const n="permutive-consent"},7708:(e,t,r)=>{r.d(t,{D:()=>l});var n=r(1500),i=r(365),a=r(3735),s=r(6567),o=r(5151),c=r(4922),u=r(1410),d=r(30);const l=e=>{const{partialTagWithKey:t}=e,r=t.key;var l;window[r].consent=(l=e,(0,a.ls)(l.consentModule.consentValidation,s.DT(Boolean),s.UI((0,c.H)(l)),a.Q1));const f=(0,s.EQ)((()=>{return t={consentDatabase:e.consentModule.consentDatabase,consentRequired:e.tag.config.consentRequired},(0,a.zG)((0,a.a9)(t.consentDatabase.get(u.L)),(0,o.UI)((e=>(0,d.J)(t.consentRequired,e).isValid)));var t}),o.of);return(0,a.zG)((0,a.zG)((e=>{let{consentModule:t,tag:r}=e;const i=(0,n.Ew)((function(e){return"consent"===e.functionName}))(r.q);return(0,s.UI)((e=>t.consentValidation(e.arguments[0])))(i)})(e),f),(0,o.UI)((e=>e?(0,i.F2)(!0):(0,i.t$)("No consent to run on the page"))))}},4769:(e,t,r)=>{r.d(t,{v:()=>n});const n=(e,t,r)=>function(){const n=r()?t:e;return n(...arguments)}},30:(e,t,r)=>{r.d(t,{J:()=>s});var n=r(3735),i=r(6567),a=r(4564);const s=(e,t)=>(0,n.zG)((0,i.ij)(t),(t=>!1===e&&(0,i.Wi)(t)?{isValid:!0,consentData:(0,a.qA)()}:(e=>(0,i.pC)(e)&&(e=>null!==e&&"object"==typeof e)(e.value)&&(e=>{var t;return!0===e.opt_in&&"string"==typeof e.token&&(null===(t=e.token)||void 0===t?void 0:t.length)>0})(e.value))(t)?{isValid:!0,consentData:t.value}:{isValid:!1,consentData:(0,a.vk)()}))},3298:(e,t,r)=>{r.d(t,{S:()=>v});var n=r(3735),i=r(7582),a=r(6567),s=r(1500),o=r(2851),c=r(8612),u=r(2497),d=r(5165),l=r(3992);var f=r(2652);class p{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.wait_prev=t.wait_prev||!1,this.block_next=t.block_next||!1,this.started=!1,this.complete=!1,this.task=e}waits(){return this.wait_prev}blocks(){return this.block_next}execute(e){this.started=!0,this.task((()=>{this.complete=!0,e()}))}}var g=r(6315);class _{constructor(e,t,r,n,i,a,s,o,c,u,d,l,f,p,g,_,m,h,v,b,y,w,k,E,S,I,D,P){this.logger=e,this.api=t,this.activationManager=r,this.sessionManager=n,this.metrics=i,this.viewId=a,this.userId=s,this.network=o,this.enrichers=c,this.clientContext=u,this.unprocessedEvents=d,this.queryManager=l,this.taskQueue=f,this.identities=p,this.permutiveReset=g,this.messages=_,this.addons=m,this.trace=h,this.permutiveRealtime=v,this.state=b,this.customProperties=y,this.config=w,this.permutiveData=k,this.externalData=E,this.cookies=S,this.identitiesIngestor=I,this.global=D,this.nextGen=P,this.initialisedAddons=[],this.triggerListeners=[]}identify(e){const t="[Identify]";this.logger.debug("<call> identify",e);const r=(0,f.b2)(),o=this.identities.parseCustomerDefinedIdentities(e),u=Object.assign(Object.assign({},this.identities.getIdentitiesMap()),o.reduce(((e,t)=>{let{tag:r,id:n,priority:i,expiry:a}=t;return Object.assign(Object.assign({},e),{[r]:Object.assign(Object.assign({id:n},void 0!==i?{priority:i}:{}),void 0!==a?{expiry:a}:{})})}),{})),d=(0,n.zG)(Object.values(u),s.DZ((e=>a.ij(e.id)))),l=this.identities.getPrioritizedIdentities(u);if("string"==typeof e&&(0,c.Bt)("507b28fb-2ef1-4c34-8bda-ba32030bb199","507b28fb-2ef1-4c34-8bda-ba32030bb199",d,window.location.hostname,this.userId.get()))return r.resolve(),r.promise;const _=()=>(0,i.mG)(this,void 0,void 0,(function*(){this.nextGen.refreshThirdPartyData()})),m=e=>(0,i.mG)(this,void 0,void 0,(function*(){yield(0,g.Yj)({clientContext:this.clientContext,global:this.global,identities:this.identities,logger:this.logger,nextGen:this.nextGen,reset:this.permutiveReset,userId:this.userId},e.user_id)}));return this.taskQueue.add(new p((e=>(0,i.mG)(this,void 0,void 0,(function*(){this.logger.debug("<task> identify",o);const n=()=>(0,i.mG)(this,void 0,void 0,(function*(){this.logger.log(t,"request identity");const e=yield this.api.identify(this.metrics,this.userId,l);this.userId.isEqual(e.user_id)?(this.metrics.track({name:"sdk_identity_remained_total",value:1,labels:{identify_reason:"identify_call"}}),yield _()):(this.metrics.track({name:"sdk_identity_changed_total",value:1,labels:{identify_reason:"identify_call"}}),yield m(e))}));this.identities.setIdentities(o).identifyRequestRequired()?yield n():this.logger.log(t,"skip request"),this.logger.debug("<done> identify",o),e(),r.resolve(),yield this.identitiesIngestor.ingestIfEligible(o).catch((e=>this.api.reportError(`Couldn't ingest identities, got ${e}`,this.userId.get())))}))),{wait_prev:!0,block_next:!0})),r.promise}on(e,t){return this.nextGen.eventCollection.on(e,t)}once(e,t){return this.nextGen.eventCollection.once(e,t)}track(){var e,t,r;const[n,i,a]=[arguments.length<=0?void 0:arguments[0],(arguments.length<=1?void 0:arguments[1])||{},(arguments.length<=2?void 0:arguments[2])||{}],s=this.trace.startSpan("track_event");this.logger.log("<call> track",n);const o=(0,f.b2)(),c=null!==(e=a.unprocessedData)&&void 0!==e?e:{},u=null!==(t=c.sessionId)&&void 0!==t?t:this.sessionManager.getSessionId(),d=null!==(r=c.viewId)&&void 0!==r?r:this.viewId.get(),l={success:a.success||(e=>{}),error:a.error||((e,t)=>{})};return this.taskQueue.add(new p((e=>{this.logger.log("<task> track",n);return(c.client?Promise.resolve(c.client):this.clientContext.getClient()).then((t=>{var r;const c={name:n,properties:i,session_id:u,view_id:d,time:new Date};return this.nextGen.eventCollection.track({client:i.client?(0,f.PM)(t,i.client):t,event:c,requestOptions:l,useBeacon:null!==(r=a.useBeacon)&&void 0!==r&&r}).then((t=>{this.logger.log("<done> track",c.name),o.resolve(c),e(),s.finish()})).catch((e=>{var t;null===(t=l.error)||void 0===t||t.call(l,e),this.api.reportError(e,this.userId.get()),o.reject(e)}))}))}))),o.promise}trigger(e,t,r){const n=(0,f.b2)();this.logger.log("<call> trigger",e),this.triggerListeners=this.triggerListeners||[];return this.taskQueue.add(new p((t=>{this.logger.log("<task> trigger",e);const i=this.messages.on("permutive:query:changed",(function(t){t.queryCode===e&&(r(t.result),n.resolve(t.result))}));this.triggerListeners.push(i),this.logger.log("<done> trigger",e),t()}))),n.promise}query(){return Promise.resolve({result:!1})}segment(e,t){const r=(0,f.b2)();this.logger.log("<call> segment",e);return this.taskQueue.add(new p((n=>{var i;this.logger.log("<task> segment",e);const a=this.queryManager.stateMap.value[e];t((null===(i=null==a?void 0:a.result)||void 0===i?void 0:i.result)||!1),r.resolve(),this.logger.log("<done> segment",e),n()}))),r.promise}segments(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";const r=(0,f.b2)();this.logger.log("<call> segments");return this.taskQueue.add(new p((n=>{this.logger.log("<task> segments ("+t+")");const i=i=>{e(i),r.resolve(i),this.logger.log("<done> segments ("+t+")"),n()};"dfp"===t?this.messages.once("permutive:dfp:ready",(()=>{this.addons.dfp&&i([...this.addons.dfp.segments.liveSegments])})):i([...this.nextGen.queryLanguageCohorts.all.current])}))),r.promise}reset(){return Promise.all([this.api.reset(this.metrics),this.identities.reset(),this.permutiveReset.reset(),this.unprocessedEvents.PageviewComplete.reset(),this.nextGen.resetQL({downloadState:!1,preserveEventsFromCurrentView:!1})]).then((e=>{let[t]=e;this.userId.set(t.id)})).then((()=>{this.messages.emit("permutive:reset")})).catch((e=>{this.api.reportError(`Error resetting internals. Got ${e}`)}))}addon(e,t){const s=Object.assign(Object.assign({},t),{permutive:this,api:this.api,activationManager:this.activationManager,network:this.network,clientContext:this.clientContext,logger:this.logger,unprocessedEvents:this.unprocessedEvents,metrics:this.metrics,state:this.state,queryManager:this.queryManager,messages:this.messages,userId:this.userId,viewId:this.viewId,customProperties:this.customProperties,config:this.config,permutiveData:this.permutiveData,sessionManager:this.sessionManager,addons:this.addons,enrichers:this.enrichers,externalData:this.externalData,cookies:this.cookies,nextGenOutput:this.nextGen,identities:this.identities}),c=((0,n.zG)(this.nextGen.pbjsPair,o.UI(a.UI((0,f.vg)("pbjs")))),e=>{this.initialisedAddons.push(e),this.messages.emit("permutive:addon:preinit",e)});if(-1===this.initialisedAddons.indexOf(e))switch(c(e),e){case"web":Promise.resolve().then(r.bind(r,4400)).then((e=>this.addons.web=new e.WebAddon(s))).then((()=>this.messages.emit("permutive:web:ready")));break;case"publishers":case"overlays":case"scriptrunner":case"freewheel":case"facebook_pixel_v2":case"tiktok_pixel":case"eyeota_pixel":case"rubicon":case"rubicon_ssp":case"tracking_pixel":case"twitter_pixel":case"pinterest_pixel":case"local_storage":case"appnexus_adserver":case"prebid":case"classification_models":case"clean_room":case"gam_log":case"smart":case"tradedesk":case"ddp":case"dbm":case"appnexus":case"pubmatic":case"ctv":case"ssp":0;break;case"dfp":Promise.resolve().then(r.bind(r,9658)).then((e=>(0,i.mG)(this,void 0,void 0,(function*(){return this.addons.dfp=yield e.createAddon(s)}))));break;case"nativo":Promise.resolve().then(r.bind(r,488)).then((e=>this.addons.nativo=new e.NativoAddon(s)))}else"web"===e&&!0!==t.auto_init?((e,t,r,n)=>new Promise(((i,s)=>{var o;const c=(0,a.Y3)(e);if((0,a.pC)(c))return i(c.value);r.once(t,(()=>(0,a.g_)((()=>s(new Error(`Error after waiting for event ${t}`))),i)((0,a.Y3)(e))));const u=null!==(o=null==n?void 0:n.timeout)&&void 0!==o?o:1e4;(0,l.HJ)((()=>s(new Error(`Event ${t} was not received within the timeout period ${u}ms`))),u)})))((()=>{if(!this.addons.web)throw new Error('"web" addon not ready');return this.addons.web.reset(t)}),"permutive:web:ready",this.messages).catch((e=>{this.api.reportError(`Got error while trying to reset web. Got ${e.message}`,this.state.userId.get())})):"ctv"===e&&(null==t||t.auto_init)}addonIfTCFConsent(e,t){const r=()=>{switch(e.key){case"tradedesk":this.addons.tradedesk=new e.Addon(t);break;case"ddp":this.addons.ddp=new e.Addon(t);break;case"appnexus":this.addons.appnexus=new e.Addon(t);break;case"pubmatic":this.addons.pubmatic=new e.Addon(t)}},i=t=>t[d.D[e.key]]?r():(0,n.Q1)();return(0,u._8)(window).then((e=>{switch(e.type){case"missing":return r();case"aborted":return(0,n.Q1)();case"loaded":return(0,n.zG)((0,u.Ec)(e.data),(0,a.g_)(r,i))}}))}ready(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"initialised";const r=(0,f.b2)(),n=()=>{e(),r.resolve()};switch(t){case"initialised":this.permutiveRealtime.isReady()?n():this.messages.on("permutive:ready",n);break;case"realtime":this.permutiveRealtime.isRealtime()?n():this.messages.once("permutive:realtime",n)}return r.promise}}var m=r(4769);const h=e=>{const{logger:t,consentTracking:r}=e,a=function(){return t.debug("Methods[track]: Cannot track as consent is revoked"),Promise.resolve(null)};return e=>class extends e{constructor(){super(...arguments),this.track=(0,m.v)(super.track.bind(this),a,r.isRevoked),r.isRevoked()&&this.consentRevoked(),r.listenForConsent((()=>this.consentRevoked()),n.Q1)}consentRevoked(){return(0,i.mG)(this,void 0,void 0,(function*(){return yield this.sessionManager.reset(),this.reset()}))}}},v=(e,t,r,i,a,s,o,c,u,d,l,f,p,g,m,v,b,y,w,k,E,S,I,D,P,O,M,C,x)=>new((0,n.zG)(_,h({consentTracking:C,logger:e})))(e,t,r,i,a,s,o,c,u,d,l,f,p,g,m,v,b,y,w,k,E,S,I,D,P,O,M,x)},6416:(e,t,r)=>{r.d(t,{O:()=>c});var n=r(1828),i=r(365),a=r(3735);const s=e=>(0,a.zG)((e=>"function"==typeof e.Map?(0,i.F2)(new e.Map([["a",1]])):(0,i.t$)("Maps not supported"))(e),i.tS((e=>1===e.size?(0,i.F2)(null):(0,i.t$)("Iterable Maps not supported")))),o=e=>(0,a.zG)((e=>"function"==typeof e.Set?(0,i.F2)(new e.Set([1,2])):(0,i.t$)("Sets not supported"))(e),i.tS((e=>2===e.size?(0,i.F2)(null):(0,i.t$)("Iterable Sets not supported")))),c=e=>(0,a.zG)((0,n.gz)(i.G5)(s(e),o(e),(e=>e.Worker&&e.Blob?(0,i.F2)(null):(0,i.t$)("WebWorkers not supported"))(e)),(e=>(0,i.UI)(a.Q1)(e)))},6315:(e,t,r)=>{r.d(t,{Yj:()=>g,TZ:()=>f});var n=r(7582),i=r(2688),a=r(5151),s=r(7758),o=r(1828),c=r(3735),u=r(2652);var d=r(8612);const l=e=>(0,n.mG)(void 0,void 0,void 0,(function*(){yield e.identities.thirdParty,yield function(e,t){return(0,d.Bt)("507b28fb-2ef1-4c34-8bda-ba32030bb199","507b28fb-2ef1-4c34-8bda-ba32030bb199",e.identities.getPrioritizedIdentities(e.identities.getIdentitiesMap()).map((e=>e.id)),window.location.hostname,e.userId.get())?t.reset():Promise.resolve()}(e,e.permutiveMethods);const t=yield function(e){const t=e.trace.startSpan("identify");0;return(e=>(0,n.mG)(void 0,void 0,void 0,(function*(){const t="[Identify Init]",{logger:r,api:n,userId:i,identities:a,metrics:s,identitiesIngestor:o,messages:c,sessionManager:d}=e,l=yield a.thirdParty,f=a.extractIdentifyFromQueue(e),p=a.getIdentitiesMap(),g=f.reduce(((e,t)=>{let{tag:r,id:n,priority:i,expiry:a}=t;return Object.assign(Object.assign({},e),{[r]:Object.assign(Object.assign({id:n},a?{expiry:a}:{}),void 0!==i?{priority:i}:{})})}),{}),_=Object.assign(Object.assign({},p),g),m=a.setIdentities(Object.entries(_).map((e=>{let[t,{id:r,priority:n,expiry:i}]=e;return Object.assign(Object.assign({tag:t,id:r},i?{expiry:i}:{}),void 0!==n?{priority:n}:{})}))),h=a.getPrioritizedIdentities(_);r.log("Begin identification");const v=e.sessionCount>1&&d.sessionHasChanged()||l.identifyRequestRequired()||m.identifyRequestRequired()?yield(r.debug(t,"request identity"),n.identify(s,i,h).then((e=>{const n=e.user_id;return i.isEqual(n)?{identityChanged:!1}:(r.debug(t,"fetch received new user id",n),{identityChanged:!0,userId:n})})).catch((e=>(n.reportError(`${t} Fetch failed. Got ${e}`,i.get()),{identityChanged:!1}))).then((0,u.bw)((t=>e.metrics.track({name:`sdk_identity_${t.identityChanged?"changed":"remained"}_total`,value:1,labels:{identify_reason:"sdk_init"}}))))):(r.debug(t,"skip request"),{identityChanged:!1});return o.ingestIfEligible(h).catch((e=>n.reportError(`Couldn't ingest identities, got ${e}`,v.identityChanged?v.userId:i.get()))),c.emit("permutive:user:ready"),r.debug(t,"result",v),v})))(e).catch((t=>(e.api.reportError(`Failed to identify. Got ${(0,i.w)(t)}`),{identityChanged:!1}))).then((e=>(t.finish(),e)))}(e);return t.identityChanged?yield g(e,t.userId):(e.logger.log("Identity has not changed"),e.nextGen.refreshThirdPartyData()),t})),f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>{};return(0,n.mG)(void 0,void 0,void 0,(function*(){l(e).then(t),yield p(e.logger,e.trace,e.permutiveMethods,e.unprocessedEvents,e.queryManager,e.eventCollection,e.metrics)(),_(e.global,e.clientContext)}))};function p(e,t,r,i,d,l,f){e.log("Assuming identity hasn't changed");const p=d.hasNewOrModifiedQueries,g=p?(0,c.zG)((()=>l.allEvents()),a.tS((e=>d.bootstrap(e)))):d.bootstrap([]),_=(0,c.zG)((()=>i.PageviewComplete.getIfPresent()),(0,u.bw)(s.EQ((()=>e.debug("No unprocessed PVC data detected")),(t=>e.debug("Unprocessed PVC data detected",t)))),s.wE((e=>{var{props:t}=e,s=(0,n._T)(e,["props"]);return o.gz(a.oE)((()=>r.track("PageviewComplete",t,{unprocessedData:s})),(()=>i.PageviewComplete.reset()))})),a.UI((()=>{})));return(0,c.zG)(o.gz(a.oE)((()=>(0,n.mG)(this,void 0,void 0,(function*(){return t.startSpan(`qm_bootstrap_${p}`)}))),g,_),a.UI((e=>{let[t]=e;return t.finish()})))}function g(e,t){return(0,n.mG)(this,void 0,void 0,(function*(){e.logger.log("Identity has changed"),yield e.reset.reset(),e.userId.set(t),_(e.global,e.clientContext),e.nextGen.refreshThirdPartyData(),e.identities.setIdentities([]),yield e.nextGen.resetQL({downloadState:!0,preserveEventsFromCurrentView:!0})}))}function _(e,t){return e.context=t.getContext()}},5919:(e,t,r)=>{function n(e,t,r,n,i){i.debug("set SDK as ready"),e.setAsReady(),t.emit("permutive:api:ready"),r.track({name:"sdk_local_storage_byte_total",value:n.getStateSizeInBytes(),labels:{}}),r.track({name:"sdk_query_states_byte_total",value:e.getStateSizeInBytes(),labels:{}})}r.d(t,{R:()=>n})},7985:(e,t,r)=>{r.d(t,{$o:()=>s,je:()=>o});var n=r(365),i=r(3735),a=r(2233);const s=e=>{var t,r;const a="507b28fb-2ef1-4c34-8bda-ba32030bb199",s=void 0!==(null===(t=e[a])||void 0===t?void 0:t.q)&&void 0!==(null===(r=e[a])||void 0===r?void 0:r.config)?a:"permutive";return(0,i.zG)(e[s],(0,n.ij)("Can't find permutive tag on the page"),(0,n.UI)((e=>({tag:e,key:s}))))},o=(e,t)=>{let{tag:r,key:n}=e;return Object.assign(Object.assign({},r),{config:(0,a.ti)(Object.assign(Object.assign({},r.config),{windowKey:n}),t)})}},7078:(e,t,r)=>{r.d(t,{LA:()=>o});var n=r(1500),i=r(7209),a=r(2652);const s=(e,t,r)=>{let{api:n,state:i}=r;n.reportError(`Function "permutive.${t.functionName}" caused an error: ${e.message}`,i.userId.get())};function o(e,t,r,n,i,a){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:l;const u=c(e),d=a.startSpan("queued_methods"),f={api:i,state:t},p=e=>{if(e.functionName in r){r[e.functionName].apply(n,e.arguments)}else s(new Error("Does not exist."),e,f)},g=e=>!o.includes(e);u.forEach((e=>{try{g(e.functionName)&&p(e)}catch(t){const r=t instanceof Error?t:new Error("Unknown error.");s(r,e,f)}})),d.finish()}function c(e){const t=(0,n.uK)((e=>-1!==d.indexOf(e.functionName)))(e),r=t.right,s=t.left.filter((e=>"consent"!==e.functionName)),o=(0,i.Zt)(((e,t)=>u(e)&&u(t)?(0,a.lW)(f).compare(e.arguments[0],t.arguments[0]):(0,a.lW)(d).compare(e.functionName,t.functionName)));return(0,n.DY)(o)(r).concat(s)}const u=e=>"addon"===e.functionName,d=["identify","trigger","addon","track"],l=["identify"],f=["dfp","appnexus_adserver","web"]},4922:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{H:()=>initialiseWebSDK,f:()=>initialisationSequence});var tslib__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(7582),_permutive_permutive_utils_ts_error__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(2688),fp_ts_Either__WEBPACK_IMPORTED_MODULE_51__=__webpack_require__(365),fp_ts_function__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(3735),fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(4767),_framework_ref__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2851),_identity_legacy_NeustarFabrickIdentitiesIngestor__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6967),_identity_legacy_PermutiveIdentities__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8612),_identity_legacy_PermutiveIdentitiesIngestorNoOp__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__(7658),_sdkql_blockers__WEBPACK_IMPORTED_MODULE_52__=__webpack_require__(122),_sdkql_query_language_queryWorkerInit__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8318),_core_activations_PermutiveActivationManagerWeb__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(8975),_core_activations_PermutiveAddons__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9853),_core_context_PermutiveClientContextWeb__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__(2836),_sdkql_event_collection_events_cache_store_crypto_HashcodeDigest__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6197),_sdkql_event_collection_PermutiveEventCustomProps__WEBPACK_IMPORTED_MODULE_44__=__webpack_require__(7748),_core_events_unprocessed_UnprocessedPageviewComplete__WEBPACK_IMPORTED_MODULE_42__=__webpack_require__(389),_core_events_unprocessed_UnprocessedPrebidAuctions__WEBPACK_IMPORTED_MODULE_43__=__webpack_require__(5865),_core_internals_CookiesWeb__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(5461),_core_internals_ExternalDataWeb__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__(9773),_core_internals_PermutiveLogger__WEBPACK_IMPORTED_MODULE_58__=__webpack_require__(342),_core_internals_SDKMessages__WEBPACK_IMPORTED_MODULE_61__=__webpack_require__(8491),_core_metrics_MetricReporter__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(4454),_core_metrics_Metrics__WEBPACK_IMPORTED_MODULE_62__=__webpack_require__(4074),_sdkql_query_language_query_manager_QueryManagerWeb__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(1628),_core_session_SessionManager__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(8317),_core_state_PermutiveDataStoreWeb__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(4026),_sdkql_state_sync_PermutiveEventSourceId__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(3622),_core_state_PermutiveNamespace__WEBPACK_IMPORTED_MODULE_60__=__webpack_require__(569),_core_state_PermutiveRealtime__WEBPACK_IMPORTED_MODULE_41__=__webpack_require__(7575),_core_state_PermutiveReset__WEBPACK_IMPORTED_MODULE_45__=__webpack_require__(7256),_sdkql_state_sync_PermutiveStateSyncWeb__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(1229),_core_state_PermutiveStateWeb__WEBPACK_IMPORTED_MODULE_50__=__webpack_require__(7274),_core_state_PermutiveUserId__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(9117),_core_state_PermutiveViewId__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(9880),_core_store_LocalStorage__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__(7554),_core_store_SessionStorage__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(9332),_core_tcf_TCF__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(2497),_dynamic_addons_LoadAddons__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(6037),_sdkql_event_collection_enrichment_Enrichers_GlobalEnricher__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__(7200),_sdkql_event_collection_enrichment_RegisterEnrichers__WEBPACK_IMPORTED_MODULE_54__=__webpack_require__(6341),_dynamic_messages_PermutiveMessages__WEBPACK_IMPORTED_MODULE_53__=__webpack_require__(9078),_http_PermutiveApi__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(7423),_http_PermutiveNetwork__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(4586),_http_PermutiveUrls__WEBPACK_IMPORTED_MODULE_59__=__webpack_require__(310),_utils_PermutiveUtils__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(2652),_utils_task_queue_PermutiveTaskQueue__WEBPACK_IMPORTED_MODULE_46__=__webpack_require__(4996),_utils_Trace__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(6574),_utils_urls_UrlHelpers__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__(3030),_Config__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(2233),_Consent_Consent__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(4564),_Consent_InitialisationCheckWeb__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(7708),_initialisation_browserFeatures__WEBPACK_IMPORTED_MODULE_56__=__webpack_require__(6416),_initialisation_identity__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(6315),_initialisation_initialisationLifecycle__WEBPACK_IMPORTED_MODULE_55__=__webpack_require__(5919),_initialisation_permutiveTag__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(7985),_initialisation_queuedMethods__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(7078),_PermutiveMethodsWeb__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(3298),_framework_compute_time_measurement__WEBPACK_IMPORTED_MODULE_47__=__webpack_require__(3992),fp_ts_Task__WEBPACK_IMPORTED_MODULE_48__=__webpack_require__(5151),main_dynamic_addons_dfp_ad_request__WEBPACK_IMPORTED_MODULE_57__=__webpack_require__(3248),main_dynamic_addons_dfp_ad_server__WEBPACK_IMPORTED_MODULE_49__=__webpack_require__(9624),main_dynamic_addons_appnexus_adserver__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(2721);const prefix="[Initialisation Web]",sdkInitTimestamp=window.performance.now(),initialiseWebSDK=_ref=>{let{consentModule,logger,messages,metrics,namespace,network,partialTagWithKey,permutiveData,queryWorker,tag,sessionStorage,configFromQueryParams,urls}=_ref;return(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.Y3)((()=>(0,tslib__WEBPACK_IMPORTED_MODULE_31__.mG)(void 0,void 0,void 0,(function*(){const windowKey=partialTagWithKey.key,permutiveGlobal=window[windowKey],config=tag.config,viewId=new _core_state_PermutiveViewId__WEBPACK_IMPORTED_MODULE_15__.W(config),trace=new _utils_Trace__WEBPACK_IMPORTED_MODULE_32__.l(config),sdkReadySpan=trace.startSpan("sdk_ready"),{consentTracking,consentValidation}=consentModule;(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_33__.zG)(consentTracking.consentRef,_framework_ref__WEBPACK_IMPORTED_MODULE_0__.YP((e=>{e?sessionStorage.put(configFromQueryParams,_Config__WEBPACK_IMPORTED_MODULE_22__.iq).then(fp_ts_function__WEBPACK_IMPORTED_MODULE_33__.Q1,(e=>{logger.warn(prefix,`Failed to cache "${_Config__WEBPACK_IMPORTED_MODULE_22__.iq}".`,(0,_permutive_permutive_utils_ts_error__WEBPACK_IMPORTED_MODULE_34__.w)(e))})):sessionStorage.delete(_Config__WEBPACK_IMPORTED_MODULE_22__.iq)}))),window[windowKey].consent=consentValidation;const context=(0,_utils_PermutiveUtils__WEBPACK_IMPORTED_MODULE_21__.PM)(tag.context||{},{path:window.location.pathname,url:(0,_utils_urls_UrlHelpers__WEBPACK_IMPORTED_MODULE_35__.bk)(window.location.href),referrer:(0,_utils_urls_UrlHelpers__WEBPACK_IMPORTED_MODULE_35__.bk)(document.referrer),view_id:viewId.get()}),createInternalsSpan=trace.startSpan("internals"),cookieStore=(0,_core_internals_CookiesWeb__WEBPACK_IMPORTED_MODULE_7__.S)(namespace,config,logger,consentTracking),localStorage=(0,_core_store_LocalStorage__WEBPACK_IMPORTED_MODULE_36__.E)(namespace,logger,consentTracking),externalData=(0,_core_internals_ExternalDataWeb__WEBPACK_IMPORTED_MODULE_37__.S)(namespace,logger,consentTracking),clientContext=new _core_context_PermutiveClientContextWeb__WEBPACK_IMPORTED_MODULE_38__.z(context);(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_33__.zG)(viewId.ref,_framework_ref__WEBPACK_IMPORTED_MODULE_0__.YP((e=>clientContext.updateContext(["view_id",e]))));const userId=new _core_state_PermutiveUserId__WEBPACK_IMPORTED_MODULE_14__.M(config,clientContext,cookieStore,externalData),eventSourceId=new _sdkql_state_sync_PermutiveEventSourceId__WEBPACK_IMPORTED_MODULE_12__.$(permutiveData),enrichers=new _sdkql_event_collection_enrichment_Enrichers_GlobalEnricher__WEBPACK_IMPORTED_MODULE_39__.J,api=new _http_PermutiveApi__WEBPACK_IMPORTED_MODULE_19__.F(urls,config,network,metrics,logger),identityProviderEnv={permutive:permutiveGlobal,network,api,userId,metrics,permutiveData,messages,config,cookies:cookieStore,logger},identities=new _identity_legacy_PermutiveIdentities__WEBPACK_IMPORTED_MODULE_2__.lg(metrics,trace,permutiveData,identityProviderEnv,logger),identitiesIngestor=new _identity_legacy_PermutiveIdentitiesIngestorNoOp__WEBPACK_IMPORTED_MODULE_40__.z,permutiveRealtime=new _core_state_PermutiveRealtime__WEBPACK_IMPORTED_MODULE_41__.u(metrics,messages),sessionManager=yield _core_session_SessionManager__WEBPACK_IMPORTED_MODULE_10__.S.initialise(cookieStore,localStorage,logger),unprocessedArgs={consentTracking,logger,namespace},unprocessedEvents={PageviewComplete:new _core_events_unprocessed_UnprocessedPageviewComplete__WEBPACK_IMPORTED_MODULE_42__.p(unprocessedArgs),PrebidAuctions:new _core_events_unprocessed_UnprocessedPrebidAuctions__WEBPACK_IMPORTED_MODULE_43__.J(unprocessedArgs)},customProperties=new _sdkql_event_collection_PermutiveEventCustomProps__WEBPACK_IMPORTED_MODULE_44__.X,queryManagerTransitionDebounceTime=1e3,queryManagerTransitionMaxDebounceTime=1e4,queryManager=new _sdkql_query_language_query_manager_QueryManagerWeb__WEBPACK_IMPORTED_MODULE_9__.c({customProperties,externalData,logger,messages,api,permutive:permutiveGlobal,permutiveData,queryWorker,realtime:permutiveRealtime,sessionManager,transitionDebounceMaxTime:queryManagerTransitionMaxDebounceTime,transitionDebounceTime:queryManagerTransitionDebounceTime,userId,viewId,metrics}),permutiveReset=new _core_state_PermutiveReset__WEBPACK_IMPORTED_MODULE_45__.a(config,localStorage,logger,permutiveData,eventSourceId,cookieStore,externalData),taskQueue=new _utils_task_queue_PermutiveTaskQueue__WEBPACK_IMPORTED_MODULE_46__.i(messages),stateSync=new _sdkql_state_sync_PermutiveStateSyncWeb__WEBPACK_IMPORTED_MODULE_13__.N(api,network,sessionManager,permutiveData,queryManager,metrics,userId,eventSourceId,(0,_sdkql_state_sync_PermutiveStateSyncWeb__WEBPACK_IMPORTED_MODULE_13__.e)()),activationManager=new _core_activations_PermutiveActivationManagerWeb__WEBPACK_IMPORTED_MODULE_4__.v(logger,permutiveGlobal,clientContext),[addonsLoadedRef,setAddonsLoaded]=_framework_ref__WEBPACK_IMPORTED_MODULE_0__.Ue(!1),nextGen=yield(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_33__.zG)((()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,2515))),_framework_compute_time_measurement__WEBPACK_IMPORTED_MODULE_47__.SF,fp_ts_Task__WEBPACK_IMPORTED_MODULE_48__.UI((e=>{let{runNextGenFeaturesWeb:t}=e;return t({activationManager,addonsLoaded:addonsLoadedRef,adServers:[(0,main_dynamic_addons_dfp_ad_server__WEBPACK_IMPORTED_MODULE_49__.Y)(activationManager)],api,clientContext,config,consentTracking,enrichers,externalData,identities:identities.ref,logger,messages,metrics,namespace,network,permutiveData,queryManager,realtime:permutiveRealtime,sessionManager,stateSync,trace,track:function(){return permutiveGlobal.track(...arguments)},unprocessedPVC:unprocessedEvents.PageviewComplete,urls,userId,viewId})})))();(0,_core_metrics_MetricReporter__WEBPACK_IMPORTED_MODULE_8__.p)({api,context:nextGen.metricContext,enrichers,logger,messages,metrics});const state=new _core_state_PermutiveStateWeb__WEBPACK_IMPORTED_MODULE_50__.u(permutiveData,permutiveReset,userId,viewId,nextGen.eventCollection),addons={},permutiveMethods=(0,_PermutiveMethodsWeb__WEBPACK_IMPORTED_MODULE_28__.S)(logger,api,activationManager,sessionManager,metrics,viewId,userId,network,enrichers,clientContext,unprocessedEvents,queryManager,taskQueue,identities,permutiveReset,messages,addons,trace,permutiveRealtime,state,customProperties,config,permutiveData,externalData,cookieStore,identitiesIngestor,permutiveGlobal,consentTracking,nextGen);createInternalsSpan.finish(),[].forEach((s=>{fp_ts_Either__WEBPACK_IMPORTED_MODULE_51__.Y3((()=>eval(s)),(e=>{api.reportError(Object.assign(Object.assign({},e),{message:`Error running custom script ${s}`}),userId.get())}))}));const blockers=(0,_sdkql_blockers__WEBPACK_IMPORTED_MODULE_52__.X)({logger,messages});blockers.addBlocker("permutive:queries:initialised"),messages.on("permutive:user:ready",(()=>{permutiveGlobal.identify=permutiveMethods.identify.bind(permutiveMethods);const e=identities.extractIdentifyFromQueue({global:permutiveGlobal});e.length>0&&permutiveGlobal.identify(e)})),messages.on("permutive:blockers:empty",(()=>{permutiveGlobal.on=permutiveMethods.on.bind(permutiveMethods),permutiveGlobal.once=permutiveMethods.once.bind(permutiveMethods),permutiveGlobal.track=permutiveMethods.track.bind(permutiveMethods),permutiveGlobal.trigger=permutiveMethods.trigger.bind(permutiveMethods),permutiveGlobal.query=permutiveMethods.query.bind(permutiveMethods),permutiveGlobal.segment=permutiveMethods.segment.bind(permutiveMethods),permutiveGlobal.segments=permutiveMethods.segments.bind(permutiveMethods),permutiveGlobal.reset=permutiveMethods.reset.bind(permutiveMethods),permutiveGlobal.ready=permutiveMethods.ready.bind(permutiveMethods),permutiveGlobal.addon=permutiveMethods.addon.bind(permutiveMethods),permutiveGlobal.context=clientContext.getContext(),permutiveGlobal.addons=addons,permutiveGlobal.config=config,permutiveRealtime.setAsReady(),(0,_initialisation_queuedMethods__WEBPACK_IMPORTED_MODULE_27__.LA)(permutiveGlobal.q,state,permutiveGlobal,permutiveMethods,api,trace),setAddonsLoaded(!0)}));const loadAddonsSpan=trace.startSpan("load_addons");(0,_dynamic_addons_LoadAddons__WEBPACK_IMPORTED_MODULE_18__.C)({extMessages:new _dynamic_messages_PermutiveMessages__WEBPACK_IMPORTED_MODULE_53__.a(messages),nextGen,messages,viewId,state,sessionManager,api,clientContext,externalData,logger,metrics,namespace,network,permutive:permutiveGlobal,q:permutiveGlobal.q,userId}),loadAddonsSpan.finish();const loadEnrichersSpan=trace.startSpan("load_enrichers"),enricherEnv={api,config,clientContext,logger,permutiveData,metrics,sessionManager,enrichers,network,externalData},loadEnrichersPromise=(0,_sdkql_event_collection_enrichment_RegisterEnrichers__WEBPACK_IMPORTED_MODULE_54__.H)(enricherEnv)();loadEnrichersPromise.then((()=>{loadEnrichersSpan.finish()})),yield(0,_initialisation_identity__WEBPACK_IMPORTED_MODULE_25__.TZ)({api,clientContext,eventCollection:nextGen.eventCollection,externalData,global:permutiveGlobal,identities,identitiesIngestor,logger,messages,metrics,network,nextGen,permutiveMethods,queryManager,reset:permutiveReset,stateSync,trace,unprocessedEvents,userId,sessionManager,sessionCount:nextGen.metricContext.current.session_count}),yield loadEnrichersPromise,(0,_initialisation_initialisationLifecycle__WEBPACK_IMPORTED_MODULE_55__.R)(queryManager,messages,metrics,state,logger),sdkReadySpan.finish()}))),(e=>`Exception during initialisation. Got ${e}`))},initialisationSequence=(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_33__.zG)(fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.Do,(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("support",(()=>(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.Uo)((0,_initialisation_browserFeatures__WEBPACK_IMPORTED_MODULE_56__.O)(self)))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("queryWorker",(()=>_sdkql_query_language_queryWorkerInit__WEBPACK_IMPORTED_MODULE_3__.F)),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("partialTagWithKey",(()=>(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.Uo)((0,_initialisation_permutiveTag__WEBPACK_IMPORTED_MODULE_26__.$o)(window)))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("configFromQueryParams",(()=>(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.Uo)((0,_Config__WEBPACK_IMPORTED_MODULE_22__.B9)()))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("tag",(e=>(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.F2)((0,_initialisation_permutiveTag__WEBPACK_IMPORTED_MODULE_26__.je)(e.partialTagWithKey,e.configFromQueryParams)))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.UI)((e=>{{const t=e.partialTagWithKey.key,r=window[t];(0,main_dynamic_addons_dfp_ad_request__WEBPACK_IMPORTED_MODULE_57__.h)(r)}return e})),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("logger",(e=>{let{tag:t}=e;return(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.F2)((0,_core_internals_PermutiveLogger__WEBPACK_IMPORTED_MODULE_58__.SX)(t.config))})),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("urls",(e=>{let{tag:t}=e;return(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.F2)(new _http_PermutiveUrls__WEBPACK_IMPORTED_MODULE_59__.s(t.config))})),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("network",(()=>(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.F2)(new _http_PermutiveNetwork__WEBPACK_IMPORTED_MODULE_20__.E))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("namespace",(e=>{let{tag:t}=e;return(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.F2)(new _core_state_PermutiveNamespace__WEBPACK_IMPORTED_MODULE_60__.L(t.config))})),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("messages",(e=>{let{logger:t}=e;return(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.F2)(new _core_internals_SDKMessages__WEBPACK_IMPORTED_MODULE_61__.Q(t))})),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("consentModule",(e=>(0,fp_ts_function__WEBPACK_IMPORTED_MODULE_33__.zG)((()=>(0,_Consent_Consent__WEBPACK_IMPORTED_MODULE_23__.NY)(Object.assign(Object.assign({},e),{consentRequired:e.tag.config.consentRequired}))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.Vn)((e=>e.message))))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("sessionStorage",(e=>(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.F2)((0,_core_store_SessionStorage__WEBPACK_IMPORTED_MODULE_16__.u)(e.namespace,e.logger,e.consentModule.consentTracking)))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("permutiveData",(e=>{let{tag:t,namespace:r,logger:n,consentModule:i}=e;return(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.F2)((0,_core_state_PermutiveDataStoreWeb__WEBPACK_IMPORTED_MODULE_11__.S)(t.config,r,n,i.consentTracking))})),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("metrics",(e=>{let{tag:t,messages:r,logger:n,permutiveData:i}=e;return(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.F2)((0,_core_metrics_Metrics__WEBPACK_IMPORTED_MODULE_62__.g)(sdkInitTimestamp,t.config,i,r,n))})),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.ak)("consent",(e=>(0,_Consent_InitialisationCheckWeb__WEBPACK_IMPORTED_MODULE_24__.D)(e))),(0,fp_ts_TaskEither__WEBPACK_IMPORTED_MODULE_30__.tS)((e=>initialiseWebSDK(e))))},1101:(e,t,r)=>{r.r(t);var n=r(365),i=r(3735),a=r(6341),s=r(7927),o=r(2197),c=r(6567),u=r(4673),d=r(1500),l=r(2652),f=r(6308);class p{constructor(e,t){this.config=e,this.logger=t,this.defaultReplacementMap=this.filterReplacementMap(this.config.defaultMap),this.replacementMap=this.setReplacementMap(this.config.replacementMap)}get getReplacementMap(){return this.replacementMap}setReplacementMap(e){return this.replacementMap=Object.assign(Object.assign({},this.defaultReplacementMap),this.filterReplacementMap(e)),this.logger.debug(`enrichers[${this.config.name}]: replacement map updated`,this.getReplacementMap),this.getReplacementMap}}class g extends p{filterReplacementMap(e){return(0,i.zG)(e,l.qh,(0,d.DZ)((e=>{const[,t]=e;return(0,f.t)(t)?c.YP:(0,c.G)(e)})),(0,d.u4)({},((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e})))}}class _ extends p{filterReplacementMap(e){return e}}const m="geoip",h="enricher:geoip",v={},b={include_geo:(null==v?void 0:v.include_geo)||!0,include_isp:(null==v?void 0:v.include_isp)||!0,include_ip_hash:(null==v?void 0:v.include_ip_hash)||!0,include_ip:(null==v?void 0:v.include_ip)||!1},y=(e,t)=>{var r;const{$ip_geo_info_continent:n,$ip_address:a,$ip_address_hash:c}=u.U,d={$ip_geo_info_continent:n,$ip_address:a,$ip_geo_info:{city:u.U.$ip_geo_info_city,continent:u.U.$ip_geo_info_continent,country:u.U.$ip_geo_info_country,postal_code:u.U.$ip_geo_info_postal_code,province:u.U.$ip_geo_info_province},$ip_address_hash:c,$ip_isp_info:{autonomous_system_number:0,isp:u.U.$ip_isp_info_isp,autonomous_system_organization:u.U.$ip_isp_info_autonomous_system_organization,organization:u.U.$ip_isp_info_organization}},l=(0,i.zG)({$ip_geo_info:null==e?void 0:e.geo_info,$ip_geo_info_continent:null===(r=null==e?void 0:e.geo_info)||void 0===r?void 0:r.continent,$ip_isp_info:null==e?void 0:e.isp_info,$ip_address:null==e?void 0:e.ip,$ip_address_hash:null==e?void 0:e.ip_hash},s.hX(o.ff((e=>void 0===e))));return new _({name:m,defaultMap:d,replacementMap:l},t)},w=e=>{let{clientContext:t,api:r,permutiveData:n,metrics:i,sessionManager:a,enrichers:s,network:o,logger:c,config:u}=e;const d=e=>{e.isp_info&&t.updateContext(["isp",e.isp_info.isp],["organization",e.isp_info.organization],["autonomous_system_number",e.isp_info.autonomous_system_number],["autonomous_system_organization",e.isp_info.autonomous_system_organization]),e.geo_info&&t.updateContext(["continent",e.geo_info.continent],["country",e.geo_info.country],["city",e.geo_info.city],["province",e.geo_info.province],["postal_code",e.geo_info.postal_code])},l=n.getData(h);return l&&l.session_id===a.getSessionId()?(d(l.data),s.register(y(l.data,c)),Promise.resolve()):(c.debug("enrichers[geoip]: start HTTP request"),k(r,i,u,b).then((e=>(c.debug("enrichers[geoip]: end HTTP request"),d(e),n.setData(h,{session_id:a.getSessionId(),data:e}),e))).catch((e=>(r.reportError(`Error while registering the geoip enricher: got ${e}`),null))).then((e=>{s.register(y(e,c))})))},k=(e,t,r,n)=>{const i=[];return n.include_geo&&i.push(["include","geo"]),n.include_isp&&i.push(["include","isp"]),n.include_ip&&i.push(["include","ip"]),n.include_ip_hash&&i.push(["include","ip_hash"]),e.reqWithMetrics(t,"sdk_http_geoip_seconds",{url:e.urls.getEndpointUrl("/geoip",(0,c.G)(r.apiVersion),i),method:"GET",contentType:"text/plain",dataType:"json",withCredentials:!1})},E=()=>(0,a.B)({load:w});var S=r(7582),I=r(2751);const D="watson";function P(e){if(!e)return[];const t=(0,d.xH)(e.filter(Boolean).map((e=>(e=>{const t=e.split("/").filter((e=>e));return t.map(((e,r)=>"/"+t.slice(0,r+1).join("/")))})(e.label))));return(0,d.jj)(I.Eq)(t)}const O=e=>{let{api:t,clientContext:r,config:n,enrichers:i,logger:a,metrics:s}=e;a.debug("enrichers[watson]: is enabled",n.watson.enabled);const o=n.watson.enabled?()=>(0,S.mG)(void 0,void 0,void 0,(function*(){const e=yield r.getClient();a.debug("enrichers[watson]: start HTTP request");const i=yield M(t,s,n,e.url);return a.debug("enrichers[watson]: end HTTP request",i),i})):()=>(0,S.mG)(void 0,void 0,void 0,(function*(){return a.debug("enrichers[watson]: stubbing response"),null})),c=o().then((e=>{r.updateContext([D,e||void 0]),i.register(((e,t)=>{var r,n,i,a;const s={$alchemy_concepts:null==e?void 0:e.concepts,$alchemy_document_emotion:null===(n=null===(r=null==e?void 0:e.emotion)||void 0===r?void 0:r.document)||void 0===n?void 0:n.emotion,$alchemy_document_sentiment:null===(i=null==e?void 0:e.sentiment)||void 0===i?void 0:i.document,$alchemy_entities:null==e?void 0:e.entities,$alchemy_entity_names:null===(a=null==e?void 0:e.entities)||void 0===a?void 0:a.map((e=>e.text)),$alchemy_keywords:null==e?void 0:e.keywords,$alchemy_taxonomy:null==e?void 0:e.taxonomy,$alchemy_taxonomy_labels:P(null==e?void 0:e.taxonomy),$taxonomy_labels:P(null==e?void 0:e.taxonomy)};return new g({name:D,defaultMap:{$alchemy_concepts:[],$alchemy_document_emotion:null,$alchemy_document_sentiment:null,$alchemy_entities:[],$alchemy_entity_names:[],$alchemy_keywords:[],$alchemy_taxonomy:[],$alchemy_taxonomy_labels:[],$taxonomy_labels:[]},replacementMap:s},t)})(e,a))}));return c.catch((e=>{a.error(`Error while registering the watson enricher: got ${e}`),s.track({name:"sdk_watson_classification_fail_count",value:1,labels:{}})})),c},M=(e,t,r,n)=>e.reqWithMetrics(t,"sdk_http_watson_seconds",{url:e.urls.getEndpointUrl("/watson",(0,c.G)(r.apiVersion)),method:"POST",contentType:"text/plain",dataType:"json",withCredentials:!1,payload:{url:n,classify:!0}}),C=()=>(0,a.B)({load:O}),x=()=>{};var T,A=r(4922);T=A.f,E(),C(),x(),T().then((0,n.g_)((e=>console.warn(`Permutive was not initialized. ${e}`)),i.Q1))},2652:(e,t,r)=>{r.d(t,{Bf:()=>y,G6:()=>P,Gz:()=>k,HP:()=>U,Kn:()=>d,Or:()=>C,PM:()=>f,PQ:()=>O,SL:()=>g,Z_:()=>T,a4:()=>m,aT:()=>b,b0:()=>E,b2:()=>_,bw:()=>z,cO:()=>M,eu:()=>h,fl:()=>I,k$:()=>w,lW:()=>x,lo:()=>j,m8:()=>S,mQ:()=>q,qh:()=>l,rH:()=>R,rO:()=>G,vg:()=>A,vp:()=>p});var n=r(1500),i=r(3735),a=r(6567),s=r(7209),o=r(6017),c=r(2751),u=r(3992);const d=e=>"object"==typeof e&&!Array.isArray(e)&&null!==e,l=e=>Object.entries(e);function f(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(((e,t)=>Object.assign(Object.assign({},e),t)),{})}function p(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t&=t;return t}function g(e){return t=>{let r=0;for(let n of t){r=r+e(n)|0}return r}}o.ff(c.xb);function _(){let e,t;return{promise:new Promise(((r,n)=>{e=r,t=n})),reject:t,resolve:e}}function m(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n={waitTimeInMs:50,exponentialBackOff:!1,maxAttempts:20},{waitTimeInMs:s,exponentialBackOff:o,maxAttempts:c}=f(n,r);let d=0;const l=r=>new Promise((n=>Promise.resolve(t()).then((t=>t?Promise.resolve(e()).then((e=>n((0,a.G)(e)))):(0,i.zG)(d++,(e=>e<c?(0,u.HJ)((()=>n(l(r*(o?2:1)))),r):n(a.YP)))))));return l(s)}function h(e,t){const r=Object.create(null);for(const n of t)r[n]=e[n];return r}let v=[];function b(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:navigator.userAgent;if(v.unshift(e),v.length>1)return;const r=["beforeunload","pagehide"],n=r.concat(["visibilitychange"]),i=e=>{if(!a&&e){a=!0;const e=v;v=[],e.forEach((e=>{try{e()}catch(e){}}))}};let a=!1;n.forEach((e=>{window.addEventListener(e,(()=>{const r=("visibilitychange"!==e||document.hidden)&&D(t);i(r)}))})),r.forEach((e=>{window.addEventListener(e,(()=>i(!0)))}))}function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=Object.assign({capture:!0},t);const r=["visibilitychange","pagehide"];r.forEach((r=>window.addEventListener(r,(()=>a.Y3((()=>{"pagehide"!==r&&"hidden"!==document.visibilityState||e()}))),{capture:t.capture})))}function w(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^(self.crypto||self.msCrypto).getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}function k(e){return 36===e.length&&/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i.test(e)}function E(e,t){const r=Object.keys(e),n=r.length,i={};for(let s=0;s<n;s++){const n=r[s],o=t(n,e[n]);(0,a.pC)(o)&&(i[n]=o.value)}return i}function S(){const e={},t=arguments.length;for(let r=0;r<t;r++){const[t,n]=r<0||arguments.length<=r?void 0:arguments[r];e[t]=n}return e}function I(e,t){return E(e,((e,r)=>t(e)?(0,a.G)(r):a.YP))}function D(e){return/Mobi|Android/i.test(e)}function P(e){return/^((?!chrome|android).)*safari/i.test(e)}function O(e,t){return new Promise((r=>{var n;(0,u.HJ)((()=>{Promise.resolve(e()).then(r)}),null!==(n=null==t?void 0:t.timeout)&&void 0!==n?n:0)}))}function M(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}const C=()=>({equals:(e,t)=>Object.is(e,t)});function x(e){return(0,s.Zt)(((t,r)=>{const n=e.indexOf(t),i=e.indexOf(r);switch(!0){case-1===n&&-1===i:return 0;case-1!==n&&-1===i:return-1;case-1===n&&-1!==i:return 1;default:return n<=i?-1:1}}))}function T(e,t,r){return function(){try{return r(...arguments)}catch(r){e.reportError(r,t.get())}}}function A(e){return t=>null!=t&&e in t?t[e]:void 0}function U(e){let t=a.YP;const r=(0,a.fS)((()=>{const r=e();return t=(0,a.G)(r),r}));return()=>r(t)}const q=e=>{const t=new Map;return r=>(t.has(r)||t.set(r,e(r)),t.get(r))},G=e=>t=>{var r;const n=Object.assign({},t);for(const i in e)n[i]=null===(r=e[i])||void 0===r?void 0:r.call(e,t[i]);return n};function z(e){return t=>(e(t),t)}const j=e=>t=>{const r=e.slice(0,-1),s=e.slice(-1)[0];return(0,i.zG)(r,n.f2((e=>{let[r,n]=e;return(0,i.zG)(t,a.DT(r),a.UI(n))})),a.fS((()=>s(t))))},L=e=>t=>{if("number"==typeof t)return t;if("string"==typeof t){const r=e(t);return Number.isNaN(r)?void 0:r}},R=L(parseInt);L(parseFloat)},6574:(e,t,r)=>{r.d(t,{l:()=>n});class n{constructor(e){var t;this.config=e,this.shouldUsePerformanceMark=!1,this.placeholderSpan={spanId:null,finish:()=>({})},this.shouldUsePerformanceMark=(null===(t=null===window||void 0===window?void 0:window.performance)||void 0===t?void 0:t.mark)&&this.config.tracingEnabled}startSpan(e){var t;if(this.shouldUsePerformanceMark){const r=this.generateId(),n=`permutive_${e}`,i=`${n}${r}_start`;return null===(t=null===window||void 0===window?void 0:window.performance)||void 0===t||t.mark(i),{spanId:i,finish:()=>{var e,t;null===(t=null===(e=null===window||void 0===window?void 0:window.performance)||void 0===e?void 0:e.measure)||void 0===t||t.call(e,n,i)}}}return this.placeholderSpan}generateId(){return"_"+Math.random().toString(36).substr(2,9)}}},4730:(e,t,r)=>{r.d(t,{b:()=>a});var n=r(2652),i=r(3992);class a{constructor(e,t){this.timeoutDurationInMilliseconds=e,this.maxTimeOutDurationInMilliseconds=t}schedule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeoutDurationInMilliseconds,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.maxTimeOutDurationInMilliseconds;return this.debounce(e,t,r)}scheduleAccumulated(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeoutDurationInMilliseconds,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.maxTimeOutDurationInMilliseconds;return this.debounce(e,r,n,t)}scheduleForPageUnload(e){return(0,n.aT)(e)}debounce(e,t,r,a){let s,o,c,u=[];return d=>{a&&(c=a.concat(null!=c?c:a.empty,d));const l=(0,n.b2)();u.push(l);return null==s||s(),s=(0,i.HJ)((()=>{null==o||o(),o=void 0;const t=e(c||d);u.forEach((e=>e.resolve(t))),c=null==a?void 0:a.empty,u=[]}),t),o||(o=(0,i.HJ)((()=>{null==s||s(),o=void 0;const t=e(c||d);u.forEach((e=>e.resolve(t))),c=null==a?void 0:a.empty,u=[]}),r)),l.promise}}}},4996:(e,t,r)=>{r.d(t,{i:()=>i});var n=r(3992);class i{constructor(e){this.messages=e,this.queue=[],this.nextNotify=null,e.on("permutive:taskQueue:update",(()=>{this.execute()}))}add(e){this.queue.push(e),this.notify()}notify(){const e=()=>{this.messages.emit("permutive:taskQueue:update")},t=(new Date).getTime();null===this.nextNotify||this.nextNotify<t-50?(this.nextNotify=t,e()):this.nextNotify<=t&&(this.nextNotify=t+50,(0,n.HJ)(e,50))}execute(){if(0===this.queue.length)return;let e=!1,t=!1,r=0;for(let n=0;n<this.queue.length;n++){const i=this.queue[n];if(i.complete)r+=1;else if(i.started)t=!0,e=e||i.blocks();else{if(i.waits()&&t)break;e||(t=!0,e=e||i.blocks(),i.execute((()=>{this.notify()})))}}this.queue.splice(0,r)}size(){return this.queue.length}}},3030:(e,t,r)=>{r.d(t,{_Y:()=>s,bk:()=>a,zM:()=>i});var n=r(3735);const i=()=>{var e,t;const r=null===(t=null===(e=window.location.href.split("?")[1])||void 0===e?void 0:e.split("#")[0])||void 0===t?void 0:t.split("&");return void 0===r?{}:r.reduce(((e,t)=>{const[r,n]=t.split("=");return Object.assign(Object.assign({},e),{[r]:n})}),{})},a=e=>{if(!e)return"";return(0,n.zG)(e,(e=>{const t=e.length-1;return"/"===e[t]?e.slice(0,t):e}))};function s(e){const t=e.match(/\b(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\b/),r=e.match(/[a-z0-9][a-z0-9-]+\.[a-z.]{2,24}$/i),n=e.match(/localhost/);if(r&&r.length>0){const t=e.split(".").reverse();return t.length>=3&&t[1].match(/^(com|edu|gov|net|mil|org|nom|co|ac|name|info|biz)$/i)?t[2]+"."+t[1]+"."+t[0]:t[1]+"."+t[0]}return t&&(null==t?void 0:t.length)>0?t[0]:n&&(null==n?void 0:n.length)>0?"localhost":""}},122:(e,t,r)=>{r.d(t,{X:()=>n});const n=e=>{let t=!0;const r=[];return{addBlocker:n=>{r.push(n),e.logger.log("<blockers> added blocker "+n),e.messages.on(n,(()=>{if(t){const i=r.indexOf(n);i>=0&&(r.splice(i,1),e.logger.log("<blockers> removed blocker "+n)),0===r.length&&(t=!1,e.messages.emit("permutive:blockers:empty"),e.logger.log("<blockers> complete"))}}))}}}},7748:(e,t,r)=>{r.d(t,{X:()=>n});class n{constructor(){this.properties={}}overrideCustomProps(e){this.properties=e}getCustomProps(){return this.properties}}},7200:(e,t,r)=>{r.d(t,{J:()=>i});var n=r(6308);class i{constructor(){this.replacementMap={}}register(e){this.replacementMap=Object.assign(Object.assign({},this.replacementMap),e.getReplacementMap)}enrich(e,t){return this.enrichRecursive(e,t)}enrichRecursive(e,t){const r={output:{},isFullyEnriched:!0},i=Object.keys(e);for(let a=0;a<i.length;a++){const s=i[a],o=e[s];switch(!0){case(0,n.t)(o):const[e,i]=this.isPropertyReplaceable(o);r.output[s]=e?i:o,this.replacementMap.hasOwnProperty(o)&&i===o&&t&&delete r.output[s],r.isFullyEnriched=!!e&&r.isFullyEnriched;break;case null!==o&&"object"==typeof o&&o.constructor===Object:const a=this.enrichRecursive(o,t);r.output[s]=a.output,r.isFullyEnriched=r.isFullyEnriched&&a.isFullyEnriched;break;default:r.output[s]=o}}return r}isPropertyReplaceable(e){const t=this.replacementMap[e];return[this.replacementMap.hasOwnProperty(e)&&t!==e,t]}}},6341:(e,t,r)=>{r.d(t,{B:()=>o,H:()=>c});var n=r(3735),i=r(5151),a=r(4767);const s=[],o=e=>{s.push(e)},c=e=>{const t=s.map((t=>(0,a.Y3)((()=>t.load(e)),(t=>{e.api.reportError(t)}))));return(0,n.zG)((0,i.RD)(t),(0,i.UI)(n.Q1))}},6308:(e,t,r)=>{r.d(t,{t:()=>n});const n=e=>"string"==typeof e&&"$"===e[0]},2546:(e,t,r)=>{r.r(t),r.d(t,{make:()=>U});var n=r(3735),i=r(7582);let a,s;const o=new WeakMap,c=new WeakMap,u=new WeakMap,d=new WeakMap,l=new WeakMap;let f={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return c.get(e);if("objectStoreNames"===t)return e.objectStoreNames||u.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return _(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function p(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(s||(s=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(m(this),t),_(o.get(this))}:function(...t){return _(e.apply(m(this),t))}:function(t,...r){const n=e.call(m(this),t,...r);return u.set(n,t.sort?t.sort():[t]),_(n)}}function g(e){return"function"==typeof e?p(e):(e instanceof IDBTransaction&&function(e){if(c.has(e))return;const t=new Promise(((t,r)=>{const n=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),n()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));c.set(e,t)}(e),t=e,(a||(a=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,f):e);var t}function _(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,r)=>{const n=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(_(e.result)),n()},a=()=>{r(e.error),n()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((t=>{t instanceof IDBCursor&&o.set(t,e)})).catch((()=>{})),l.set(t,e),t}(e);if(d.has(e))return d.get(e);const t=g(e);return t!==e&&(d.set(e,t),l.set(t,e)),t}const m=e=>l.get(e);const h=["get","getKey","getAll","getAllKeys","count"],v=["put","add","delete","clear"],b=new Map;function y(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(b.get(t))return b.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=v.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!i&&!h.includes(r))return;const a=async function(e,...t){const a=this.transaction(e,i?"readwrite":"readonly");let s=a.store;return n&&(s=s.index(t.shift())),(await Promise.all([s[r](...t),i&&a.done]))[0]};return b.set(t,a),a}f=(e=>({...e,get:(t,r,n)=>y(t,r)||e.get(t,r,n),has:(t,r)=>!!y(t,r)||e.has(t,r)}))(f);var w=r(2688),k=r(365),E=r(5151),S=r(4767),I=r(2652);function D(e){return"development"===e.environment?window.isSecureContext:"https:"===window.location.protocol}var P=r(3992);const O="[IDB]",M=(e,t,r,a,s,o)=>(0,n.zG)((0,E.of)(e.getNamespacedStorageKey(s)),(0,E.tS)((e=>(0,S.Y3)((()=>(0,i.mG)(void 0,void 0,void 0,(function*(){return r.put(a,o,e)}))),w.w))),(0,E.UI)((0,k.g_)((e=>{throw t.error(O,`Failed to store crypto key to ${a} due to unexpected error,\n`,e),e}),(()=>o))),(e=>e()));class C{constructor(e,t,r,n,i,a,s,o){this.namespace=e,this.logger=t,this.cryptoAlg=r,this.idb=n,this.mainObjectStore=i,this.keyObjectStore=a,this.keyObjectKey=s,this.cryptoKey=o,this.MAX_CONSECUTIVE_PUTS=30,this.puts=1,this.hasForcedCompaction=!1,this.logDebug("Created",this.idb)}static initialise(e,t,r,a,s,o,c,u,d,l){const f=(0,I.G6)(navigator.userAgent)&&!1,p=[D(e),s.isAvailable(),!f].every((e=>!0===e)),g=(e,r,o)=>(0,i.mG)(this,void 0,void 0,(function*(){return(0,n.zG)(yield e.get(o,t.getNamespacedStorageKey(r)),(e=>(0,i.mG)(this,void 0,void 0,(function*(){return null!=e?e:s.generateKey(!1)}))),(r=>(0,i.mG)(this,void 0,void 0,(function*(){return M(t,a,e,u,d,yield r)})))).catch((e=>{const t=(0,w.w)(e);throw a.error(O,"Get crypto key failed. Got\n",t),t}))})),_=(e,t,r)=>t.includes(r)?(0,n.Q1)():e.createObjectStore(r),m=p?(0,k.Y3)((()=>function(e){if(!(0,I.G6)(navigator.userAgent)||!indexedDB.databases)return Promise.resolve();let t=()=>{},r=0;return new Promise((e=>{const n=()=>(r++,indexedDB.databases().finally((0,P.GL)(e)));t=(0,P.UM)(n,100),n()})).finally((()=>{t(),e.track({name:"sdk_idb_conn_attempt_safari_count",value:r,labels:{}})}))}(r).then((()=>x(o,l,{upgrade:e=>{const t=[...e.objectStoreNames];_(e,t,c),_(e,t,u)}})))),String):(0,k.t$)("Connection not attempted. Default to localStorage");return(0,k.g_)((e=>(0,S.t$)(e)),(e=>(0,n.zG)((0,S.Y3)((()=>e.then((e=>(0,i.mG)(this,void 0,void 0,(function*(){return{db:e,cryptoKey:yield g(e,d,u)}}))))),String),(0,S.UI)((e=>{let{db:r,cryptoKey:n}=e;return new C(t,a,s,r,c,u,d,n)})))))(m)}put(e,t){return(0,i.mG)(this,void 0,void 0,(function*(){return(0,n.zG)((()=>(0,i.mG)(this,void 0,void 0,(function*(){return(0,n.bc)(JSON.stringify(e),this.cryptoKey)}))),(0,E.tS)((e=>{let[t,r]=e;return(0,E.of)(this.cryptoAlg.encrypt(r,t))})),(0,E.tS)((e=>()=>(0,i.mG)(this,void 0,void 0,(function*(){return yield this.resetIfRequired(this.puts++),e})))),(0,E.tS)((e=>(0,S.Y3)((()=>this.idb.put(this.mainObjectStore,e,this.namespace.getNamespacedStorageKey(String(t)))),w.w))),(0,E.UI)((0,k.g_)((r=>{throw this.logError(`Failed to put "${t.toString()}" value`,e,". Got \n",r),"QuotaExceededError"===r.name&&this.forceCompaction(),r}),(()=>t))),(e=>e()))}))}get(e){return(0,n.zG)(this.namespace.getNamespacedStorageKey(String(e)),(t=>this.idb.get(this.mainObjectStore,t).then((e=>(0,i.mG)(this,void 0,void 0,(function*(){return e?JSON.parse(yield this.cryptoAlg.decrypt(this.cryptoKey,e)):null})))).catch((t=>{const r=(0,w.w)(t);throw this.logError(`Get ${e.toString()} failed. Got`,r),r}))))}delete(e){return(0,n.zG)(this.namespace.getNamespacedStorageKey(String(e)),(e=>this.idb.delete(this.mainObjectStore,e)))}deleteStore(){return this.logDebug("Deleting",this.idb),this.idb.close(),T(this.idb.name)}forceCompaction(){if(this.hasForcedCompaction)return null;this.hasForcedCompaction=!0,this.logDebug("Attempting to force compaction");const e=`__${this.mainObjectStore}`;return x(e).then((t=>(t.close(),T(e))))}resetIfRequired(e){return(0,I.G6)(navigator.userAgent)&&e%this.MAX_CONSECUTIVE_PUTS==0?this.reset():Promise.resolve()}reset(){return(0,i.mG)(this,void 0,void 0,(function*(){const e=this.idb.name,t=this.idb.version;yield this.deleteStore(),this.idb=yield x(e,t),this.idb.createObjectStore(this.mainObjectStore),this.idb.createObjectStore(this.keyObjectStore),yield M(this.namespace,this.logger,this.idb,this.keyObjectStore,this.keyObjectKey,this.cryptoKey),this.logDebug("Reset to",this.idb)}))}logDebug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.debug(O,...t)}logError(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.error(O,...t)}}const x=(0,n.ls)((function(e,t,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(e,t),o=_(s);return n&&s.addEventListener("upgradeneeded",(e=>{n(_(s.result),e.oldVersion,e.newVersion,_(s.transaction))})),r&&s.addEventListener("blocked",(()=>r())),o.then((e=>{a&&e.addEventListener("close",(()=>a())),i&&e.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),o}),P.t_,(e=>e.then((e=>({close:e.close.bind(e),createObjectStore:(0,n.ls)(e.createObjectStore.bind(e),n.Q1),delete:(0,n.ls)(e.delete.bind(e),P.t_),get:(0,n.ls)(e.get.bind(e),P.t_),get name(){return e.name},put:(0,n.ls)(e.put.bind(e),P.t_),get version(){return e.version}}))))),T=(0,n.ls)((function(e,{blocked:t}={}){const r=indexedDB.deleteDatabase(e);return t&&r.addEventListener("blocked",(()=>t())),_(r).then((()=>{}))}),P.t_);var A=r(8259);const U=(e,t,r,i,a,s,o,c,u,d,l)=>(0,n.zG)(C,(0,A._z)({logger:d,consentTracking:l,prefix:O})).initialise(e,t,r,d,i,a,s,o,c,u)},6197:(e,t,r)=>{r(2652)},488:(e,t,r)=>{r.r(t),r.d(t,{NativoAddon:()=>_,load:()=>g,nativoService:()=>l,realService:()=>p,stubService:()=>f});var n=r(3328),i=r(4011),a=r(3735),s=r(9853),o=r(2116),c=r(2851);const u="nativo",d="_pnativo",l=p;function f(e){let{externalData:t}=e;return o.K4((()=>{t.removeExternalData(d)}))}function p(e){const t=(0,s.Hn)("nativo"),r=t("targeting_key","permutive"),l=t("max_segments",100);let f=!1;const p=e=>{var t;if(void 0===window.ntvConfig||!(null===(t=null===window||void 0===window?void 0:window.ntvConfig)||void 0===t?void 0:t.keyValues))return;const n=e.concat(["rts"]).join(",");window.ntvConfig.keyValues[r]=n},g=(t,r)=>{!t&&r&&(e.metrics.track({name:"sdk_targeting_size_limit_exceeded_count",value:1,labels:{target:"nativo"}}),f=!0)},{activationManager:_,addonsLoaded:m,consent:h,externalData:v,initdAddons:b,queryLanguageCohorts:y}=e;return(0,a.zG)(c.vP({consent:h,addonsLoaded:m,addonInitd:c.UI((e=>e.has(u)),b)}),o.KD([[e=>{let{consent:t,addonsLoaded:r,addonInitd:n}=e;return!t||r&&!n},o.K4((()=>{v.removeExternalData(d),p([])}))],[e=>{let{addonsLoaded:t,addonInitd:r}=e;return!t&&!r},o.K4(a.Q1)],o.K4((e=>{let{onServiceStop:t}=e;const r=_.getSpecializedActivations(u),s=new Set([...r]);(0,a.zG)(y,c.UI(n.hX((e=>s.has(e)))),c.D8(n.Eh(i.Eq)),c.UI(n.lx(l)),c.YP((e=>{let[t,r]=e;p(t),g(f,n.Od(r)),v.setExternalJsonData(d,t)})),(e=>t(e)))}))]),o.UI(a.Q1))}const g=e=>{(0,s.Hn)(u)("auto_init",!1)&&e.q.push({functionName:"addon",arguments:[u,{}]})};class _{constructor(e){}}},8036:(e,t,r)=>{r.d(t,{AG:()=>o,UC:()=>a,Yh:()=>s});var n=r(6567),i=r(2652);const a=(e,t,r)=>e in t||(()=>{const t="number"==typeof e?e:parseInt(e);return!1===isNaN(t)&&r.has(t)})(),s=e=>(0,i.b0)(e,((e,t)=>t.state?(0,n.G)({[t.checksum]:t.state}):n.YP));function o(e){var t;return["SegmentEntry","SegmentExit"].includes(e.name)&&void 0!==(null===(t=e.properties)||void 0===t?void 0:t.segment_number)}},1628:(e,t,r)=>{r.d(t,{c:()=>Ne,e:()=>Ke});var n=r(7183),i=r(2688),a=r(3735),s=r(4767);const o=()=>({kind:"null",value:null}),c=e=>({kind:"string",value:e}),u=e=>({kind:"number",value:e}),d=e=>({kind:"array",value:e}),l=e=>({kind:"object",value:e}),f=e=>e,p=()=>({kind:"bottom"}),g=e=>({kind:"inner",a:e}),_=e=>({kind:"top",error:e}),m=e=>({kind:"unbounded",group:e}),h=(e,t)=>({kind:"windowed",key:t,group:e}),v=(e,t,r)=>({kind:"countLimit",n:r,limit:t,group:e}),b=(e,t,r)=>({kind:"uniqueLimit",n:r,limit:t,group:e}),y=e=>({kind:"numberGroup",group:e}),w=e=>({kind:"stringGroup",group:e}),k=e=>({kind:"tuple",tuple:e}),E=e=>({state:e}),S=(e,t)=>({commands:e,payload:t});var I=r(7209),D=r(2751);const P=(e,t)=>{switch(e.kind){case"bottom":return{kind:"bottom"};case"inner":return g(t(e.a));case"top":return _(e.error)}},O=e=>(0,I.Zt)(((t,r)=>{if("bottom"===t.kind&&"bottom"===r.kind)return 0;if("bottom"===t.kind)return-1;if("bottom"===r.kind)return 1;if("top"===t.kind&&"top"===r.kind)return D.Df.compare(t.error,r.error);if("top"===t.kind)return 1;if("top"===r.kind)return-1;if("inner"===t.kind&&"inner"===r.kind)return e.compare(t.a,r.a);throw new Error("Non exhaustive match in extendedAlgebraOrd")}));var M=r(6567),C=r(1885),x=r(1500),T=r(365),A=function(e){return-1===e?1:1===e?-1:0};function U(e,t){return(0,x.oA)(e.map(t))}function q(e,t,r,n){const i=(e,t)=>{if(0===e.length)return(0,x.oA)(t.map((e=>(0,M.G)({1:e[1],2:r(M.YP,(0,M.G)(e[2]))}))));if(0===t.length)return(0,x.oA)(e.map((e=>(0,M.G)({1:e[1],2:r((0,M.G)(e[2]),M.YP)}))));if(e.length>0&&t.length>0&&(0,I.lt)(n)(e[0][1],t[0][1])){const[n,...a]=e,s=n[1],o=n[2];return(0,x.Ce)({1:s,2:r((0,M.G)(o),M.YP)})(i(a,t))}if(e.length>0&&t.length>0&&(0,I.gt)(n)(e[0][1],t[0][1])){const[n,...a]=t,s=n[1],o=n[2];return(0,x.Ce)({1:s,2:r(M.YP,(0,M.G)(o))})(i(e,a))}if(e.length>0&&t.length>0){const[n,...a]=e,[s,...o]=t,c=n[1],u=n[2],d=s[2];return(0,x.Ce)({1:c,2:r((0,M.G)(u),(0,M.G)(d))})(i(a,o))}throw new Error("Non exhaustive match in mapOption2")},a=(0,I.Uz)((e=>e[1]))(n),s=(e=>{const t=U(e,(e=>(0,M.pC)(e[2])?(0,M.G)({1:e[1],2:e[2].value}):M.YP));return 0===t.length?M.YP:(0,M.G)(t)})(i((0,x.DY)(a)([...e].map((e=>({1:e[0],2:e[1]})))),(0,x.DY)(a)([...t].map((e=>({1:e[0],2:e[1]}))))));return(0,M.UI)((e=>new Map(e.map((e=>[e[1],e[2]])))))(s)}function G(e,t,r,n){const i=(0,I.Uz)((e=>e[0]))(n),a=(0,x.DY)(i)([...t]).reduceRight(((e,t)=>{if((0,T.nM)(e)){const n=r(t[1],e.left);return(0,M.pC)(n)?(0,T.t$)(n.value):(0,T.F2)(t[0])}return e}),(0,T.t$)(e));return(0,M.Uo)(a)}function z(e,t){return new Map([...e].map(t))}function j(e,t){return new Map([...e].filter(t))}var L=r(4268),R=r(4011);function B(e){return JSON.stringify(K(e))}function K(e){switch(e.kind){case"null":return $.encode(e);case"string":return F.encode(e);case"number":return Q.encode(e);case"array":return Y.encode(e);case"object":return H.encode(e)}}function W(e){return null===e?$.decode(e):"number"==typeof e?Q.decode(e):"string"==typeof e?F.decode(e):Array.isArray(e)?Y.decode(e):H.decode(e)}const N=(e,t)=>(0,T.t$)(`Failed to decode. Input was ${JSON.stringify(e)}. Codec type was ${t}`),$={encode:e=>null,decode:e=>null===e?(0,T.F2)({kind:"null",value:null}):N(e,"SimpleNull")},F={encode:e=>e.value,decode:e=>"string"==typeof e?(0,T.F2)(c(e)):N(e,"SimpleString")},Q={encode:e=>e.value,decode:e=>"number"==typeof e?(0,T.F2)(u(e)):N(e,"SimpleNumber")},Y={encode:e=>e.value.map(K),decode:e=>{if(Array.isArray(e)){const t=(0,x.fw)(T.g1)(W)(e);return(0,T.UI)(d)(t)}return N(e,"SimpleArray")}},H={encode:e=>{const t=[...e.value.entries()];return Object.assign({},...Array.from(t,(([e,t])=>({[e]:K(t)}))))},decode:e=>{if(e&&e.constructor===Object){const t=(0,x.fw)(T.g1)((([e,t])=>(0,a.zG)(W(t),(0,T.UI)((t=>(0,a.bc)(e,t))))))(Object.entries(e));return(0,T.UI)((e=>l(new Map([...e]))))(t)}return N(e,"SimpleObject")}};function V(e){return(0,a.zG)(e,X,(0,M.UI)(B),(0,M.fS)((()=>"<encode error>")))}function J(e){return(0,M.UI)(ie)(function(e){switch(e.state.kind){case"top":return(0,M.G)(c(e.state.error));case"bottom":return M.YP;case"inner":return X(e.state.a)}}(e))}function X(e){return function(e){switch(e.kind){case"numberGroup":case"stringGroup":return Z(e.group);case"tuple":return e.tuple.length>0}}(e.payload)?(0,M.G)(d(function(e,t){const r=(0,M.UI)((e=>(0,x.Ce)(e)(t)))(e);return(0,M.fS)((()=>t))(r)}((0,M.UI)((e=>c(function(e){const t=e=>(0,M.EQ)((()=>""),(e=>"b"+JSON.stringify(e)))(e.bound),r=e=>{switch(e.operation){case"add":return"p";case"mul":return"m";case"max":return"v";case"min":return"n"}},n=e=>{const n=t(e[1])+r(e[1]);return 1===e[2]?n:n+JSON.stringify(e[2])};return e.map(n).join("")}(e))))(e.commands),function(e){const t=e=>{switch(e.kind){case"bottom":return{kind:"null",value:null};case"top":return c(e.error);case"inner":return u(e.a)}},r=e=>U([ee,te,e=>(0,a.zG)(e,ne,l,M.G)],(t=>t(e))),n=e=>U([ee,re,e=>(0,a.zG)(e,ne,(e=>z(e,(([e,t])=>[JSON.stringify(e),t]))),l,M.G)],(t=>t(e)));switch(e.kind){case"tuple":return e.tuple.map(t);case"stringGroup":return r(e.group);case"numberGroup":return n(e.group)}}(e.payload)))):M.YP}function Z(e){switch(e.kind){case"unbounded":return e.group.size>0;case"windowed":return e.group.size>0||(0,M.pC)(e.key);case"countLimit":case"uniqueLimit":return e.group.size>0||(0,M.pC)(e.limit)}}function ee(e){switch(e.kind){case"unbounded":return M.YP;case"windowed":return(0,M.G)(c("w"));case"countLimit":return(0,M.G)(c(1===e.n?"x":`x${e.n}`));case"uniqueLimit":return(0,M.G)(c(1===e.n?"u":`u${e.n}`))}}function te(e){switch(e.kind){case"unbounded":return M.YP;case"windowed":return(0,M.G)(c((0,M.pC)(e.key)?e.key.value:""));case"countLimit":case"uniqueLimit":return(0,M.G)(c((0,M.pC)(e.limit)?e.limit.value:""))}}function re(e){switch(e.kind){case"unbounded":return M.YP;case"windowed":return(0,M.pC)(e.key)?(0,M.G)(u(e.key.value)):(0,M.G)({kind:"null",value:null});case"countLimit":case"uniqueLimit":return(0,M.pC)(e.limit)?(0,M.G)(u(e.limit.value)):(0,M.G)({kind:"null",value:null})}}function ne(e){switch(e.kind){case"unbounded":case"windowed":case"countLimit":case"uniqueLimit":return e.group}}function ie(e){switch(e.kind){case"array":return 0===e.value.length?{kind:"null",value:null}:1===e.value.length?ie(e.value[0]):d(e.value.map(ie));case"object":return(0,a.zG)(j(e.value,(([e,t])=>"null"!==t.kind)),(e=>z(e,(e=>[e[0],ie(e[1])]))),l);default:return e}}function ae(e){const t=e=>{if(0===e.length)return{kind:"bottom"};const t=(e=>{if(4!==e.length)return M.YP;const[t,r,n,i]=e;if("string"===t.kind&&"string"===r.kind&&"object"===i.kind){const e=(0,M.DT)((e=>se(e[1].value)&&oe(e[2].value)))({1:t,2:r});return(0,M.UI)((e=>({prim:e[1].value,grp:e[2].value,cutoff:n,m:i.value})))(e)}return M.YP})(e);if((0,M.pC)(t)){const{prim:e,grp:r,cutoff:n,m:i}=t.value,a=ce(n,i,ue(r));return"string"==typeof a?_(a):g(S(de(e),a))}const r=(e=>{if(3!==e.length)return M.YP;const[t,r,n]=e;if("string"===t.kind&&"object"===n.kind){const e=(0,M.DT)((e=>oe(e.value)))(t);return(0,M.UI)((e=>({grp:e.value,cutoff:r,m:n.value})))(e)}return M.YP})(e);if((0,M.pC)(r)){const{grp:e,cutoff:t,m:n}=r.value,i=ce(t,n,ue(e));return"string"==typeof i?_(i):g(S(M.YP,i))}const n=(e=>{if(2!==e.length)return M.YP;const[t,r]=e;if("string"===t.kind&&"object"===r.kind){const e=(0,M.DT)((e=>se(e.value)))(t);return(0,M.UI)((e=>({prim:e.value,m:r.value})))(e)}return M.YP})(e);if((0,M.pC)(n)){const{prim:e,m:t}=n.value;return g(S(de(e),w(m(t))))}const i=(e=>{if(1!==e.length)return M.YP;const[t]=e;return"object"===t.kind?(0,M.G)({m:t.value}):M.YP})(e);if((0,M.pC)(i)){const{m:e}=i.value;return g(S(M.YP,w(m(e))))}const a=(e=>{if(e.length<1)return M.YP;const[t,...r]=e;if("string"===t.kind){const e=(0,M.DT)((e=>se(e.value)))(t);return(0,M.UI)((e=>({prim:e.value,rest:r})))(e)}return M.YP})(e);if((0,M.pC)(a)){const{prim:e,rest:t}=a.value;return g(S(de(e),fe(t)))}return g(S(M.YP,fe(e)))},r=e=>"array"===e.kind?(0,x.tS)(r)(e.value):[e];return"null"===e.kind?E({kind:"bottom"}):E(t(r(e)))}function se(e){const t=e.split("");if(!0==(0===t.length))return!1;{const[e,...r]=t;return-1!=="bpmvn".indexOf(e)&&r.every((e=>-1!=="bpmvn0123456789.".indexOf(e)))}}function oe(e){const t=e.split("");switch(!0){case 0===t.length:return!1;case"w"===t[0]&&void 0===t[1]:return!0;default:{const[e,...r]=t;return-1!=="ux".indexOf(e)&&-1===r.map((e=>!isNaN(parseInt(e)))).indexOf(!1)}}}function ce(e,t,r){switch(e.kind){case"string":return w(r({1:(0,M.G)(e.value),2:t}));case"number":case"null":return y(r({1:"null"===e.kind?M.YP:(0,M.G)(e.value),2:j(z(t,(([e,t])=>[Number(e),t])),(e=>!isNaN(e[0])))}));default:return"{bad cutoff}"}}function ue(e){const t=e=>t=>b(t[2],t[1],e),r=e=>t=>v(t[2],t[1],e),n=e.split("");switch(!0){case"w"===n[0]&&void 0===n[1]:return e=>h(e[2],e[1]);case"u"===n[0]&&void 0===n[1]:return t(1);case"u"===n[0]&&void 0!==n[1]:return t(parseInt(n.slice(1).join("")));case"x"===n[0]&&void 0===n[1]:return r(1);case"x"===n[0]&&void 0!==n[1]:return r(parseInt(n.slice(1).join("")));default:throw new Error("This should never happen if you use isGroupCommand")}}function de(e){const t=e=>(0,M.Wi)(e.bound)||"add"===e.operation||"mul"===e.operation?(0,M.G)(e):M.YP,r=(e,r,n)=>{const i=((e,r)=>(0,a.zG)(e,(e=>{switch(e){case"p":return(0,M.G)("add");case"m":return(0,M.G)("mul");case"v":return(0,M.G)("max");case"n":return(0,M.G)("min");default:return M.YP}}),M.UI((e=>({operation:e,bound:r}))),M.tS(t)))(e,n);return(0,M.UI)((e=>{const{init:t,rest:n}=(0,x.zT)((e=>{return"number"==typeof(t=parseInt(e))&&isFinite(t)&&Math.floor(t)===t;var t}))(r);return{1:{1:e,2:0===t.length?1:parseInt(t.join(""))},2:n.join("")}}))(i)};return(0,M.UI)(f)((0,C.nI)(le(e,(e=>{const t=e.split("");if(0===t.length)return M.YP;const[n,...i]=t;if("b"===n){const{init:e,rest:t}=(0,a.zG)(i,(0,x.zT)((e=>-1!=="1234567890.".indexOf(e))));if(0===e.length||0===t.length)return M.YP;const n=parseFloat(e.join("")),[s,...o]=t;return r(s,o,(0,M.G)(n))}return r(n,i,M.YP)}))))}function le(e,t){const r=t(e);return(0,M.fS)((()=>[]))((0,M.UI)((e=>[e[1]].concat(le(e[2],t))))(r))}function fe(e){return k(e.map(pe))}function pe(e){switch(e.kind){case"number":return g(e.value);case"string":return _(e.value);case"null":return{kind:"bottom"};case"object":return _("{object}");case"array":return _("{array}")}}var ge=r(1828);const _e={strategy:(e,t,r)=>n=>{if((0,M.Wi)(r))return t;if("delta"===e&&(0,M.Wi)(t))return M.YP;if((0,M.Wi)(t))return r;if((0,M.pC)(t)&&(0,M.pC)(r))return n(t.value,r.value);throw new Error("Non exhaustive match in combineCommand.strategy")},operation:(e,t,r,n,i,s)=>{const o=(0,x.pR)(O(s)),c=(0,a.zG)(t.bound,M.EQ((()=>a.yR),(e=>t=>(0,I.VV)(s)(i.fromNumber(e),t))));if("append"===e&&"add"===t.operation)return(0,x.yL)(r,n,ke("append",(0,a.ls)(i.plus,c)));if("append"===e&&"mul"===t.operation)return(0,x.yL)(r,n,ke("append",(0,a.ls)(i.times,c)));if("append"===e&&"max"===t.operation)return(0,I.Fp)(o)(r,n);if("join"===e&&"add"===t.operation)return(0,x.yL)(r,n,ke("join",(0,I.Fp)(s)));if("join"===e&&"mul"===t.operation)return(0,x.yL)(r,n,ke("join",(0,I.Fp)(s)));if("join"===e&&"max"===t.operation)return(0,I.Fp)(o)(r,n);if("min"===t.operation)return _e.operation(e,{operation:"max",bound:t.bound},r,n,i,function(e){return(0,I.Zt)(((t,r)=>A(e.compare(t,r))))}(s));if("delta"===e&&"max"===t.operation)return(0,I.gt)(o)(r,n)?r:n.map(p);if("delta"===e)return(0,x.yL)(r,n,((e,t)=>(0,I.gt)(O(s))(e,t)?P(e,c):{kind:"bottom"}));throw new Error("Non exhaustive match in combineCommand.operation")},extend:(e,t,r,n)=>{if("delta"===e&&"top"===r.kind&&"top"===n.kind)return(0,I.gt)(D.Df)(r.error,n.error)?_(r.error):{kind:"bottom"};if("delta"===e&&"bottom"===n.kind)return r;if("delta"===e&&"bottom"===r.kind)return{kind:"bottom"};if("top"===r.kind&&"top"===n.kind)return _((0,I.Fp)(D.Df)(r.error,n.error));if("top"===r.kind)return r;if("top"===n.kind)return n;if("inner"===r.kind&&"inner"===n.kind)return t(r.a,n.a);if("bottom"===r.kind)return n;if("bottom"===n.kind)return r;throw new Error("Non exhaustive match in extend")}},me={fromNumber:a.yR,plus:(e,t)=>e+t,times:(e,t)=>e*t};function he(e,t,r,n){if("unbounded"===e.kind&&"unbounded"===t.kind){const i=e.group,a=t.group;return(0,M.fS)(p)((0,M.UI)((e=>g(m(e))))(q(i,a,r,n)))}if("windowed"===e.kind&&"windowed"===t.kind){const i=e.key,a=e.group,s=t.key,o=t.group,c=(0,I.Fp)((0,M.pR)(n))(i,s);return(0,M.fS)(p)((0,M.UI)((e=>g(h(e,c))))(q(a,o,r,n)))}if("countLimit"===e.kind&&"countLimit"===t.kind){const i=e.n,a=t.n;if(i===a){const a=e.limit,s=e.group,o=t.limit,c=t.group,u=(0,I.Fp)((0,M.pR)(n))(a,o);return(0,M.fS)(p)((0,M.UI)((e=>g(v(e,u,i))))(q(s,c,r,n)))}return _("Non matching counts")}if("uniqueLimit"===e.kind&&"uniqueLimit"===t.kind){const i=e.n,a=t.n;if(i===a){const a=e.limit,s=e.group,o=t.limit,c=t.group,u=(0,I.Fp)((0,M.pR)(n))(a,o);return(0,M.fS)(p)((0,M.UI)((e=>g(b(e,u,i))))(q(s,c,r,n)))}return _("Non matching counts")}return _("Non matching group types")}function ve(e,t,r){return(0,M.fS)(o)(be(e,M.YP)(t,r))}function be(e,t){const r=t=>(r,n)=>_e.strategy(e,r,n)(be(e,t)),n=(t,n,i)=>{if("stringGroup"===n.kind&&"stringGroup"===i.kind){const e=he(n.group,i.group,r(t),D.Df);return P(e,(e=>w(we(e,D.Df))))}if("numberGroup"===n.kind&&"numberGroup"===i.kind){const e=he(n.group,i.group,r(t),R.Df);return P(e,(e=>y(we(e,R.Df))))}if("tuple"===n.kind&&"tuple"===i.kind){const r=(0,M.pC)(t)?t.value:[];return g(k(function(e,t,r,n,i,a){const s=(e,t)=>({1:(0,x.ke)(e)(t).concat((0,x.KB)(Math.max(0,e-t.length),p)),2:(0,x.md)(e)(t)}),o=(t,r,n)=>{if(0===t.length)return _e.operation(e,{operation:"max",bound:M.YP},r,n,i,a);if(t.length>0){const[c,...u]=t,d=s(c[2],r),l=d[1],f=d[2],p=s(c[2],n),g=p[1],_=p[2];return _e.operation(e,c[1],l,g,i,a).concat(o(u,f,_))}throw new Error("Non exhaustive match in recurse")};return(0,x.GY)((0,x.Qp)((e=>"bottom"===e.kind))((0,x.GY)(o(t,r,n))))}(e,r,n.tuple,i.tuple,me,R.Df)))}throw new Error(`Non matching payload. Got ${n.kind} and ${i.kind}`)},i=(e,r)=>{if((0,M.Eh)((0,C.Eh)((0,L.n_)({1:(0,L.n_)({operation:D.Eq,bound:(0,M.Eh)(R.Eq)}),2:R.Eq}))).equals(e.commands,r.commands)){const i=(0,M.Wi)(e.commands)?t:e.commands,a=n(i,e.payload,r.payload);return P(a,(t=>S(e.commands,t)))}if(i=e.commands,s=r.commands,(0,M.Eh)((0,C.Eh)((0,L.n_)({1:(0,L.n_)({operation:D.Eq}),2:R.Eq}))).equals(i,s)){const i=(0,a.zG)(((e,t)=>(0,a.zG)((0,ge.gz)(M.G5)(e,t),(0,M.UI)((([e,t])=>C.yL(e,t,((e,t)=>({1:{operation:e[1].operation,bound:(0,a.zG)((0,ge.gz)(M.G5)(e[1].bound,t[1].bound),M.UI((([e,t])=>Math.min(e,t))),M.wp((()=>e[1].bound)),M.wp((()=>t[1].bound)))},2:e[2]})))))))(e.commands,r.commands),M.wp((()=>t))),s=n(i,e.payload,r.payload);return P(s,(e=>S(i,e)))}throw new Error(`Non matching primitive strings. Got ${V(e)} and ${V(r)}`);var i,s};return(t,r)=>J(E(_e.extend(e,i,ae(t).state,ae(r).state)))}function ye(e,t,r){const n=(0,M.UI)((t=>j(e,(([e,n])=>(0,I.gf)(r)(e,t)))))(t);return(0,M.fS)((()=>e))(n)}function we(e,t){switch(e.kind){case"unbounded":return e;case"windowed":return(0,M.Wi)(e.key)?e:h(ye(e.group,e.key,t),e.key);case"countLimit":{const r=e.limit,n=e.n,i=e.group,a=G(n,i,((e,t)=>t<=1?M.YP:(0,M.G)(t-1)),t),s=(0,I.Fp)((0,M.pR)(t))(r,a);return v(ye(i,s,t),s,n)}case"uniqueLimit":{const r=e.limit,n=e.n,i=e.group,a=(e,t)=>{if("object"===e.kind){const r=[...e.value.keys(),...t.keys()],i=new Set(r);return i.size>=n?M.YP:(0,M.G)(i)}return M.YP},s=G(new Set,i,a,t),o=(0,I.Fp)((0,M.pR)(t))(r,s);return b(ye(i,o,t),o,n)}}}function ke(e,t){return(r,n)=>_e.extend(e,((e,r)=>g(t(e,r))),r,n)}var Ee=r(5151),Se=r(922),Ie=r(2652),De=r(4730),Pe=r(8036);class Oe{constructor(e,t,r){this.externalData=e,this.localQueries=t,this.externalQueries=r,this.queryCodesAsList=[],this.queryCodesAsMap={};const n=this.externalData.getExternalJsonData(Se.mL)||[],i=(0,a.zG)((0,M.Y3)((()=>n.filter((e=>(0,Pe.UC)(e,this.localQueries,this.externalQueries))))),(0,M.fS)((()=>[])));this.add(i)}add(e){return(0,a.zG)(e.forEach((e=>this.queryCodesAsMap[e]=!0)),(e=>this.updateSegmentsList()))}remove(e){return(0,a.zG)(e.forEach((e=>delete this.queryCodesAsMap[e])),(e=>this.updateSegmentsList()))}getAllAsList(){return this.queryCodesAsList}getAllAsMap(){return this.queryCodesAsMap}getUpdates(e){const t=[],r=[];return Object.entries(e).forEach((e=>{let[n,i]=e;const a=parseInt(n),s=(null==i?void 0:i.result)||{result:!1},o=!0===(null==s?void 0:s.result)&&!(a in this.queryCodesAsMap),c=!1===(null==s?void 0:s.result)&&a in this.queryCodesAsMap;o?t.push(a):c&&r.push(a)})),{entered:t,exited:r}}flush(){this.externalData.setExternalJsonData(Se.mL,this.getAllAsList())}reset(){this.externalData.removeExternalData(Se.mL),this.queryCodesAsList=[],this.queryCodesAsMap={}}updateSegmentsList(){this.queryCodesAsList=Object.keys(this.queryCodesAsMap).map((e=>parseInt(e)))}}const Me="bootstrap",Ce="process",xe="processTransitions",Te="updateExternalState",Ae="updateLAL",Ue="updateTPD";var qe=r(2851),Ge=r(3328);const ze="permutive:query:changed",je="internal_query_states",Le="external_query_states",Re=e=>class extends e{constructor(){super(...arguments),this.prefix="[Query Manager]",this.isWorkerReady=!1,this.stateMap={value:{},promise:Promise.resolve({})},this.extStateMap={},this.userSegments=new Oe(this.externalData,this.queryMetadata,this.externalQueries),this.segmentEntryQueryCodes=new Set,this.segmentExitQueryCodes=new Set,this.cohortEntryQueryCodes=new Set,this.cohortExitQueryCodes=new Set,this.hasNewOrModifiedQueries=!1,this.scheduler=new De.b(this.transitionDebounceTime,this.transitionDebounceMaxTime),this.debouncedProcessTransitions=this.makeDebouncedProcessTransitions(),this.registerListenersOnlyOnce=(0,Ie.HP)((()=>{this.lalRef.onChange(M.UI((e=>this.postMessage(Ae,[e])()))),this.tpdRef.onChange(M.UI((e=>this.postMessage(Ue,[e])())))}));const[e,t]=qe.Ue(this.userSegments.getAllAsList());this.queryCodesRef=(0,a.zG)(e,qe.D8(Ge.Eh(R.Eq))),this.queryCodesRefUpdate=t;const[r,n]=qe.Ue(Promise.resolve(M.YP));this.processingStatus=r,this.setProcessingStatus=n,this.segments=(0,a.zG)(r,qe.UI((e=>e.then((()=>this.queryCodesRef.current)))),qe.UI((e=>()=>e)),(e=>qe.vP(this.queryCodesRef,e)),qe.UI((e=>{let[t,r]=e;return[t,r]})));const i=(0,a.zG)(this.viewId.ref,qe.UI((e=>new Promise((t=>{const r=this.processingStatus.onChange((n=>n.then((0,a.ls)(M.hX((e=>"Pageview"===e.name)),M.hX((t=>t.view_id===e)),M.UI((()=>{r(),t()}))))))})))));this.pageviewSegments=(0,a.zG)(i,qe.UI((e=>e.then((()=>this.queryCodesRef.current)))),qe.UI((e=>()=>e)),(e=>qe.vP(this.queryCodesRef,e)),qe.UI((e=>{let[t,r]=e;return[t,r]})));const[s,o]=qe.Ue(qe.a9(M.YP));this.setLalRef=o,this.lalRef=qe.xH(s);const[c,u]=qe.Ue(qe.a9(M.YP));this.setTpdRef=u,this.tpdRef=qe.xH(c)}get queryCodesAsRef(){return this.queryCodesRef}makeStateMaps(){const e=this.permutiveData.getData(je)||{},t=this.permutiveData.getData(Le)||{};for(const t in e)if("activations"in e[t]){const r=e[t].activations;for(const e in r)r[e]=[...new Set(r[e])]}this.logDebug("Cached state maps",{internal:e,external:t});const r=Object.keys(this.queryMetadata),n=Object.keys(e);this.hasNewOrModifiedQueries=r.length!==n.length||r.filter((t=>{var r;return this.queryMetadata[t]!==(null===(r=e[t])||void 0===r?void 0:r.checksum)})).length>0,this.logDebug("has new or modified queries",this.hasNewOrModifiedQueries);const i=this.hasNewOrModifiedQueries?(0,Ie.fl)(e,(t=>{var r;const n=null===(r=e[t])||void 0===r?void 0:r.checksum,i=n===this.queryMetadata[t];return i||this.logDebug(`Dropping state for query ${t}, mismatched checksum`,{cachedChecksum:n,checksum:this.queryMetadata[t]}),i})):e;this.extStateMap=this.hasNewOrModifiedQueries?this.dropExternalStateMissingFromStateMap(t,i):t,this.stateMap={value:i,promise:Promise.resolve(i)},this.logDebug("Initialised state maps",{internal:this.stateMap.value,external:this.extStateMap,metadata:this.queryMetadata});this.permutiveData.getData("query_states")&&this.permutiveData.deleteKey("query_states")}dropExternalStateMissingFromStateMap(e,t){const r=(0,Ie.fl)(e,(e=>e in t));return this.permutiveData.setData(Le,r),r}makeDebouncedProcessTransitions(){return this.scheduler.scheduleAccumulated((e=>this.processTransitions(e)()),{concat:(e,t)=>e.concat(t),empty:[]})}makeMessage(e,t,r){return{type:e,payload:(0,a.bc)(this.queryMetadata,this.extStateMap,...t),stateMap:r,userId:this.userId.get()}}trackTransition(e,t){const r=Se.ED?this.customProperties.getCustomProps():{},n=Object.assign(Object.assign(Object.assign({},r),{segment_number:t}),{});e?(this.segmentEntryQueryCodes.add(t),this.cohortEntryQueryCodes.add(t.toString())):(this.segmentExitQueryCodes.add(t),this.cohortExitQueryCodes.add(t.toString())),this.permutive.track(e?"SegmentEntry":"SegmentExit",n)}trackSegmentsTransition(e,t){e.forEach((e=>{this.trackTransition(!0,e),this.messages.emit(ze,{queryCode:e,result:{result:!0}})})),t.forEach((e=>{this.trackTransition(!1,e),this.messages.emit(ze,{queryCode:e,result:{result:!1}})}))}updateUserSegments(e,t){e.length>0&&this.userSegments.add(e),t.length>0&&this.userSegments.remove(t),(e.length>0||t.length>0)&&(this.userSegments.flush(),this.queryCodesRefUpdate(this.userSegments.getAllAsList()))}onStateChangeReady(e){const{entered:t,exited:r}=this.userSegments.getUpdates(e);this.trackSegmentsTransition(t,r),this.updateUserSegments(t,r),this.logDebug("Updating query state",{updatedStateMap:e}),this.permutiveData.setData(je,e);return(t.length>0||r.length>0)&&(this.logDebug("Updated cohorts",{entered:t,exited:r}),this.messages.emit("permutive:segments:updated")),{segmentsEntered:new Set(t),segmentsExited:new Set(r),cohortsEntered:new Set(t.map(String)),cohortsExited:new Set(r.map(String))}}postMessage(e,t){const r=()=>({segmentsEntered:new Set,segmentsExited:new Set,cohortsEntered:new Set,cohortsExited:new Set});return(0,a.ls)((()=>(0,a.a9)(this.stateMap.promise)),Ee.UI((r=>this.makeMessage(e,t,r))),Ee.tS((e=>this.processMessage(e))),s.UI((e=>this.userId.get()===e.userId?e:{diff:{},errors:[]})),s.UI((0,Ie.bw)((e=>{e.errors.length>0&&this.api.reportError(`QL error(s). Got ${e.errors.join("; ")}`,this.userId.get())}))),s.UI((e=>{let{diff:t,externalStateToDrop:n}=e;if(n){const e=(0,Ie.fl)(this.stateMap.value,(e=>!(e in n)));this.extStateMap=this.dropExternalStateMissingFromStateMap(this.extStateMap,e)}this.stateMap.value=Object.assign(Object.assign({},this.stateMap.value),t);const i=this.isWorkerReady?this.onStateChangeReady(this.stateMap.value):r();return{updatedStateMap:this.stateMap.value,result:(0,a.bc)(t,i)}})),s.fS((e=>(this.api.reportError(`Error during query execution. Got ${e}`,this.userId.get()),Ee.of({updatedStateMap:this.stateMap.value,result:(0,a.bc)({},r())})))),(e=>e()),(e=>(this.stateMap.promise=e.then((e=>e.updatedStateMap)),e.then((e=>e.result)))))}processTransitions(e){return this.postMessage(xe,[e])}bootstrap(e){return(0,a.zG)(ge.gz(Ee.oE)(this.postMessage(Me,[{segments:{"1p":this.userSegments.getAllAsMap()},sessionId:this.sessionManager.getSessionId(),viewId:this.viewId.get(),lookalikeModels:this.lalRef.current,thirdPartydata:this.tpdRef.current},e]),(()=>Promise.resolve(this.registerListenersOnlyOnce()))),Ee.UI((e=>{let[t]=e;return t})))}process(e,t){return(0,a.zG)((0,Pe.AG)(e)?()=>this.debouncedProcessTransitions([e]):this.processStandard([e],t),(t=>()=>{const r=t();return this.setProcessingStatus(this.processingStatus.current.then((()=>r.then((()=>M.G(e)),(()=>M.G(e)))))),r}))}processStandard(e,t){return(0,a.zG)(this.postMessage(Ce,[e]),Ee.UI((0,Ie.bw)((()=>{t&&this.setAsRealTimeifNeeded(e)}))))}updateExternalState(e){return(0,a.zG)((()=>{const t=(0,Ie.b0)(e,((e,t)=>{const r=this.queryMetadata[e];return r&&t[r]?(0,M.Uo)(W(t[r])):M.YP})),r=(0,Ie.b0)(this.extStateMap,((e,t)=>(0,M.Uo)(W(t)))),n=(e,t,r)=>(0,a.zG)((0,M.Y3)((()=>(this.logDebug("Joining external state",{newExtState:e,currentExtState:t}),ve("join",e,t)))),(0,M.fS)((()=>(this.api.reportError(`Failed to join external state for query: ${r}. Had ${B(t)}, received ${B(e)}}`,this.userId.get()),e)))),i=(0,Ie.b0)(Object.assign(Object.assign({},r),t),((e,t)=>r[e]?(0,M.G)(K(n(t,r[e],e))):(0,M.G)(K(t))));return this.permutiveData.setData(Le,i),this.extStateMap=i,Promise.resolve()}),Ee.tS((()=>this.postMessage(Te,[]))))}reset(){this.userSegments.reset(),this.setProcessingStatus(Promise.resolve(M.YP)),this.queryCodesRefUpdate(this.userSegments.getAllAsList()),this.permutiveData.setData(je,{}),this.permutiveData.setData(Le,{}),this.stateMap={value:{},promise:Promise.resolve({})},this.extStateMap={}}setAsReady(){this.isWorkerReady=!0,this.onStateChangeReady(this.stateMap.value),this.messages.emit("permutive:queries:initialised")}getStateSizeInBytes(){return 2*JSON.stringify(this.stateMap.value).length}setAsRealTimeifNeeded(e){return!this.realtime.isRealtime()&&e.filter((e=>"Pageview"===e.name)).length>0?this.realtime.setAsRealtime(this.userSegments.getAllAsList().length):void 0}logDebug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger.debug(this.prefix,...t)}};var Be=r(3992);function Ke(){{const e=r(4386).Z;return(0,n.h)(new e)}}class We{constructor(e){this.queryMetadata={146572:"0c8b70cdb7",156237:"d9d17c5ffe",156238:"0edd397782",156668:"6adf8dfec1",156752:"299ff1ffb0",156753:"8bbb5c2536",158696:"3a742f701b",158699:"cd63133630",158730:"d504a652df",162748:"43d94fc490",162749:"30890bbeb2",162750:"11bf903344",162754:"0a0e006c21",163265:"66cd2dac94",163341:"3baf59ca35",163719:"8dd4af8897",164559:"6daa82e1b8",164612:"b4471576a5",164815:"6994d99de9",164912:"08e015a47a",164913:"6717fc0c19",164914:"20b71933d1",164915:"61df194d4e",165082:"ed09272e1b",165083:"4c965c8d4d",165084:"1b827d4e7e",165085:"8960ddc905",165086:"28fbbeb8bb",165087:"0bd5995c18",165088:"b9dc25fd95",165089:"0cfb9bef24",165479:"025f5c9b46",166234:"87197208ac",166523:"09ed2e3253",166524:"1e4e16b875",166525:"cfa3b13050",167760:"d34c97ed6c",167761:"5eb6a8db9a",167763:"c3a574a111",167764:"7d516c1daf",167765:"3d3c40f4e8",168207:"ea645cd4f2",168208:"1fe716f9a7",168209:"e44bfed01b",168211:"8413a496e6",168213:"7695c2d690",168214:"d68eefd96a",168217:"4242307be1",168218:"01af782c4e",168220:"06f35fabf0",168223:"7f65a95ef6",168224:"816d9718ce",168225:"37bb0cc480",168226:"44e806a047",168227:"6f1673f19a",168228:"6d1db71f31",168229:"3479907302",168230:"3d27b6f4a7",168232:"cd79be1a0a",168237:"2526d09901",168238:"c365a3e92a",168239:"1dd3b0adf7",169409:"e52749958b",171498:"26b0e1d73a",171502:"080904566a",171503:"1a762f9411",171504:"b12ad49d83",171812:"afbac56339",171814:"2842a8a31b",171817:"db8bd7de9d",171818:"26d361a535",171820:"4c68a7015e",171821:"533a6877e3",171822:"6689443c1d",171823:"2cdf38fcb5",171904:"a0daeee17d",171905:"7be5f3f302",171906:"e00cc81269",171908:"a4505e9fc8",171909:"264f895f4f",171910:"fee39039ba",171912:"5d946cc22d",172119:"bbf9b3799b",172262:"1eb83fbe86",173051:"389067ca6a",173171:"ef271c07b0",173758:"40f6188704",173830:"ec97900a2c",174428:"95c20795f8",174429:"0c1af8f65a",174528:"5420567baa",174529:"eafde1094a",174530:"2b3cc3c88e",174531:"44759e1851",176048:"ebe17cad1a",176061:"bcfe7f1525",176062:"3968ab8148",176063:"d7554e1d78",176064:"a18fe2a604",176065:"77174eea1d",176622:"41ffae1cda",176623:"bccfd07a67",176634:"f6f5a15f19",176635:"ebd6852978",176740:"25defba281",176741:"8d834f40ef",176742:"5d5f4c5d3c",176743:"8f5bd79c8a",176744:"053a8a762e",177066:"b8bdf0ea3d",177537:"881e72afeb",179385:"f03a981930",179958:"f48a24eea7",179960:"0ff53f0f83",179982:"ca34ff4606",180027:"130f5a24b4",180096:"1dc2950776",180097:"c90e2e80a6",180098:"e49a232ca4",180101:"5f1a055d1e",180102:"c45b6d4981",180165:"9131426fcf",180166:"a8fc4a5702",180167:"a9387d6c73",180168:"09b4d6363c",180397:"0faf245194",180609:"9c95825cd0",180610:"b1c512cbcc",180611:"b2d19e6da3",180613:"f5ff010a0c",180614:"2dd282cbf0",180615:"ebb1df15f6",180617:"bccb837ade",180619:"ce0ba70505",180621:"48e06a6c73",181040:"6c848aaac9",181041:"f71e5fae8f",181042:"37bd48b01f",181043:"fbe559daba",181044:"01a5dc2738",181045:"38bbd010bb",181046:"6e3d46933e",181047:"2971812ada",181048:"bbd5ba3bd7",181049:"892d8daf86",181050:"2550c72359",181051:"beae65f810",181052:"879688e365",181053:"6a60b25aa6",181054:"c2037eaa16",181055:"868a0b2c85",181056:"9492b47d0a",181057:"66a5980a18",181058:"f56cd7dd81",181059:"637d710567",181060:"4f872edef4",181061:"b2f1764879",181062:"3a4713c61b",181063:"e99b9d0945",181064:"9e5f1b11e1",181065:"f5c8cca8c4",181066:"24d12ad623",181067:"5f6df77735",181068:"76903f6916",181069:"1e013f188c",181070:"90027facf8",181071:"065a4a6b5e",181072:"59d711a49a",181073:"23f8848e05",181074:"6910b5f4d5",181075:"ff0313fff5",181076:"739db39d81",181077:"828cd2188c",181078:"0b1608faf9",181079:"ba8a35d2fc",181080:"a9c1b65281",181081:"f053ae96fa",181082:"990cd5c113",181083:"9b46522e5c",181084:"d130b4aa69",181085:"2c47d469ce",181086:"f872fca011",181087:"14247181bc",181088:"1c49df78e8",181089:"0d455bd6e8",181090:"1336dc78ac",181091:"f1345002a1",181092:"645f6df08f",181093:"2a5a9a85ae",181094:"138619be63",181095:"64d3de6bb0",181096:"8a1e7d299b",181097:"77214a7e9c",181098:"043704a06b",181099:"d8ad96183c",181100:"91dcaa9f83",181101:"c4135cd6ad",181102:"b153a2d52d",181103:"ab9e8ee6a7",181104:"1915b8691a",181105:"e83e4ffdeb",181106:"d4b6703b53",181107:"ba7253df36",181108:"dee3ee60d2",181109:"94708f26a6",181110:"48beda684a",181111:"fa125910c6",181112:"7ce80b2b72",181113:"1be7433d20",181114:"8e9a68a405",181115:"1ef71f3a7f",181116:"13b859b3cd",181117:"9f6bfa6d6e",181118:"6723de90aa",181119:"8199e63a33",181120:"cfe33a5de7",181121:"8fee8a54f6",181122:"164365a491",181123:"fc48621d6c",181124:"3f0a1b19f1",181125:"72a93f7494",181126:"0b76774a1b",181127:"8d4c5b10e0",181128:"e56bd69a67",181129:"9b5c3c6e6a",181130:"5c1ece4024",181131:"2fd646476d",181132:"cf5d4623b5",181133:"4636a903dd",181134:"454b796f32",181135:"ed1dcfc85a",181136:"12ce089447",181137:"6792e50f12",181138:"f5681c0d02",181139:"7dea6b6f33",181140:"37be6a776c",181141:"ee8f9dbf0a",181142:"23de2422cc",181143:"e5c058be33",181144:"56b6410458",181145:"4cb14a747b",181146:"7df45c65f5",181147:"b455fbec4a",181148:"9e607923de",181149:"4af62594d8",181150:"f1fe66dee9",181151:"f3974f346f",181152:"9b438e3cb6",181153:"ba1b2656a2",181154:"c91b7042a9",181155:"c3235f5664",181156:"020762b102",181157:"c337aaf200",181158:"c272d56f9a",181159:"1122d68d25",181160:"3b506c6c64",181161:"cab2ced5ed",181162:"d8cd93998e",181163:"e3a9d1ab99",181164:"db37760678",181165:"d4d439df50",181166:"73179f7fae",181167:"0028c97928",181168:"b6b1ba158b",181169:"ed115cd3a0",181170:"fa0bf4c4fd",181171:"4c0c06e2d8",181172:"d7fd08a3bb",181173:"d9de016ef5",181174:"9022435aeb",181175:"ae80ec99c2",181176:"5f6cfa7d3c",181177:"2c19dad6e8",181178:"7604bd6821",181179:"f8c4a8af14",181180:"d8e7d88f5b",181181:"ad255ecda7",181182:"23b2a275c3",181183:"a85fcfe037",181184:"af6b31f803",181185:"f8e34c836c",181186:"fd4dd8e04c",181187:"d0e8f125c6",181188:"96e7c29624",181189:"8472e11d40",181190:"50c57a55ce",181191:"8e0c94076d",181192:"8fd9bdd180",181193:"5ee068741e",181194:"c0c3b83253",181195:"2f67560b6b",181196:"35ac6fe193",181197:"f09a531f9f",181198:"ea1bd1c0fa",181199:"5316b4c333",181200:"eeb2a7ece0",181201:"d9e6dd42ad",181202:"567cf7edaa",181203:"657ffd5e11",181204:"a53687cb88",181205:"10dd71b4bf",181206:"937405ef90",181207:"667d4e0d50",181208:"ebec614176",181209:"d25b873364",181210:"bfd615f49c",181211:"7913a093bb",181212:"b5253b0fec",181213:"f5d09d8368",181214:"4b887b96d6",181215:"84d8dfa95b",181216:"e0601c69c7",181217:"c2baf1cbff",181218:"57a4dccb15",181219:"6d4cf995a2",181220:"48cb1f09e2",181221:"01dc091669",181222:"3a6e1519af",181223:"67f63e3f23",181224:"96abebc1ec",181225:"71b10a93d9",181226:"6661cb222d",181227:"769ab43b0e",181228:"ba41651954",181229:"8a5ee35be7",181230:"e6fcdc038b",181231:"860eb99e7e",181232:"e3986d81da",181233:"9f277b6039",181234:"0daf83b4d1",181235:"2f6202f294",181236:"2da06c34d3",181237:"6febda03fe",181238:"cf6ac1d102",181239:"f6228c308a",181240:"0117741b2b",181241:"cc4225df85",181242:"3a9150e382",181243:"f00db68b65",181244:"39571cc1bf",181245:"eda27201c8",181246:"642d96e8a7",181247:"f4be08a023",181248:"cbb45c981c",181249:"9ec8d20ddf",181250:"90b73499a9",181251:"5d7007a2ec",181252:"371fc0afff",181253:"f1e9289260",181254:"5b968836fd",181255:"59f82173ea",181256:"4e42d8d790",181257:"f31e2e6ec9",181258:"63a5eb09f5",181259:"5908bf6b63",181260:"83039914f9",181261:"313aff5c14",181262:"9625748658",181263:"731ea12450",181264:"87fdb76369",181265:"3a6445a161",181266:"94047cf216",181267:"a791ea6a53",181268:"72bf46c9e4",181269:"5a67a43259",181270:"bd288e807b",181271:"47211b40f7",181272:"6f25c19fee",181273:"825f032604",181274:"56b2bb97b0",181275:"fe81dba157",181276:"18baef266a",181277:"1bfb241ce2",181278:"24c0bbcf50",181279:"c3f1724fc2",181280:"52449aacbc",181281:"b3c1871323",181282:"1aefc7a285",181283:"b9701ef362",181284:"6b03b032aa",181285:"7bf6aee3d2",181286:"0b6da906c0",181287:"67203c6c8f",181288:"1025d93d1f",181289:"6b2360a325",181290:"122d7d92d7",181291:"36c49eb893",181292:"185826693e",181293:"169bcb706a",181294:"f9b8c115ac",181295:"5dc6a84dee",181296:"facde0963f",181297:"8ec4a21157",181298:"f58ec762cc",181299:"7fc9a8a0b6",181300:"06af8fccea",181301:"4ae218ea3e",181302:"938b0c8fcf",181303:"81c0d72352",181304:"57e225dc24",181305:"54f2944e14",181306:"dc359e70c1",181307:"806593940c",181308:"348dad8c0a",181309:"b0f4430ae3",181310:"8602ab3f99",181311:"0ff3c375e6",181312:"59d49409f3",181313:"e27767ca42",181314:"3d480b9496",181315:"a598ddca91",181316:"59b1a3fdcc",181317:"84913d2502",181318:"9dad2b49a2",181319:"7351cec878",181320:"93e9da421b",181321:"caa839d2ca",181322:"aee12f506a",181323:"c9b27ec395",181324:"642e01d025",181325:"d7991df4b8",181326:"31f19edcd9",181327:"46706bb1a2",181348:"f1db0564a7",181349:"455a369eb9",181356:"006bc1d122",181624:"03447733ba",181629:"1fe8c8a476",181630:"50ec11743e",181631:"70672a3b2d",181632:"0da8f382e5",181634:"49c3dc976f",181635:"da5c6c5296",181636:"183125a452",181637:"75b36eaa5a",181638:"4967720053",181639:"03dcf200c2",181640:"e6c69101bb",181641:"5c878d5105",181642:"d9608f107a",181643:"b19ddac337",181644:"561d8e8220",181645:"e9c901451c",181646:"0ff6dd4cdd",181647:"f63beb4873",181648:"e120fbadc2",181649:"1673765bfd",181650:"cf98eb50e0",181651:"8352cd8e8a",181652:"ab3d1d1272",181653:"6951ab57c8",181654:"8894e2042c",181655:"605ffd0a9c",181656:"1affd31c7e",181657:"98a27c8b14",181658:"dff9bcd828",181659:"d16a0a380e",181660:"66f1694125",181661:"e876220b89",181662:"f294527b9f",181663:"24828898b9",181664:"716935d538",181665:"fb07f906d4",181666:"61580d9ec8",181667:"08e75cc6bd",181668:"2b67ea2138",181669:"eca3707cc0",181670:"ea83c74489",181671:"68dc3e86f0",181672:"f7bd1eff1f",181673:"7e8190cef9",181674:"4cb3ac7327",181675:"dce8db1d6e",181676:"e4d5773852",181677:"e408dc7588",181678:"b15096bf64",181679:"c899c863f0",181680:"29c8c6ec14",181681:"89065527ec",181682:"999c13a680",181683:"de2ddfba92",181684:"2d20392d97",181685:"9e36a159e4",181686:"948a0ac4c2",181687:"848a3e539a",181688:"e3b511b17e",181689:"27197ecb21",181690:"7c4f70309e",181691:"04e5602776",181692:"634a5c1e18",181693:"df4f5d12c8",181694:"0f1b7a2665",181695:"ac8fb90d5a",181696:"a247994bce",181697:"be9e95caa4",181698:"55060c57f0",181699:"7dc0606292",181700:"a817af70d8",181701:"be6cf50e2b",181702:"8f4ad4428c",181703:"ed85a71d3a",181705:"27eb852bd7",181706:"423f15365b",181707:"3465db5db1",181708:"86f2cd9c9e",181709:"73e70e66f9",181710:"e6aa31fc72",181711:"b4347245df",181712:"9bd744f8dc",181713:"6599ea7e94",181714:"271fdade3e",181715:"e57e6363fc",181716:"7ff5af8210",181717:"abddec6a8b",181718:"53fb6d03ac",181719:"b47abb5e08",181720:"76b0254f4f",181721:"a1472f762f",181722:"89ccbad67e",181723:"636ed41902",181724:"e03d5e604b",181725:"b7468436a7",181726:"fd54e098f2",181727:"423ba3575a",181728:"f941010b71",181729:"ff60f0695d",181730:"2fa14f87fe",181731:"1e4935e892",181732:"85f7d5d2fc",181733:"0cfcef10d8",181734:"5bd443eed5",181735:"a27f670986",181736:"9180640d5c",181737:"029a3a382f",181738:"e2d09dab67",181739:"582aa645a9",181740:"049e0caae9",181741:"8d4164ae6c",181742:"d28b37be48",181743:"4bdc0e4841",181744:"728a10e164",181745:"f2a9e3de31",181746:"e6f2d919b9",181747:"2114176eb1",181748:"5898fb5a75",181749:"393218a2bd",181750:"ccaf159222",181751:"6de4cfb961",181752:"b189e64783",181753:"751456aea1",181754:"e14525f185",181755:"22345e49ca",181756:"3fdfde0b09",181757:"c0765739f3",181758:"876d634d09",181759:"09e1766fd5",181760:"f5154e0d11",181761:"c622b479a9",181762:"f064a347a9",181763:"ea5cbc31b0",181764:"ea1c58ebaa",181765:"578bd084bf",181766:"6cd7d57e5f",181767:"abd77c632d",181768:"ac11aa3ea8",181769:"a34a6b27b6",181770:"440ecefa3e",181771:"26294bcbad",181772:"9c028d3d9d",181773:"609034d1b9",181774:"e2e4dd8fbb",181775:"eb8dbc260c",181776:"51f37217b9",181777:"ba207b7ace",181778:"6bcacb9118",181779:"5b5a5ff2b2",181780:"3704e3fd8c",181781:"242695bf7d",181782:"d3c745ac6f",181783:"cfacc5407b",181784:"22852174c7",181785:"c6e1bfe9a9",181786:"8cafa9da9c",181787:"516bab92b5",181788:"ee5457c972",181789:"d44fd31112",181790:"b1acaff827",181791:"215f8dc58e",181792:"582bbe98fb",181793:"2c3134025e",181794:"ba16b61bc7",181795:"03f6a387e8",181796:"c09e199910",181797:"9ce3406ba7",181798:"0a2f82f1ce",181799:"e1bc04e14e",181800:"57970d7d76",181801:"c9775bbee4",181802:"9e2202d0d8",181803:"69e16524ba",181804:"1e0e45bceb",181805:"aabcec30f0",181806:"4539b02e18",181807:"b51f25eac7",181808:"bbab776cf6",181809:"43f80b8b8f",181810:"0658fa4781",181811:"f826919fcd",181812:"e8e884c217",181813:"7aa89994d1",181814:"c95dfd7a64",181815:"f15d1e7af2",181816:"0f86722573",181817:"477b47fafb",181818:"00e325bc92",181819:"2b6fac0dfe",181820:"c155a6123f",181821:"a80cdaebef",181822:"efc2c26a88",181823:"4127f0e65b",181824:"f05c3d441d",181825:"484b4fbeb8",181826:"4ff71466f2",181827:"9d7f32a607",181828:"47e05815e1",181829:"485e6054bd",181830:"0dada4d15d",181831:"d30864729b",181832:"d3f6090174",181833:"3446b06e9f",181834:"eaf7bf3556",181835:"d3ab8b7b58",181836:"b450922a02",181837:"ee9a45aac3",181838:"ce87915c55",181839:"f04f13a8c8",181840:"d524269f4e",181841:"d3e158120e",181842:"d77bb6f916",181843:"a0efe581b2",181844:"b29e6bc8c6",181845:"126e119d21",181846:"d8477904a5",181847:"abbc6c7178",181848:"2635eca551",181849:"e6a111ec15",181850:"234c3717bc",181851:"81fb7046a7",181852:"265eba8e02",181853:"ef76b8bbf6",181854:"d1a5c76fc4",181855:"9f68df242a",181856:"6337ad8e18",181857:"4b6c855e94",181858:"9fa16fef35",181859:"ea2cf8a637",181860:"8c952a4fe8",181861:"f0f8cd528a",181862:"6898d763be",181863:"1f04d3047f",181864:"0e2ee211f9",181865:"f5179059a7",181866:"4cdb2b84f5",181867:"93c536dba0",181868:"0f37473c77",181869:"1a548e5175",181870:"2a4c8048b2",181871:"2eeb0641b6",181872:"0f4fec7ffb",181873:"7240809c4e",181874:"4ac92e3101",181875:"086e6cfd08",181876:"910b0be19b",181877:"8e25030cee",181878:"555d36ab12",181879:"9828ffc12a",181880:"c44f955314",181881:"c2a7c59d0a",181882:"9405e82839",181883:"042839b1b2",181884:"c0e9e442b5",181885:"734f1ac3bf",181886:"6d23c776e7",181887:"42a387fc2c",181888:"62bb7a6cd4",181889:"ba949a7074",181890:"a041375078",181891:"d0371b3c86",181892:"47abfefdcb",181893:"a714d1cb26",181894:"b7752e2997",181895:"448801c79f",181896:"0d49a5c923",181897:"f5c67d2e99",181898:"687d69ec42",181899:"8305c277c9",181900:"78becc5d54",181901:"0f4784fd4d",181902:"552fee8017",181903:"2275436924",181904:"3e63e373e1",181905:"38b47c96a8",181906:"7f84f0f353",181907:"720953ccb9",181908:"cca1be5311",181909:"f31b38c7de",181910:"2cdc3fbe39",181911:"4e6e987f0f",181912:"ca32ab762b",181913:"df50e0f6c1",181914:"6e4b0e20a8",181915:"2e8410bac1",181916:"eef087cf14",181917:"7da5fc82b3",181918:"5f8e66b2d6",181919:"e62f442d14",181920:"45b874bf09",181921:"cec75e94e8",181922:"6e81276404",181923:"ade1252f32",181924:"d8d610dcc8",181925:"57f7cc6cc9",181926:"c68c9300fe",181927:"6a1723a56d",181928:"6e6f8c1db7",181929:"23eed882ff",181930:"16b8d40123",181931:"5c0de79530",181932:"1dc24bedfa",181933:"deef697bd9",181934:"6e37fef569",181935:"b8e37bfb89",181936:"0198d3a2a4",181937:"0a78b049aa",181938:"aa2ba221ce",181939:"7d7e4b1e6a",181940:"09a8ff6cdf",181941:"4a0b8b73b0",181942:"ceb31a5a8e",181943:"e2e60b334f",181944:"d3c0ca525d",181945:"52186368ab",181946:"8574f427c0",181947:"ba90339e28",181948:"d273e09b55",181949:"09188587d9",181950:"2a64412f90",181951:"243f3161c9",181952:"fa3f136d7c",181953:"bde176aedb",181954:"0980cd1097",181955:"36def1ae9a",181956:"8456b2f65c",181958:"5b331ce15f",181959:"bd7df50918",181960:"ab6c753e71",181961:"3934a7a2b1",181962:"afacb25bc6",181963:"63f06529b9",181964:"47e18a9263",181965:"df77fb5f63",181966:"b9ba67806e",181967:"de02c0192f",181968:"e94f926f5e",181969:"c19f3ec023",181970:"758965b5c5",181971:"8453764e2d",181972:"3bf9254341",181973:"f4bbb722d8",181974:"4d4a633e39",181975:"e667355126",181976:"a8442797d3",181977:"6d26b3e341",181978:"3de68ed7f9",181979:"8e139c0e0f",181980:"455ba6fa74",181981:"4efce58d38",181982:"e465ad0e1c",181983:"4ec20e29dd",181984:"979412c1ce",181985:"03db93fe0e",181986:"86240b6e8b",181987:"d8594cc4aa",181988:"0972c9b884",181989:"76c9a28b81",181990:"b21c3e425b",181991:"42eed9abbf",181992:"7fe8ff909a",181993:"77f21c9c76",181994:"6517aab176",181995:"9a13e0bfec",181996:"dc7e1a4420",181997:"e6c9224f82",181998:"06db2b35bf",181999:"85a9d59689",182e3:"b4001d7e39",182001:"eb63044323",182002:"93799ab852",182003:"539816db34",182004:"c73e9114ad",182005:"b21ab8e36c",182006:"96c028e5df",182007:"e7b26a4073",182008:"5981c0cd22",182009:"23164b7990",182010:"7a8052be2f",182011:"ee5de4913d",182012:"437b929b7f",182013:"4b4587ade3",182014:"a99b03c3b2",182015:"789e31c682",182016:"42092d4fc7",182017:"27f4957f7a",182018:"19bdeb2612",182019:"7f7a45e01c",182020:"3a7bbd944b",182021:"afe3590dc3",182022:"7ab7b6cce9",182023:"065a57945f",182024:"dfb0448b24",182025:"d774d2d805",182026:"d6e676035e",182027:"5b674f5909",182028:"13f894ace9",182029:"6f6a0bbf4a",182030:"771c0f481b",182031:"d8312f082c",182032:"c7dcb50bdb",182033:"129424c1c3",182034:"b23026f94e",182035:"1339e27cdb",182036:"8548f2af9e",182037:"7ff4b83b2f",182038:"4f0d550fa3",182039:"34127ee2c1",182040:"2f42bc19bf",182041:"891c061aca",182042:"b6836de41c",182043:"54d5c15cbd",182044:"21c95d0be1",182045:"36d1f6fa35",182046:"38c5a37edc",182047:"bac474dc6e",182048:"978a78c310",182049:"b64c9fbe44",182050:"482434e57e",182051:"7b6a1127f7",182052:"0ae381dad8",182053:"8265389ec2",182054:"97e8310aeb",182055:"48640be58e",182056:"a16063e7aa",182057:"8079bb40fb",182058:"e3bd78b78a",182059:"c8613c468a",182060:"cc330e3fa0",182061:"9a79509b65",182062:"2ac48e5ac8",182063:"cfda0f74fe",182064:"d3273db23a",182065:"875e8fc1ee",182066:"b7ec75fa61",182067:"a7fab35eed",182068:"c3cc5546f7",182069:"8c05295066",182070:"14959d31a3",182071:"f146bf1a60",182072:"67e643327c",182073:"67bc02ffbb",182074:"9722599e16",182075:"07a26f1091",182076:"243cf8a4cc",182077:"1e4309c2a9",182078:"c9cec35203",182079:"39970d06b8",182080:"7edc5c4a2d",182081:"f4f2a1292f",182082:"45452a9d47",182083:"cbd17bda84",182084:"7725190c71",182085:"318dabd2b8",182086:"7c949b660b",182087:"f7c55eae66",182088:"88983f0fc7",182089:"7bed708957",182090:"5eace89be3",182091:"03740cc7f1",182092:"777fe03877",182093:"07eb8f053b",182094:"4ee1d395f8",182095:"331cf0298f",182096:"d3b1428768",182097:"5d3ee21b47",182098:"f8879535dd",182099:"833e3a9efe",182100:"91604ab614",182101:"c38f07b949",182102:"ad8b778958",182103:"f6704c0b26",182104:"05030b66dc",182105:"1ef979a698",182106:"5b1a5fd1b5",182107:"8af8c922bb",182108:"981d6ab228",182109:"8b94883146",182110:"68bf4c8296",182111:"0518330b80",182112:"4ee6d0d979",182113:"337522bb6d",182114:"e18ab11d55",182115:"ac63ed1d01",182116:"bd11349b9b",182117:"a41fa8a94a",182118:"cc91c65605",182119:"7aa806fef0",182120:"028a33b602",182121:"d50ed152f5",182122:"2d502e7508",182123:"f60efa105b",182124:"3354c65322",182125:"6725f502f9",182126:"4d91d584d4",182127:"c39552a1bd",182128:"7d3a507e9a",182129:"60faabb818",182130:"b3ae3266d2",182131:"12279b6ba8",182132:"d688660df9",182133:"199be3c304",182134:"f201732ac2",182135:"97c5000402",182136:"e2528c4da0",182137:"06203a65b3",182138:"e5ca42f5a4",182139:"48f698b4c0",182140:"06a2994aca",182141:"4bfe03b99a",182142:"1dcca0348d",182143:"504c8d7457",182144:"c7eb04b88b",182145:"b588ef6a0d",182146:"f99e1de044",182147:"94b7a09ca6",182148:"1b5d52c53e",182149:"c9ddf1a09e",182150:"661c143357",182151:"ca19dfc7a7",182152:"d725e48bd9",182153:"35a6d7aa90",182154:"1405b2ad40",182155:"38a612bce3",182156:"555b54ec80",182157:"3154014b92",182158:"ed214efadf",182159:"23a1045d19",182160:"d4a297055a",182161:"c0271e5e16",182162:"9feb81f1e8",182163:"c335c8547e",182164:"b6a71c91c2",182165:"5dc587f86e",182166:"0d3c3fc04c",182167:"d2e53e0709",182168:"8310701b78",182169:"6643217492",182170:"b179be2884",182171:"0f49b07438",182172:"908caec10c",182173:"2f45c85da5",182174:"f05912daf2",182175:"83815bb894",182176:"74e61112b5",182177:"ca0bac51ba",182178:"a5dcb475b1",182179:"d7040e7e79",182180:"453536b2e3",182181:"659334428e",182182:"5bbb0b3f6b",182183:"5d5d8798b2",182184:"f535119247",182185:"23171ad8e9",182186:"5f5ee02e2a",182187:"468bfa3156",182188:"e5cc37ff77",182189:"236a012c7d",182190:"f8aa88e9f9",182191:"8c2fe04008",182192:"7875527f5b",182193:"7a2bdb4241",182194:"2b994b438a",182195:"c042d4f954",182196:"5a4c8665d8",182197:"f0d7eb6a7a",182198:"0736a7bb68",182199:"e2b22d3e19",182200:"4e021fa27e",182201:"82b93fd9c0",182202:"de12a82a5b",182203:"ff1a1426f3",182204:"48abe80c94",182205:"c9aa4de387",182206:"de3bdb827f",182207:"70341be83e",182208:"68025cd750",182209:"1a4517e536",182210:"8ba73ac921",182211:"ff2de3a10e",182212:"19a9802bf7",182213:"d4408b0f77",182214:"35879b3d39",182215:"02a906cf52",182216:"4184326852",182217:"28ab1b7d4a",182218:"1c9d0f573f",182219:"8cf5b41a10",182220:"aaf79528f7",182221:"f8244aaf02",182222:"d82cfe4d6c",182223:"5b99e9de42",182224:"16558384c5",182225:"5a984454a0",182226:"75baec91a3",182227:"5f1d1d4823",182228:"4f722b5196",182229:"82639bf66d",182230:"55b3c11784",182231:"a60dab10f3",182232:"a0f8b7cd04",182233:"228c087893",182234:"38ef902582",182235:"cecc92223e",182236:"f9841642c1",182237:"169651dfae",182238:"d287f577ef",182239:"c77fd5d060",182240:"32d5b5b9c4",182241:"ac5d3ff6ad",182242:"2f83be917b",182243:"12abf12300",182244:"84e89b6c50",182245:"4cec83e0f0",182246:"c3d21f4101",182247:"6c63d0c994",182248:"e72c7b6ba2",182249:"1eba6022e7",182250:"138235ece1",182251:"99dfbb8e58",182252:"35962665a4",182253:"f43842dac4",182254:"bd75b35d9c",182255:"70f40049fb",182256:"2a74afae25",182257:"861c5dd790",182258:"718d52061c",182259:"db3cf8d3c9",182260:"32653fb226",182261:"c6050d0128",182262:"900799024c",182263:"35153450da",182264:"c13d2a7864",182265:"bceb00e65c",182266:"44fd8689c4",182267:"da2ee12a33",182268:"8e4d5baecd",182269:"a5cac63b37",182270:"eea88ec955",182271:"a3172e3b8e",182272:"296617353c",182273:"b154a5c03e",182274:"20da5e86d5",182275:"6dc3958ad2",182276:"6e94b083d7",182277:"d185c93faf",182278:"b43d65b5a9",182279:"0d48fab602",182280:"436f8114b1",182281:"51e1d7725d",182282:"296803046f",182283:"c7b2b6242d",182284:"ce6c41b0f5",182285:"88dc59b3fc",182286:"8084e1b6e1",182287:"bc72f174a1",182288:"11594824b9",182289:"ca1a79398d",182290:"8a697d5f86",182291:"9e1d1c6761",182292:"aa3c138dd4",182293:"90362a2d8e",182294:"d5c7099c14",182295:"da65b774d4",182296:"738106b941",182297:"73761bf385",182298:"c24aea6307",182299:"2654a87623",182300:"024cf6674d",182301:"f7a7171460",182302:"48a6c7efff",182303:"fc0fbe05b7",182304:"461a9f8022",182305:"e66b4ddd5f",182306:"4ad3dbd256",182307:"7c2e5ca8c9",182308:"e851a6d5fe",182309:"379e66a78b",182310:"e9192b911e",182311:"6562f9bd87",182312:"8157172e56",182313:"798cd49176",182314:"460c0c44eb",182315:"6b963d94b1",182316:"5f7805ba7f",182317:"580daa3698",182318:"4c70bb8825",182319:"5aeec3c64c",182320:"9d7c5458d7",182321:"aeba784662",182322:"4657869f10",182323:"97136035e6",182324:"1e9b43bff4",182325:"2599bfbfa9",182326:"12ba2e4635",182327:"99c8627758",182328:"2d80e2298d",182329:"db737e1609",182330:"8f06539c00",182331:"1108af4148",182332:"23072aea9a",182333:"4099c82ffc",182334:"e9c53783ff",182335:"610f1bec4a",182336:"210f4ca543",182337:"254e197847",182338:"cedfadb576",182339:"d262d47e71",182340:"11a0b69685",182341:"141efccab5",182342:"e6dd52d186",182343:"a1986840f0",182344:"bb3962fcbb",182345:"2156e77d56",182346:"b642bdf9ef",182347:"5b0f25df4a",182348:"c876a050b4",182349:"12f9f7de2c",182350:"10584262fd",182351:"3a312cc27f",182352:"1aa5970cd3",182353:"4f305132e9",182354:"dd5c23d2aa",182355:"56f923a881",182356:"c6545d8429",182357:"f47bae36d7",182358:"a23ee3c75a",182359:"d8cb721d4c",182360:"895fccf018",182361:"f7609a9e9f",182362:"9c63f5c4a5",182363:"977c2f5801",182364:"58de2c76f6",182365:"803a0b1315",182366:"c1eea4c916",182367:"4db3a6fbb7",182368:"fc7f130541",182369:"d9e1ca79fb",182370:"9c70580b20",182371:"cedf6b026e",182372:"df1564e4ef",182373:"d10c9d6cc5",182374:"1f476ba73d",182375:"48d05170bd",182376:"32529adb13",182377:"7f1bf31c7e",182378:"514589f2d3",182379:"b46f4ea835",182380:"b471cdfcd7",182381:"37be6a776c",182382:"bfd615f49c",182383:"1025d93d1f",182384:"8ec4a21157",182385:"9dad2b49a2",182386:"75b36eaa5a",182387:"29c8c6ec14",182388:"89ccbad67e",182389:"e2e4dd8fbb",182390:"f826919fcd",182391:"d8477904a5",182392:"687d69ec42",182393:"552fee8017",182394:"4e6e987f0f",182395:"eef087cf14",182396:"23eed882ff",182397:"42092d4fc7",182398:"891c061aca",182399:"f7c55eae66",182400:"2f45c85da5",182401:"55b3c11784",182402:"e9c53783ff",182403:"b471cdfcd7",182404:"cf5d4623b5",182405:"4636a903dd",182406:"454b796f32",182407:"ed1dcfc85a",182408:"12ce089447",182409:"6792e50f12",182410:"f5681c0d02",182411:"7dea6b6f33",182412:"5ee068741e",182413:"c0c3b83253",182414:"2f67560b6b",182415:"35ac6fe193",182416:"f09a531f9f",182417:"ea1bd1c0fa",182418:"5316b4c333",182419:"eeb2a7ece0",182420:"d9e6dd42ad",182421:"567cf7edaa",182422:"657ffd5e11",182423:"a53687cb88",182424:"10dd71b4bf",182425:"937405ef90",182426:"667d4e0d50",182427:"ebec614176",182428:"d25b873364",182429:"3a6445a161",182430:"94047cf216",182431:"a791ea6a53",182432:"72bf46c9e4",182433:"5a67a43259",182434:"bd288e807b",182435:"47211b40f7",182436:"6f25c19fee",182437:"825f032604",182438:"56b2bb97b0",182439:"fe81dba157",182440:"18baef266a",182441:"1bfb241ce2",182442:"24c0bbcf50",182443:"c3f1724fc2",182444:"52449aacbc",182445:"b3c1871323",182446:"1aefc7a285",182447:"b9701ef362",182448:"6b03b032aa",182449:"7bf6aee3d2",182450:"0b6da906c0",182451:"67203c6c8f",182452:"6b2360a325",182453:"122d7d92d7",182454:"36c49eb893",182455:"185826693e",182456:"169bcb706a",182457:"f9b8c115ac",182458:"5dc6a84dee",182459:"facde0963f",182460:"57e225dc24",182461:"54f2944e14",182462:"dc359e70c1",182463:"806593940c",182464:"348dad8c0a",182465:"b0f4430ae3",182466:"8602ab3f99",182467:"0ff3c375e6",182468:"59d49409f3",182469:"e27767ca42",182470:"3d480b9496",182471:"a598ddca91",182472:"59b1a3fdcc",182473:"84913d2502",182474:"642e01d025",182475:"d7991df4b8",182476:"31f19edcd9",182477:"46706bb1a2",182478:"49c3dc976f",182479:"da5c6c5296",182480:"183125a452",182481:"e4d5773852",182482:"e408dc7588",182483:"b15096bf64",182484:"c899c863f0",182485:"b4347245df",182486:"9bd744f8dc",182487:"6599ea7e94",182488:"271fdade3e",182489:"e57e6363fc",182490:"7ff5af8210",182491:"abddec6a8b",182492:"53fb6d03ac",182493:"b47abb5e08",182494:"76b0254f4f",182495:"a1472f762f",182496:"876d634d09",182497:"09e1766fd5",182498:"f5154e0d11",182499:"c622b479a9",182500:"f064a347a9",182501:"ea5cbc31b0",182502:"ea1c58ebaa",182503:"578bd084bf",182504:"6cd7d57e5f",182505:"abd77c632d",182506:"ac11aa3ea8",182507:"a34a6b27b6",182508:"440ecefa3e",182509:"26294bcbad",182510:"9c028d3d9d",182511:"609034d1b9",182512:"c09e199910",182513:"9ce3406ba7",182514:"0a2f82f1ce",182515:"e1bc04e14e",182516:"57970d7d76",182517:"c9775bbee4",182518:"9e2202d0d8",182519:"69e16524ba",182520:"1e0e45bceb",182521:"aabcec30f0",182522:"4539b02e18",182523:"b51f25eac7",182524:"bbab776cf6",182525:"43f80b8b8f",182526:"0658fa4781",182527:"b450922a02",182528:"ee9a45aac3",182529:"ce87915c55",182530:"f04f13a8c8",182531:"d524269f4e",182532:"d3e158120e",182533:"d77bb6f916",182534:"a0efe581b2",182535:"b29e6bc8c6",182536:"126e119d21",182537:"d0371b3c86",182538:"47abfefdcb",182539:"a714d1cb26",182540:"b7752e2997",182541:"448801c79f",182542:"0d49a5c923",182543:"f5c67d2e99",182544:"8305c277c9",182545:"0f4784fd4d",182546:"2275436924",182547:"3e63e373e1",182548:"38b47c96a8",182549:"7f84f0f353",182550:"720953ccb9",182551:"cca1be5311",182552:"f31b38c7de",182553:"2cdc3fbe39",182554:"ca32ab762b",182555:"df50e0f6c1",182556:"6e4b0e20a8",182557:"2e8410bac1",182558:"ade1252f32",182559:"d8d610dcc8",182560:"57f7cc6cc9",182561:"c68c9300fe",182562:"6a1723a56d",182563:"6e6f8c1db7",182564:"c73e9114ad",182565:"b21ab8e36c",182566:"96c028e5df",182567:"e7b26a4073",182568:"5981c0cd22",182569:"23164b7990",182570:"7a8052be2f",182571:"ee5de4913d",182572:"437b929b7f",182574:"4b4587ade3",182575:"a99b03c3b2",182576:"789e31c682",182577:"8548f2af9e",182578:"7ff4b83b2f",182579:"4f0d550fa3",182580:"34127ee2c1",182581:"2f42bc19bf",182582:"c9cec35203",182583:"39970d06b8",182584:"7edc5c4a2d",182585:"f4f2a1292f",182586:"45452a9d47",182587:"cbd17bda84",182588:"7725190c71",182589:"318dabd2b8",182590:"7c949b660b",182591:"4ee6d0d979",182592:"337522bb6d",182593:"e18ab11d55",182594:"ac63ed1d01",182595:"bd11349b9b",182596:"a41fa8a94a",182597:"cc91c65605",182598:"7aa806fef0",182599:"028a33b602",182600:"d50ed152f5",182601:"2d502e7508",182602:"f60efa105b",182603:"3354c65322",182604:"6725f502f9",182605:"4d91d584d4",182606:"c39552a1bd",182607:"7d3a507e9a",182608:"60faabb818",182609:"b3ae3266d2",182610:"12279b6ba8",182611:"d688660df9",182612:"199be3c304",182613:"f201732ac2",182614:"97c5000402",182615:"e2528c4da0",182616:"06203a65b3",182617:"e5ca42f5a4",182618:"48f698b4c0",182619:"06a2994aca",182620:"4bfe03b99a",182621:"1dcca0348d",182622:"504c8d7457",182623:"c7eb04b88b",182624:"b588ef6a0d",182625:"f99e1de044",182626:"94b7a09ca6",182627:"1b5d52c53e",182628:"c9ddf1a09e",182629:"661c143357",182630:"ca19dfc7a7",182631:"d725e48bd9",182632:"35a6d7aa90",182633:"1405b2ad40",182634:"38a612bce3",182635:"555b54ec80",182636:"3154014b92",182637:"ed214efadf",182638:"23a1045d19",182639:"d4a297055a",182640:"c0271e5e16",182641:"9feb81f1e8",182642:"c335c8547e",182643:"b6a71c91c2",182644:"5dc587f86e",182645:"0d3c3fc04c",182646:"d2e53e0709",182647:"8310701b78",182648:"6643217492",182649:"b179be2884",182651:"0f49b07438",182652:"908caec10c",182653:"aaf79528f7",182654:"f8244aaf02",182655:"d82cfe4d6c",182656:"5b99e9de42",182657:"16558384c5",182658:"5a984454a0",182659:"75baec91a3",182660:"5f1d1d4823",182661:"4f722b5196",182662:"82639bf66d",182663:"580daa3698",182664:"4c70bb8825",182665:"5aeec3c64c",182666:"9d7c5458d7",182667:"aeba784662",182668:"4657869f10",182669:"97136035e6",182670:"1e9b43bff4",182671:"2599bfbfa9",182672:"12ba2e4635",182673:"99c8627758",182674:"2d80e2298d",182675:"db737e1609",182676:"8f06539c00",182677:"1108af4148",182678:"23072aea9a",182679:"4099c82ffc",182680:"cedf6b026e",182681:"df1564e4ef",182682:"d10c9d6cc5",182683:"1f476ba73d",182684:"48d05170bd",182685:"32529adb13",182686:"7f1bf31c7e",182687:"514589f2d3",182688:"b46f4ea835",182774:"5fa43146af",182775:"da8d24dcb5",182879:"e410c72c35",183121:"33fbb57471",183124:"ca02002024",183126:"a6b3e6015c",183127:"aee4c18e29",183129:"90a63feec2",183130:"cd5b15d812",183132:"e829fd50ad",183133:"e56fee41fa",183135:"d36341c757",183138:"942b590300",183139:"f46ba686d2",183140:"d0f788bc01",183186:"c692392a71",183187:"7569db4629",183189:"7bc2a43661",183219:"6efad2860b",183222:"f346eebcf0",183395:"5946bf4443",183396:"5767bda589",183461:"716cac66b9",183464:"d86a423e61",183705:"31ba1a1224",183707:"80abbe281e",183791:"36be0fcc16",183894:"3d9e984bf1",183901:"ed12530666",184058:"69e99427fa",184060:"69e16cff5b",184133:"4d7860a139",184501:"5efd318ab6",184537:"eae9ac9350",184570:"61530f4fa3",184615:"4c21b9e0ab",184699:"83e609b495",185224:"20389afcf6",185226:"35cb690cc1",185653:"9bb2cf0409",185846:"bf5686cbb2",186151:"a094a23eed",186152:"a094a23eed",186153:"958611649d",186174:"bd269819ac",186175:"ba9563d7e2",186574:"0b4972a2ea"},this.externalQueries=new Set([]),this.customProperties=e.customProperties,this.externalData=e.externalData,this.logger=e.logger,this.messages=e.messages,this.api=e.api,this.permutive=e.permutive,this.permutiveData=e.permutiveData,this.queryWorker=e.queryWorker,this.realtime=e.realtime,this.sessionManager=e.sessionManager,this.transitionDebounceMaxTime=e.transitionDebounceMaxTime,this.transitionDebounceTime=e.transitionDebounceTime,this.userId=e.userId,this.viewId=e.viewId,this.metrics=e.metrics}processMessage(e){return s.Y3((()=>(0,Be.t_)(this.queryWorker.postMessage(Object.assign({engine:"QLE"},e)))),i.w)}}class Ne extends((()=>(0,a.zG)(We,Re))()){constructor(e){super(e),this.makeStateMaps()}}},8318:(e,t,r)=>{r.d(t,{F:()=>s});var n=r(4767),i=r(1628),a=r(3992);const s=(0,n.Y3)((()=>{const e=(0,i.e)();return(0,a.t_)(e.postMessage(Object.assign({engine:"QLE",type:"noop",userId:""},{}))),Promise.resolve(e)}),(e=>`Failed to start QueryWorker. Got ${e}`))},3622:(e,t,r)=>{r.d(t,{$:()=>i});var n=r(2652);class i{constructor(e){this.permutiveData=e,this.eventSourceId=e.getData("event-source-id")||this.generateAndStoreEventSourceId()}get(){return this.eventSourceId}generateAndSet(){this.eventSourceId=this.generateAndStoreEventSourceId()}generateAndStoreEventSourceId(){const e=(0,n.k$)();return this.permutiveData.setData("event-source-id",e),e}}},1229:(e,t,r)=>{r.d(t,{N:()=>p,e:()=>l});var n=r(7582),i=r(2688),a=r(7183),s=r(365),o=r(3735),c=r(4730),u=r(8036),d=r(3992);function l(){{const e=r(4386).Z;return(0,a.h)(new e)}}const f={concat:(e,t)=>Object.assign(Object.assign({},e),t),empty:{}};class p{constructor(e,t,r,n,i,a,s,o,l){this.api=e,this.network=t,this.sessionManager=r,this.permutiveData=n,this.queryManager=i,this.metrics=a,this.userId=s,this.eventSourceId=o,this.stateWorker=l,this.DEBOUNCE_TIME=1e3,this.MAX_DEBOUNCE_TIME=5e3,this.fetchUnseenState=!0,this.scheduler=new c.b(this.DEBOUNCE_TIME,this.MAX_DEBOUNCE_TIME),this.debouncedSyncIfNotEmpty=this.scheduler.scheduleAccumulated((e=>this.syncIfNotEmpty.bind(this)("standard",e)),f),this.fetchUnseenState=!!g.includes("507b28fb-2ef1-4c34-8bda-ba32030bb199")||this.sessionManager.sessionHasChanged(),this.stateOffset=this.permutiveData.getData("state_offset")||0,this.lastSentStateMapWithChecksum=(0,u.Yh)(this.permutiveData.getData("internal_query_states")||{}),(0,d.t_)(this.stateWorker.postMessage({engine:"SSE",type:"noop"}))}sync(e){return(0,o.zG)(this.debouncedSyncIfNotEmpty(e),(e=>Promise.resolve()))}syncWithUnseen(){return this.syncIfNotEmpty("unseen",{}).then(o.Q1)}syncIfNotEmpty(e,t){const[r,n,a]="standard"===e?[this.stateOffset,t,this.fetchUnseenState]:"unseen"===e?[this.stateOffset,this.queryManager.stateMap.value,!0]:[0,{},!0],s=this.metrics.startTimer("sdk_compute_delta_seconds",{}),c={type:"delta",stateMap:n,lastSentStateMapWithChecksum:this.lastSentStateMapWithChecksum},u=(0,o.zG)(this.stateWorker.postMessage(Object.assign({engine:"SSE"},c)),d.t_,(e=>e.then((e=>(this.metrics.stopTimer("sdk_compute_delta_seconds",s),e))))),l=e=>{this.fetchUnseenState=!1;const t=(0,o.ls)((e=>this.api.reportError(`Error sending state delta. Got ${(0,i.w)(e)}`,this.userId.get())),(e=>({})));return this.api.state(this.metrics,this.userId.get(),this.eventSourceId.get(),e,r,a).then((e=>function(e){return!!e}(e)?this.onStateResponse(e):{})).then((t=>(this.lastSentStateMapWithChecksum=e,t))).catch(t)};return u.then((e=>a||Object.keys(e).length>0?l(e):Promise.resolve({})))}resetSync(){return(0,n.mG)(this,void 0,void 0,(function*(){this.reset(),yield this.syncIfNotEmpty("reset",{})}))}reset(){this.lastSentStateMapWithChecksum={}}onStateResponse(e){const t=(0,s.Y3)((()=>JSON.parse(e.state)),(e=>this.api.reportError(`Failed to parse State API response, got ${e}`,this.userId.get()))),r=e=>e?this.queryManager.updateExternalState(e)():(0,o.Q1)();return(0,s.tO)(t)?(0,o.zG)(e.state_offset,(e=>this.stateOffset=e),(e=>this.permutiveData.setData("state_offset",e)),(e=>r(t.right)),(e=>t.right)):{}}}const g=["fe68d1f7-c9f4-45b3-8905-7cda73d3fd74"]},926:(e,t,r)=>{r.d(t,{Kd:()=>i,eJ:()=>a});r(9853);var n=r(2116);r(2851),r(2652);const i="addon:twitter_pixel",a=function(e){return n.K4((()=>{}))}},1828:(e,t,r)=>{r.d(t,{Yt:()=>d,ap:()=>a,gz:()=>u});var n=r(3735),i=r(9384);function a(e,t){return function(r){return function(n){return e.ap(e.map(n,(function(e){return function(r){return t.ap(e,r)}})),r)}}}function s(e,t,r){return function(n){for(var i=Array(r.length+1),a=0;a<r.length;a++)i[a]=r[a];return i[r.length]=n,0===t?e.apply(null,i):s(e,t-1,i)}}var o={1:function(e){return[e]},2:function(e){return function(t){return[e,t]}},3:function(e){return function(t){return function(r){return[e,t,r]}}},4:function(e){return function(t){return function(r){return function(n){return[e,t,r,n]}}}},5:function(e){return function(t){return function(r){return function(n){return function(i){return[e,t,r,n,i]}}}}}};function c(e){return i.e$.call(o,e)||(o[e]=s(n.bc,e-1,[])),o[e]}function u(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=t.length,i=c(n),a=e.map(t[0],i),s=1;s<n;s++)a=e.ap(a,t[s]);return a}}function d(e){return function(t){for(var r=Object.keys(t),n=r.length,i=function(e){var t=e.length;switch(t){case 1:return function(t){var r;return(r={})[e[0]]=t,r};case 2:return function(t){return function(r){var n;return(n={})[e[0]]=t,n[e[1]]=r,n}};case 3:return function(t){return function(r){return function(n){var i;return(i={})[e[0]]=t,i[e[1]]=r,i[e[2]]=n,i}}};case 4:return function(t){return function(r){return function(n){return function(i){var a;return(a={})[e[0]]=t,a[e[1]]=r,a[e[2]]=n,a[e[3]]=i,a}}}};case 5:return function(t){return function(r){return function(n){return function(i){return function(a){var s;return(s={})[e[0]]=t,s[e[1]]=r,s[e[2]]=n,s[e[3]]=i,s[e[4]]=a,s}}}}};default:return s((function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];for(var i={},a=0;a<t;a++)i[e[a]]=r[a];return i}),t-1,[])}}(r),a=e.map(t[r[0]],i),o=1;o<n;o++)a=e.ap(a,t[r[o]]);return a}}},1500:(e,t,r)=>{r.d(t,{Ce:()=>d,DY:()=>E,DZ:()=>A,Ew:()=>b,GY:()=>k,KB:()=>f,Qp:()=>v,f2:()=>y,fw:()=>L,jV:()=>O,jj:()=>D,ke:()=>g,md:()=>h,oA:()=>U,pR:()=>B,t9:()=>I,tS:()=>C,u4:()=>z,uK:()=>q,xH:()=>x,yL:()=>S,zT:()=>m});var n=r(3735),i=(r(7341),r(9384)),a=r(1885),s=r(3328),o=r(4870),c=(r(5605),function(e){return 0===e.length}),u=a.Od,d=a.Ce,l=(a.ws,a.R3),f=(a.Im,function(e,t){return e<=0?[]:a.KB(t)(e)});var p=a.dC,g=(s.P5,s.YM,s.Z$,function(e){return function(t){return p(e,t)?w(t):t.slice(0,e)}});var _=function(e,t){for(var r=e.length,n=0;n<r&&t(e[n]);n++);return n};function m(e){return function(t){var r=P(_(t,e))(t);return{init:r[0],rest:r[1]}}}var h=function(e){return function(t){return e<=0||c(t)?w(t):e>=t.length?[]:t.slice(e,t.length)}};function v(e){return function(t){return t.slice(_(t,e))}}s.cx;function b(e){return s.Ew(e)}var y=s.f2;s.JO,s.qr;var w=function(e){return e.slice()},k=function(e){return c(e)?[]:e.slice().reverse()},E=function(e){return function(t){return t.length<=1?w(t):t.slice().sort(e.compare)}},S=function(e,t,r){for(var n=[],i=Math.min(e.length,t.length),a=0;a<i;a++)n[a]=r(e[a],t[a]);return n};var I=s.t9,D=function(e){var t=a.jj(e);return function(e){return u(e)?t(e):w(e)}},P=function(e){return function(t){return e>=1&&u(t)?a.lx(e)(t):c(t)?[w(t),[]]:[[],w(t)]}};function O(e){var t=I(e);return function(r,n){if(void 0===n){var i=O(e);return function(e){return i(e,r)}}return r.filter((function(e){return t(e,n)}))}}s.kp,s.Eq;var M=a.of,C=function(e){return function(t){return(0,n.zG)(t,function(e){return function(t){for(var r=[],n=0;n<t.length;n++)r.push.apply(r,e(n,t[n]));return r}}((function(t,r){return e(r)})))}},x=C(n.yR),T=function(e){return function(t){for(var r=[],n=0;n<t.length;n++){var a=e(n,t[n]);i.pC(a)&&r.push(a.value)}return r}},A=function(e){return T((function(t,r){return e(r)}))},U=A(n.yR),q=function(e){return G((function(t,r){return e(r)}))},G=function(e){return function(t){for(var r=[],n=[],i=0;i<t.length;i++){var a=t[i];e(i,a)?n.push(a):r.push(a)}return(0,o.s4)(r,n)}},z=(s.Lx,s.xP,s.u4),j=s.OE,L=(s.nq,s.iw,function(e){var t=R(e);return function(e){return t((function(t,r){return e(r)}))}}),R=function(e){return function(t){return j(e.of([]),(function(r,i,a){return e.ap(e.map(i,(function(e){return function(t){return(0,n.zG)(e,l(t))}})),t(r,a))}))}},B=(s.ZN,s.Eh,s.pR);s.pJ,s.oR,a.oo,s.yW,s.j0,i.F4,a.w6,a.QI,a.Ss},6862:(e,t,r)=>{function n(e){return function(t){return function(r){return e.chain(r,(function(r){return e.map(t(r),(function(){return r}))}))}}}function i(e){return function(t,r){return function(n){return e.chain(n,(function(n){return e.map(r(n),(function(e){var r;return Object.assign({},n,((r={})[t]=e,r))}))}))}}}r.d(t,{a:()=>i,m:()=>n})},365:(e,t,r)=>{r.d(t,{g1:()=>v,G5:()=>h,dO:()=>g,Pd:()=>k,ak:()=>z,tS:()=>y,g_:()=>C,ij:()=>U,DT:()=>I,fS:()=>T,pF:()=>x,nM:()=>D,tO:()=>P,t$:()=>o,UI:()=>p,Vn:()=>E,EQ:()=>M,F2:()=>c,LF:()=>A,i$:()=>G,Y3:()=>q});var n=r(6862),i=r(2690),a=r(3735),s=(r(7341),r(9384)),o=s.t$,c=s.F2,u=function(e,t){return(0,a.zG)(e,p(t))},d=function(e,t){return(0,a.zG)(e,m(t))},l=function(e,t){return(0,a.zG)(e,y(t))},f="Either",p=function(e){return function(t){return D(t)?t:c(e(t.right))}},g={URI:f,map:u},_=c,m=function(e){return function(t){return D(t)?t:D(e)?e:c(t.right(e.right))}},h={URI:f,map:u,ap:d},v={URI:f,map:u,ap:d,of:_},b=function(e){return function(t){return D(t)?t:e(t.right)}},y=b,w={URI:f,map:u,ap:d,chain:l},k=function(e,t){return function(r){return D(r)?o(e(r.left)):c(t(r.right))}},E=function(e){return function(t){return D(t)?o(e(t.left)):t}},S={URI:f,fromEither:a.yR},I=(0,i.DT)(S),D=s.nM,P=s.tO,O=function(e,t){return function(r){return D(r)?e(r.left):t(r.right)}},M=O,C=M,x=function(e){return function(t){return D(t)?e(t.left):t.right}},T=x,A=function(e){return D(e)?c(e.left):o(e.right)},U=function(e){return function(t){return null==t?o(e):c(t)}},q=function(e,t){try{return c(e())}catch(e){return o(t(e))}},G=O(a.yR,a.yR);s.F4;var z=(0,n.a)(w);s.Xl},856:(e,t,r)=>{r.d(t,{EQ:()=>y,F2:()=>o,KQ:()=>f,LF:()=>D,LU:()=>I,LV:()=>w,NG:()=>p,Pd:()=>v,UI:()=>g,Vn:()=>b,ap:()=>_,dQ:()=>S,fS:()=>k,i$:()=>P,ij:()=>l,m8:()=>u,pk:()=>d,t$:()=>c,tS:()=>m,vx:()=>E,wp:()=>h});var n=r(1828),i=r(365),a=r(3735),s=r(7341);function o(e){return(0,a.ls)(i.F2,e.of)}function c(e){return(0,a.ls)(i.t$,e.of)}function u(e){return function(t){return e.map(t,i.F2)}}function d(e){return function(t){return e.map(t,i.t$)}}function l(e){return function(t){return(0,a.ls)(i.ij(t),e.of)}}function f(e){var t=l(e);return function(e){var r=t(e);return function(e){return(0,a.ls)(e,r)}}}function p(e){var t=m(e),r=f(e);return function(e){var n=r(e);return function(e){return t(n(e))}}}function g(e){return(0,s.UI)(e,i.dO)}function _(e){return(0,n.ap)(e,i.G5)}function m(e){return function(t){return function(r){return e.chain(r,(function(r){return i.nM(r)?e.of(r):t(r.right)}))}}}function h(e){return function(t){return function(r){return e.chain(r,(function(r){return i.nM(r)?t():e.of(r)}))}}}function v(e){return function(t,r){return function(n){return e.map(n,i.Pd(t,r))}}}function b(e){return function(t){return function(r){return e.map(r,i.Vn(t))}}}function y(e){return function(t,r){return function(n){return e.map(n,i.EQ(t,r))}}}function w(e){return function(t,r){return function(n){return e.chain(n,i.EQ(t,r))}}}function k(e){return function(t){return function(r){return e.chain(r,i.EQ(t,e.of))}}}function E(e){return function(t){return function(r){return e.chain(r,(function(r){return i.nM(r)?t(r.left):e.of(r)}))}}}function S(e){var t=E(e);return function(r){return t((function(t){return e.map(r(t),(function(e){return i.nM(e)?e:i.t$(t)}))}))}}function I(e){return function(t){return function(r){return e.chain(r,i.EQ((function(r){return e.map(t(r),i.t$)}),(function(t){return e.of(i.F2(t))})))}}}function D(e){return function(t){return e.map(t,i.LF)}}function P(e){return function(t){return e.map(t,i.i$)}}},4268:(e,t,r)=>{r.d(t,{Uz:()=>a,f7:()=>n,n_:()=>i,w4:()=>s});r(3735);var n=function(e){return{equals:function(t,r){return t===r||e(t,r)}}},i=function(e){return n((function(t,r){for(var n in e)if(!e[n].equals(t[n],r[n]))return!1;return!0}))},a=function(e){return function(t){return n((function(r,n){return t.equals(e(r),e(n))}))}},s={equals:function(e,t){return e===t}};s.equals},2690:(e,t,r)=>{r.d(t,{DT:()=>a,fX:()=>o});var n=r(3735),i=r(9384);function a(e){return function(t,r){return function(n){return e.fromEither(t(n)?i.F2(n):i.t$(r(n)))}}}function s(e){return function(t){return(0,n.ls)(t,e.fromEither)}}function o(e,t){var r=s(e);return function(e){return function(n){return t.chain(n,r(e))}}}},1130:(e,t,r)=>{r.d(t,{At:()=>s,oU:()=>a});var n=r(6862),i=r(3735);function a(e,t){return function(r){var n=(0,i.ls)(r,e.fromIO);return function(e){return t.chain(e,n)}}}function s(e,t){var r=(0,n.m)(t);return function(t){return r((0,i.ls)(t,e.fromIO))}}},9679:(e,t,r)=>{r.d(t,{oU:()=>i});var n=r(3735);function i(e,t){return function(r){var i=(0,n.ls)(r,e.fromTask);return function(e){return t.chain(e,i)}}}},7341:(e,t,r)=>{function n(e,t){return function(r){return function(n){return e.map(n,(function(e){return t.map(e,r)}))}}}function i(e){return function(t){return function(r){return e.map(r,(function(e){var r;return(r={})[t]=e,r}))}}}function a(e){return function(t,r){return function(n){return e.map(n,(function(e){var n;return Object.assign({},e,((n={})[t]=r(e),n))}))}}}r.d(t,{Hr:()=>a,UI:()=>n,YO:()=>i})},6392:(e,t,r)=>{r.d(t,{UI:()=>s});var n=r(3735),i=(r(7341),r(9384)),a=function(e,t){return function(){return t(e())}},s=function(e){return function(t){return a(t,e)}},o=n.a9;n.yR,n.yR,i.F4,i.Xl},1885:(e,t,r)=>{r.d(t,{Ce:()=>d,Eh:()=>E,Im:()=>l,KB:()=>h,Od:()=>o,QI:()=>D,R3:()=>f,Ss:()=>P,dC:()=>c,jj:()=>g,lx:()=>k,nI:()=>m,of:()=>y,oo:()=>p,w6:()=>v,ws:()=>u,yL:()=>w});var n=r(3735),i=(r(7341),r(9384)),a=r(7241),s=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},o=function(e){return e.length>0},c=function(e,t){return e<0||e>=t.length},u=function(e){return function(t){return s([e],t,!0)}},d=u,l=function(e){return function(t){return s(s([],t,!0),[e],!1)}},f=l,p=function(e,t,r){if(o(r)){var n=_(r);return n.splice(e,0,t),n}return[t]},g=function(e){return function(t){if(1===t.length)return b(t);for(var r=[S(t)],n=function(t){r.every((function(r){return!e.equals(r,t)}))&&r.push(t)},i=0,a=I(t);i<a.length;i++){n(a[i])}return r}},_=i.r1,m=function(e){return o(e)?i.G(e):i.YP},h=function(e){return function(t){for(var r=Math.max(0,Math.floor(t)),n=[e(0)],i=1;i<r;i++)n.push(e(i));return n}},v=function(e,t){return e<=t?h((function(t){return e+t}))(t-e+1):[e]};var b=_,y=function(e){return[e]},w=function(e,t,r){for(var n=[r(e[0],t[0])],i=Math.min(e.length,t.length),a=1;a<i;a++)n[a]=r(e[a],t[a]);return n};a.xP,a.Lx;var k=function(e){return function(t){var r=Math.max(1,e);return r>=t.length?[b(t),[]]:[(0,n.zG)(t.slice(1,r),d(S(t))),t.slice(r)]}},E=(a.u4,a.OE,a.nq,a.iw,a.YM,a.ZN,a.Eh),S=(i.F4,a.YM),I=function(e){return e.slice(1)};a.Z$,a.VV,a.Fp,a.j0;function D(e,t){return void 0===t?d(e):(0,n.zG)(t,d(e))}var P=function(e,t){return(0,n.zG)(e,f(t))};a.ur},6567:(e,t,r)=>{r.d(t,{DT:()=>d,DZ:()=>G,EK:()=>f,EQ:()=>N,Eh:()=>w,G:()=>u,G5:()=>P,IS:()=>l,KQ:()=>X,RD:()=>te,Ri:()=>U,UI:()=>E,Uo:()=>R,Wi:()=>K,Y3:()=>J,YP:()=>c,dO:()=>S,fS:()=>Q,g_:()=>$,hX:()=>q,ij:()=>V,mU:()=>H,pC:()=>B,pF:()=>F,pR:()=>k,tS:()=>O,wp:()=>C,xH:()=>Y,xu:()=>L});var n=r(6862),i=r(3735),a=(r(7341),r(9384)),s=r(6017),o=r(4870),c=(r(5605),a.YP),u=a.G;function d(e){return function(t){return e(t)?u(t):c}}var l=function(e){return"Right"===e._tag?c:u(e.left)},f=function(e){return"Left"===e._tag?c:u(e.right)},p=function(e,t){return(0,i.zG)(e,E(t))},g=function(e,t){return(0,i.zG)(e,D(t))},_=function(e,t){return(0,i.zG)(e,O(t))},m=function(e,t){return(0,i.zG)(e,q(t))},h=function(e,t){return(0,i.zG)(e,G(t))},v=function(e,t){return(0,i.zG)(e,z(t))},b=function(e,t){return(0,i.zG)(e,j(t))},y="Option",w=function(e){return{equals:function(t,r){return t===r||(K(t)?K(r):!K(r)&&e.equals(t.value,r.value))}}},k=function(e){return{equals:w(e).equals,compare:function(t,r){return t===r?0:B(t)?B(r)?e.compare(t.value,r.value):1:-1}}},E=function(e){return function(t){return K(t)?c:u(e(t.value))}},S={URI:y,map:p},I=u,D=function(e){return function(t){return K(t)||K(e)?c:u(t.value(e.value))}},P={URI:y,map:p,ap:g},O=function(e){return function(t){return K(t)?c:e(t.value)}},M={URI:y,map:p,ap:g,chain:_},C=function(e){return function(t){return K(t)?e():t}},x=O(i.yR),T=(0,o.s4)(c,c),A=function(e){return K(e)?T:(0,o.s4)(l(e.value),f(e.value))},U={URI:y,compact:x,separate:A},q=function(e){return function(t){return K(t)?c:e(t.value)?t:c}},G=function(e){return function(t){return K(t)?c:e(t.value)}},z=function(e){return function(t){return(0,o.s4)(m(t,(0,s.ff)(e)),m(t,e))}},j=function(e){return(0,i.ls)(E(e),A)},L={URI:y,map:p,compact:x,separate:A,filter:m,filterMap:h,partition:v,partitionMap:b},R=f,B=a.pC,K=function(e){return"None"===e._tag},W=function(e,t){return function(r){return K(r)?e():t(r.value)}},N=W,$=N,F=function(e){return function(t){return K(t)?e():t.value}},Q=F,Y=x,H=(0,n.m)(M),V=function(e){return null==e?c:u(e)},J=function(e){try{return u(e())}catch(e){return c}},X=function(e){return(0,i.ls)(e,V)};a.F4;var Z=I(a.Xl),ee=function(e){var t=function(e){return function(t){var r=e(0,a.YM(t));if(K(r))return c;for(var n=[r.value],i=1;i<t.length;i++){var s=e(i,t[i]);if(K(s))return c;n.push(s.value)}return u(n)}}(e);return function(e){return a.Od(e)?t(e):Z}},te=function(e){return ee((function(t,r){return e(r)}))}(i.yR)},7209:(e,t,r)=>{r.d(t,{Fp:()=>f,Uz:()=>o,VV:()=>l,Zt:()=>s,gf:()=>d,gt:()=>u,lt:()=>c,uZ:()=>p});var n=r(4268),i=r(3735),a=function(e){return function(t,r){return t===r||0===e(t,r)}},s=function(e){return{equals:a(e),compare:function(t,r){return t===r?0:e(t,r)}}},o=function(e){return function(t){return s((function(r,n){return t.compare(e(r),e(n))}))}},c=(i.W8,function(e){return function(t,r){return-1===e.compare(t,r)}}),u=function(e){return function(t,r){return 1===e.compare(t,r)}},d=function(e){return function(t,r){return-1!==e.compare(t,r)}},l=function(e){return function(t,r){return t===r||e.compare(t,r)<1?t:r}},f=function(e){return function(t,r){return t===r||e.compare(t,r)>-1?t:r}},p=function(e){var t=l(e),r=f(e);return function(e,n){return function(i){return r(t(i,n),e)}}};n.w4.equals},6017:(e,t,r)=>{r.d(t,{ff:()=>n,xD:()=>i});r(3735);var n=function(e){return function(t){return!e(t)}},i=function(e){return function(t){return function(r){return t(r)&&e(r)}}}},3328:(e,t,r)=>{r.d(t,{DZ:()=>N,Eh:()=>ne,Eq:()=>q,Ew:()=>E,Hr:()=>fe,JO:()=>I,Lx:()=>V,OE:()=>J,Od:()=>p,P5:()=>h,Su:()=>B,UI:()=>R,YM:()=>v,Z$:()=>b,ZN:()=>re,bM:()=>z,bj:()=>O,cS:()=>ue,cx:()=>k,f2:()=>S,hX:()=>K,hp:()=>P,iw:()=>Z,j0:()=>le,kp:()=>U,lx:()=>x,nI:()=>ce,nq:()=>X,oA:()=>$,oR:()=>oe,of:()=>G,pJ:()=>se,pO:()=>C,pR:()=>ie,qr:()=>D,t9:()=>M,tS:()=>j,u4:()=>H,uK:()=>F,vP:()=>ee,xH:()=>L,xP:()=>Y,xb:()=>f,yW:()=>de,zT:()=>w});var n=r(4268),i=r(3735),a=r(7341),s=r(9384),o=r(4011),c=r(7209),u=r(7241),d=r(4870),l=(r(5605),function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}),f=function(e){return 0===e.length},p=u.Od,g=(u.Ce,u.ws,u.R3);u.Im;var _=function(e,t){return function(r){return p(r)?t(r):e()}},m=u.dC;function h(e,t){return void 0===t?function(t){return h(e,t)}:m(e,t)?s.YP:s.G(t[e])}var v=function(e){return p(e)?s.G(u.YM(e)):s.YP},b=function(e){return p(e)?s.G(u.Z$(e)):s.YP};var y=function(e,t){for(var r=e.length,n=0;n<r&&t(e[n]);n++);return n};function w(e){return function(t){var r=x(y(t,e))(t);return{init:r[0],rest:r[1]}}}var k=function(e){return function(t){for(var r=0;r<t.length;r++)if(e(t[r]))return s.G(r);return s.YP}};function E(e){return function(t){for(var r=0;r<t.length;r++)if(e(t[r]))return s.G(t[r]);return s.YP}}var S=function(e){return function(t){for(var r=0;r<t.length;r++){var n=e(t[r]);if(s.pC(n))return n}return s.YP}};var I=function(e){return function(t){for(var r=t.length-1;r>=0;r--){var n=e(t[r]);if(s.pC(n))return n}return s.YP}},D=function(e){return function(t){for(var r=t.length-1;r>=0;r--)if(e(t[r]))return s.G(r);return s.YP}},P=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];"Right"===n._tag&&t.push(n.right)}return t},O=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];"Left"===n._tag&&t.push(n.left)}return t};function M(e){return function(t,r){if(void 0===r){var n=M(e);return function(e){return n(t,e)}}for(var i,a=0;a<r.length;a++)if(i=r[a],e.equals(i,t))return!0;return!1}}var C=function(e){var t=u.pO(e);return function(e){return p(e)?t(e):ue}},x=function(e){return function(t){return e>=1&&p(t)?u.lx(e)(t):f(t)?[t,ue]:[ue,t]}};var T=function(e,t){return(0,i.zG)(e,R(t))},A=function(e,t,r){return(0,i.zG)(e,H(t,r))},U=function(e,t){return(0,i.zG)(e,se(t))},q=function(e,t){return(0,i.zG)(e,oe(t))},G=u.of,z=function(){return ue},j=function(e){return function(t){return(0,i.zG)(t,function(e){return function(t){if(f(t))return ue;for(var r=[],n=0;n<t.length;n++)r.push.apply(r,e(n,t[n]));return r}}((function(t,r){return e(r)})))}},L=j(i.yR),R=function(e){return function(t){return t.map((function(t){return e(t)}))}},B=function(e){return function(t){return t.map((function(t,r){return e(r,t)}))}},K=function(e){return function(t){return t.filter(e)}},W=function(e){return function(t){for(var r=[],n=0;n<t.length;n++){var i=e(n,t[n]);s.pC(i)&&r.push(i.value)}return r}},N=function(e){return W((function(t,r){return e(r)}))},$=N(i.yR),F=function(e){return Q((function(t,r){return e(r)}))},Q=function(e){return function(t){for(var r=[],n=[],i=0;i<t.length;i++){var a=t[i];e(i,a)?n.push(a):r.push(a)}return(0,d.s4)(r,n)}},Y=function(e){return function(t){return function(r){return r.reduce((function(r,n,i){return e.concat(r,t(i,n))}),e.empty)}}},H=function(e,t){return J(e,(function(e,r,n){return t(r,n)}))},V=function(e){var t=Y(e);return function(e){return t((function(t,r){return e(r)}))}},J=function(e,t){return function(r){for(var n=r.length,i=e,a=0;a<n;a++)i=t(a,i,r[a]);return i}},X=function(e,t){return Z(e,(function(e,r,n){return t(r,n)}))},Z=function(e,t){return function(r){return r.reduceRight((function(e,r,n){return t(n,r,e)}),e)}},ee=function(e){return function(t){return A(t,e.of(z()),(function(t,r){return e.ap(e.map(t,(function(e){return function(t){return(0,i.zG)(e,g(t))}})),r)}))}},te="ReadonlyArray",re=function(e){return{show:function(t){return"[".concat(t.map(e.show).join(", "),"]")}}},ne=function(e){return(0,n.f7)((function(t,r){return t.length===r.length&&t.every((function(t,n){return e.equals(t,r[n])}))}))},ie=function(e){return(0,c.Zt)((function(t,r){for(var n=t.length,i=r.length,a=Math.min(n,i),s=0;s<a;s++){var c=e.compare(t[s],r[s]);if(0!==c)return c}return o.Df.compare(n,i)}))},ae={URI:te,map:T},se=function(e){return function(t){for(var r=l([],e(t),!0),n=[];r.length>0;){var i=r.shift();s.nM(i)?r.unshift.apply(r,e(i.left)):n.push(i.right)}return n}},oe=function(e){return function(t){var r=e(t),n=[],i=[];function a(t){s.nM(t)?e(t.left).forEach((function(e){return n.push(e)})):i.push(t.right)}for(var o=0,c=r;o<c.length;o++){a(c[o])}for(;n.length>0;)a(n.shift());return i}},ce=(u.oo,function(e){return f(e)?ue:e.slice()}),ue=u.cS;function de(e){return function(t){return t.every(e)}}var le=function(e){var t=u.j0(e);return function(r){return _((function(){return e.empty}),t(r))}},fe=(s.F4,(0,a.Hr)(ae));u.w6,u.QI,u.Ss},7241:(e,t,r)=>{r.d(t,{R3:()=>h,Im:()=>m,pO:()=>P,ur:()=>N,QI:()=>F,cS:()=>l,Lx:()=>x,xP:()=>U,c2:()=>b,Eh:()=>j,ZN:()=>z,ru:()=>E,vM:()=>S,YM:()=>L,j0:()=>$,Od:()=>f,dC:()=>p,Z$:()=>B,Fp:()=>W,VV:()=>K,of:()=>M,Ce:()=>_,ws:()=>g,w6:()=>w,u4:()=>C,nq:()=>T,iw:()=>q,OE:()=>A,Ss:()=>Q,lx:()=>O,oo:()=>v,Ri:()=>I});var n,i=r(4268),a=r(3735),s=(r(7341),r(9384)),o=r(7209),c=function(e){return{concat:o.VV(e)}},u=function(e){return{concat:o.Fp(e)}};n=void 0;var d=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},l=s.Xl,f=s.Od,p=function(e,t){return e<0||e>=t.length},g=function(e){return function(t){return d([e],t,!0)}},_=g,m=function(e){return function(t){return d(d([],t,!0),[e],!1)}},h=m,v=function(e,t,r){if(f(r)){var n=s.r1(r);return n.splice(e,0,t),n}return[t]},b=function(e){return f(e)?s.G(e):s.YP},y=function(e){return function(t){for(var r=Math.max(0,Math.floor(t)),n=[e(0)],i=1;i<r;i++)n.push(e(i));return n}},w=function(e,t){return e<=t?y((function(t){return e+t}))(t-e+1):[e]};function k(e,t){return t?e.concat(t):function(t){return t.concat(e)}}function E(e){return function(t){var r=t.length;if(0===r)return l;for(var n=[],i=t[0],a=[i],s=1;s<r;s++){var o=t[s];e.equals(o,i)?a.push(o):(n.push(a),a=[i=o])}return n.push(a),n}}var S=function(e){return function(t){for(var r={},n=0,i=t;n<i.length;n++){var a=i[n],o=e(a);s.e$.call(r,o)?r[o].push(a):r[o]=[a]}return r}};var I=function(e){for(var t=[e[0][0]],r=[e[0][1]],n=1;n<e.length;n++)t[n]=e[n][0],r[n]=e[n][1];return[t,r]},D=function(e){return function(t){for(var r=[e,t[0]],n=1;n<t.length;n++)r.push(e,t[n]);return r}},P=function(e){return function(t){for(var r=e(t),n=[r[0]],i=r[1];f(i);){var a=e(i),s=a[0],o=a[1];n.push(s),i=o}return n}},O=function(e){return function(t){var r=Math.max(1,e);return r>=t.length?[t,l]:[(0,a.zG)(t.slice(1,r),_(L(t))),t.slice(r)]}},M=s.ri,C=function(e,t){return A(e,(function(e,r,n){return t(r,n)}))},x=function(e){return function(t){return function(r){return r.slice(1).reduce((function(r,n){return e.concat(r,t(n))}),t(r[0]))}}},T=function(e,t){return q(e,(function(e,r,n){return t(r,n)}))},A=function(e,t){return function(r){return r.reduce((function(e,r,n){return t(n,e,r)}),e)}},U=function(e){return function(t){return function(r){return r.slice(1).reduce((function(r,n,i){return e.concat(r,t(i+1,n))}),t(0,r[0]))}}},q=function(e,t){return function(r){return r.reduceRight((function(e,r,n){return t(n,r,e)}),e)}},G=s.YM,z=function(e){return{show:function(t){return"[".concat(t.map(e.show).join(", "),"]")}}},j=function(e){return(0,i.f7)((function(t,r){return t.length===r.length&&t.every((function(t,n){return e.equals(t,r[n])}))}))},L=(s.F4,G),R=s.Gb,B=function(e){return e[e.length-1]},K=function(e){var t=c(e);return function(e){return e.reduce(t.concat)}},W=function(e){var t=u(e);return function(e){return e.reduce(t.concat)}},N=function(e){return function(t){return t.reduce(e.concat)}},$=function(e){var t=N(e);return function(e){return(0,a.ls)(function(e){return function(t){var r=R(t);return f(r)?(0,a.zG)(r,D(e),_(L(t))):t}}(e),t)}};function F(e,t){return void 0===t?_(e):(0,a.zG)(t,_(e))}var Q=function(e,t){return(0,a.zG)(e,k([t]))}},4923:(e,t,r)=>{r.d(t,{Bu:()=>m,CC:()=>j,DZ:()=>te,EW:()=>$,Eh:()=>de,G:()=>A,HA:()=>q,I8:()=>R,P5:()=>h,RF:()=>L,RJ:()=>K,SW:()=>Q,Su:()=>b,UI:()=>y,Ub:()=>H,V_:()=>N,XP:()=>l,Yz:()=>C,_Y:()=>W,_r:()=>D,dp:()=>c,dx:()=>g,e$:()=>_,hX:()=>ee,jt:()=>O,kp:()=>z,mK:()=>X,mS:()=>B,nn:()=>G,nr:()=>fe,nu:()=>F,oA:()=>oe,oh:()=>ce,qS:()=>J,ri:()=>S,sq:()=>x,t9:()=>U,tV:()=>ne,uK:()=>re,uZ:()=>le,vA:()=>V,vP:()=>I,xb:()=>u,yW:()=>T,z7:()=>M,zV:()=>Y});var n=r(4268),i=r(3735),a=r(9384),s=r(4870),o=r(2751),c=(r(5605),function(e){return Object.keys(e).length}),u=function(e){for(var t in e)if(a.e$.call(e,t))return!1;return!0},d=function(e){return function(t){return Object.keys(t).sort(e.compare)}},l=d(o.Df);function f(e){if("function"==typeof e)return f(o.Df)(e);var t=d(e);return function(e){return function(r){for(var n=[],i=0,a=t(r);i<a.length;i++){var s=a[i];n.push(e(s,r[s]))}return n}}}var p=f(o.Df)((function(e,t){return[e,t]}));var g=function(e,t){return function(r){if(a.e$.call(r,e)&&r[e]===t)return r;var n=Object.assign({},r);return n[e]=t,n}},_=function(e,t){return a.e$.call(t,e)};function m(e){return function(t,r){if(void 0===r){var n=m(e);return function(e){return n(e,t)}}for(var i in t)if(!a.e$.call(r,i)||!e.equals(t[i],r[i]))return!1;return!0}}function h(e,t){return void 0===t?function(t){return h(e,t)}:a.e$.call(t,e)?a.G(t[e]):a.YP}var v={};function b(e){return function(t){var r={};for(var n in t)a.e$.call(t,n)&&(r[n]=e(n,t[n]));return r}}function y(e){return b((function(t,r){return e(r)}))}function w(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(2===e.length)return w(o.Df).apply(void 0,e);var r=d(e[0]);return function(e,t){return function(n){for(var i=e,a=r(n),s=a.length,o=0;o<s;o++){var c=a[o];i=t(c,i,n[c])}return i}}}function k(e){if("compare"in e){var t=d(e);return function(e){return function(r){return function(n){for(var i=e.empty,a=t(n),s=a.length,o=0;o<s;o++){var c=a[o];i=e.concat(i,r(c,n[c]))}return i}}}}return k(o.Df)(e)}function E(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(2===e.length)return E(o.Df).apply(void 0,e);var r=d(e[0]);return function(e,t){return function(n){for(var i=e,a=r(n),s=a.length-1;s>=0;s--){var o=a[s];i=t(o,n[o],i)}return i}}}var S=function(e,t){var r;return(r={})[e]=t,r};function I(e){return X(o.Df)(e)}function D(e){return function(t){var r={},n={};for(var i in t)if(a.e$.call(t,i)){var o=e(i,t[i]);switch(o._tag){case"Left":r[i]=o.left;break;case"Right":n[i]=o.right}}return(0,s.s4)(r,n)}}function P(e){return function(t){var r={},n={};for(var i in t)if(a.e$.call(t,i)){var o=t[i];e(i,o)?n[i]=o:r[i]=o}return(0,s.s4)(r,n)}}function O(e){return function(t){var r={};for(var n in t)if(a.e$.call(t,n)){var i=e(n,t[n]);a.pC(i)&&(r[n]=i.value)}return r}}function M(e){return function(t){var r={},n=!1;for(var i in t)if(a.e$.call(t,i)){var s=t[i];e(i,s)?r[i]=s:n=!0}return n?r:t}}var C=p,x=function(e){for(var t={},r=0,n=e;r<n.length;r++){var i=n[r];t[i[0]]=i[1]}return t};function T(e){return function(t){for(var r in t)if(!e(t[r]))return!1;return!0}}function A(e){return function(t){for(var r in t)if(e(t[r]))return!0;return!1}}function U(e){return function(t,r){if(void 0===r){var n=U(e);return function(e){return n(t,e)}}for(var i in r)if(e.equals(r[i],t))return!0;return!1}}var q=function(e,t){return(0,i.zG)(e,y(t))},G=function(e,t){return(0,i.zG)(e,b(t))},z=function(e){var t=ie(e);return function(e,r,n){return(0,i.zG)(e,t(r,n))}},j=function(e){return function(t){var r=ae(e)(t);return function(e,t){return(0,i.zG)(e,r(t))}}},L=function(e){var t=se(e);return function(e,r,n){return(0,i.zG)(e,t(r,n))}},R=function(e,t){return(0,i.zG)(e,ee(t))},B=function(e,t){return(0,i.zG)(e,te(t))},K=function(e,t){return(0,i.zG)(e,re(t))},W=function(e,t){return(0,i.zG)(e,ne(t))},N=function(e){var t=w(e);return function(e,r,n){return(0,i.zG)(e,t(r,n))}},$=function(e){var t=k(e);return function(e){var r=t(e);return function(e,t){return(0,i.zG)(e,r(t))}}},F=function(e){var t=E(e);return function(e,r,n){return(0,i.zG)(e,t(r,n))}},Q=function(e,t){return(0,i.zG)(e,D(t))},Y=function(e,t){return(0,i.zG)(e,P(t))},H=function(e,t){return(0,i.zG)(e,O(t))},V=function(e,t){return(0,i.zG)(e,M(t))},J=function(e){var t=Z(e);return function(e){var r=t(e);return function(e,t){return r(e,(0,i.ls)(i.SK,t))}}},X=function(e){var t=J(e);return function(e){var r=t(e);return function(e){return r(e,i.yR)}}},Z=function(e){return function(t){var r=d(e);return function(e,n){var i=r(e);if(0===i.length)return t.of(v);for(var a=t.of({}),s=function(r){a=t.ap(t.map(a,(function(e){return function(t){var n;return Object.assign({},e,((n={})[r]=t,n))}})),n(r,e[r]))},o=0,c=i;o<c.length;o++){s(c[o])}return a}}},ee=function(e){return M((function(t,r){return e(r)}))},te=function(e){return O((function(t,r){return e(r)}))},re=function(e){return P((function(t,r){return e(r)}))},ne=function(e){return D((function(t,r){return e(r)}))};function ie(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var r=w(e[0]);return function(e,t){return r(e,(function(e,r,n){return t(r,n)}))}}return ie(o.Df).apply(void 0,e)}function ae(e){if("compare"in e){var t=k(e);return function(e){var r=t(e);return function(e){return r((function(t,r){return e(r)}))}}}return ae(o.Df)(e)}function se(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var r=E(e[0]);return function(e,t){return r(e,(function(e,r,n){return t(r,n)}))}}return se(o.Df).apply(void 0,e)}var oe=function(e){var t={};for(var r in e)if(a.e$.call(e,r)){var n=e[r];a.pC(n)&&(t[r]=n.value)}return t},ce=function(e){var t={},r={};for(var n in e)if(a.e$.call(e,n)){var i=e[n];a.nM(i)?t[n]=i.left:r[n]=i.right}return(0,s.s4)(t,r)},ue="ReadonlyRecord";function de(e){var t=m(e);return(0,n.f7)((function(e,r){return t(e)(r)&&t(r)(e)}))}function le(e){return{concat:function(t,r){if(u(t))return r;if(u(r))return t;var n=Object.assign({},t);for(var i in r)a.e$.call(r,i)&&(n[i]=a.e$.call(t,i)?e.concat(t[i],r[i]):r[i]);return n},empty:v}}o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df;function fe(e,t){return a.e$.call(void 0===t?this:t,e)}o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df,o.Df},8377:(e,t,r)=>{r.d(t,{Pd:()=>a,Yg:()=>i,li:()=>n,pL:()=>s});r(3735);function n(e){return e[0]}function i(e){return e[1]}var a=function(e,t){return function(r){return[t(n(r)),e(i(r))]}},s=function(e){return function(t){return[e(n(t)),i(t)]}}},7927:(e,t,r)=>{r.d(t,{UI:()=>u,XP:()=>o,dx:()=>c,hX:()=>y,xb:()=>a});var n=r(4923),i=r(2751),a=(r(5605),n.dp,n.xb),s=function(e){return function(t){return Object.keys(t).sort(e.compare)}},o=s(i.Df);var c=n.dx;n.e$;n.Bu,n.P5,n.Su;var u=n.UI;n.ri;function d(e){return n.vP(e)}n._r;n.jt;n.yW,n.G,n.t9;var l=n.HA,f=(n.nn,n.kp),p=n.CC,g=n.RF,_=(n.I8,n.mS,n.RJ,n._Y,n.V_),m=n.EW,h=n.nu,v=(n.SW,n.zV,n.Ub,n.vA,n.qS),b=(n.mK,function(e){return function(t){var r=s(e);return function(e,n){var i=r(e);if(0===i.length)return t.of({});for(var a=t.of({}),s=function(r){a=t.ap(t.map(a,(function(e){return function(t){return e[r]=t,e}})),n(r,e[r]))},o=0,c=i;o<c.length;o++){s(c[o])}return a}}}),y=n.hX;n.DZ,n.uK,n.tV;n.oA,n.oh;var w="Record";n.Eh,n.uZ,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,n.nr,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df,i.Df},2197:(e,t,r)=>{r.d(t,{ff:()=>n});var n=function(e){return function(t){return!e(t)}}},4870:(e,t,r)=>{r.d(t,{F2:()=>o,Pd:()=>a,Vn:()=>i,s4:()=>n});r(3735);var n=function(e,t){return{left:e,right:t}},i=function(e){return function(t){return n(e(s(t)),o(t))}},a=function(e,t){return function(r){return n(e(s(r)),t(o(r)))}},s=function(e){return e.left},o=function(e){return e.right}},5151:(e,t,r)=>{r.d(t,{At:()=>D,Hi:()=>b,PM:()=>v,RD:()=>A,UA:()=>k,UI:()=>f,YO:()=>P,ak:()=>O,ap:()=>p,dO:()=>h,mU:()=>S,oE:()=>q,of:()=>g,pE:()=>U,qA:()=>y,qo:()=>w,tD:()=>c,tS:()=>_,uU:()=>T});var n=r(6862),i=r(1130),a=r(3735),s=r(7341),o=r(9384),c=function(e){return function(){return Promise.resolve().then(e)}};var u=function(e,t){return(0,a.zG)(e,f(t))},d=function(e,t){return(0,a.zG)(e,p(t))},l=function(e,t){return(0,a.zG)(e,_(t))},f=function(e){return function(t){return function(){return Promise.resolve().then(t).then(e)}}},p=function(e){return function(t){return function(){return Promise.all([Promise.resolve().then(t),Promise.resolve().then(e)]).then((function(e){return(0,e[0])(e[1])}))}}},g=function(e){return function(){return Promise.resolve(e)}},_=function(e){return function(t){return function(){return Promise.resolve().then(t).then((function(t){return e(t)()}))}}},m="Task";var h={URI:m,map:u},v={URI:m,of:g},b={URI:m,map:u,ap:d},y={URI:m,map:u,ap:d,of:g},w={URI:m,map:u,ap:d,chain:l},k={URI:m,map:u,of:g,ap:d,chain:l},E=a.yR,S=(0,n.m)(w),I={URI:m,fromIO:c},D=(0,i.At)(I,w),P=(o.F4,(0,s.YO)(h)),O=(0,n.a)(w),M=g(o.Xl),C=function(e){var t=function(e){return function(t){return function(){return Promise.all(t.map((function(t,r){return Promise.resolve().then((function(){return e(r,t)()}))})))}}}(e);return function(e){return o.Od(e)?t(e):M}},x=function(e){var t=function(e){return function(t){return function(){return o.Gb(t).reduce((function(t,r,n){return t.then((function(t){return Promise.resolve().then(e(n+1,r)).then((function(e){return t.push(e),t}))}))}),Promise.resolve().then(e(0,o.YM(t))).then(o.ri))}}}(e);return function(e){return o.Od(e)?t(e):M}},T=function(e){return C((function(t,r){return e(r)}))},A=T(a.yR),U=function(e){return x((function(t,r){return e(r)}))},q={URI:m,map:u,of:g,ap:d,chain:l,fromIO:c,fromTask:E}},4767:(e,t,r)=>{r.d(t,{Do:()=>Q,F2:()=>g,Ij:()=>H,LV:()=>w,UI:()=>C,Uo:()=>y,Vn:()=>T,Y3:()=>E,Zl:()=>q,ak:()=>Y,fF:()=>b,fS:()=>k,fX:()=>K,oU:()=>N,t$:()=>p,tD:()=>v,tS:()=>U,wE:()=>F});var n=r(6862),i=r(856),a=r(2690),s=r(1130),o=r(9679),c=r(3735),u=(r(7341),r(9384)),d=r(5151),l=function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function o(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))},f=function(e,t){var r,n,i,a,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}},p=i.t$(d.PM),g=i.F2(d.PM),_=i.m8(d.dO),m=i.pk(d.dO),h=(0,c.ls)(d.tD,_),v=(d.tD,h),b=_,y=d.of,w=(d.tD,d.dO,i.LV(d.UA)),k=i.fS(d.UA),E=function(e,t){return function(){return l(void 0,void 0,void 0,(function(){var r;return f(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e().then(u.F2)];case 1:return[2,n.sent()];case 2:return r=n.sent(),[2,u.t$(t(r))];case 3:return[2]}}))}))}},S=(d.dO,d.PM,d.PM,d.UA,d.UA,d.UA,d.UA,d.dO,function(e,t){return(0,c.zG)(e,C(t))}),I=function(e,t){return(0,c.zG)(e,A(t))},D=function(e,t){return(0,c.zG)(e,U(t))},P=function(e,t,r){return(0,c.zG)(e,x(t,r))},O=function(e,t){return(0,c.zG)(e,T(t))},M=function(e,t){return(0,c.zG)(e,G(t))},C=i.UI(d.dO),x=i.Pd(d.dO),T=i.Vn(d.dO),A=i.ap(d.Hi),U=i.tS(d.UA),q=U,G=i.wp(d.UA),z=g,j=p,L="TaskEither";var R={URI:L,map:S,ap:I,chain:D},B={URI:L,fromEither:y},K=(0,a.fX)(B,R),W={URI:L,fromIO:v},N=(0,s.oU)(W,R),$={URI:L,fromIO:v,fromTask:b},F=(0,o.oU)($,R);var Q=z(u.F4),Y=(0,n.a)(R),H=(u.Xl,{URI:L,bimap:P,mapLeft:O,map:S,of:z,ap:I,chain:D,alt:M,fromIO:v,fromTask:b,throwError:j})},7758:(e,t,r)=>{r.d(t,{NG:()=>R,wE:()=>X,hX:()=>$,tD:()=>G,fS:()=>L,EQ:()=>j});var n=r(3735),i=r(7341),a=r(6567),s=r(4870);function o(e,t){return function(r){return e.map(r,t.compact)}}function c(e,t,r){var c=o(e,t),u=(0,i.UI)(e,r);return function(e){return s.s4(c((0,n.zG)(e,u(a.IS))),c((0,n.zG)(e,u(a.EK))))}}var u=r(6017);function d(e,t){return function(r){return function(n){return e.map(n,(function(e){return t.filter(e,r)}))}}}function l(e,t){return function(r){return function(n){return e.map(n,(function(e){return t.filterMap(e,r)}))}}}function f(e,t){var r=d(e,t);return function(e){var t=r((0,u.ff)(e)),n=r(e);return function(e){return(0,s.s4)(t(e),n(e))}}}function p(e,t){var r=l(e,t);return function(e){return function(t){return(0,s.s4)((0,n.zG)(t,r((function(t){return(0,a.IS)(e(t))}))),(0,n.zG)(t,r((function(t){return(0,a.EK)(e(t))}))))}}}var g=r(9679),_=r(9384),m=r(1828);function h(e){return(0,n.ls)(a.G,e.of)}function v(e){return(0,n.a9)(e.of(a.YP))}function b(e){return function(t){return e.map(t,a.G)}}function y(e){return(0,n.ls)(a.ij,e.of)}function w(e){var t=y(e);return function(e){return(0,n.ls)(e,t)}}function k(e){var t=T(e),r=w(e);return function(e){return t(r(e))}}function E(e){return function(t){return(0,n.ls)(t,e.of)}}function S(e){var t=T(e),r=E(e);return function(e){return t(r(e))}}function I(e){return function(t){return function(r){return e.of(a.DT(t)(r))}}}function D(e){return(0,n.ls)(a.Uo,e.of)}function P(e){return function(t,r){return function(n){return e.map(n,a.EQ(t,r))}}}function O(e){return function(t,r){return function(n){return e.chain(n,a.EQ(t,r))}}}function M(e){return function(t){return function(r){return e.chain(r,a.EQ(t,e.of))}}}function C(e){return(0,i.UI)(e,a.dO)}function x(e){return(0,m.ap)(e,a.G5)}function T(e){var t=v(e);return function(r){return function(n){return e.chain(n,a.EQ((function(){return t()}),r))}}}function A(e){var t=h(e);return function(r){return function(n){return e.chain(n,a.EQ(r,t))}}}var U=r(5151),q=h(U.PM),G=(U.PM,U.of,U.PM,function(e){return z(U.tD(e))}),z=b(U.dO),j=(a.Uo,P(U.dO)),L=(U.qo,M(U.UA)),R=(U.PM,U.PM,k(U.UA)),B=(U.PM,U.UA,C(U.dO)),K=x(U.Hi),W=q,N=T(U.UA),$=(U.UA,U.PM,U.dO,a.Ri,U.dO,a.Ri,a.dO,d(U.dO,a.xu)),F=(U.dO,a.xu,U.dO,a.xu,U.dO,a.xu,function(e,t){return(0,n.zG)(e,B(t))}),Q=function(e,t){return(0,n.zG)(e,K(t))},Y=function(e,t){return(0,n.zG)(e,N(t))},H="TaskOption",V={URI:H,map:F,ap:Q,chain:Y},J={URI:H,fromIO:G,fromTask:z},X=(0,g.oU)(J,V);_.F4,_.Xl},5605:(e,t,r)=>{function n(e,t){return function(r){var n=e.traverse(r);return function(e,i){return r.map(n(e,i),t.separate)}}}function i(e,t){return function(r){var n=e.traverse(r);return function(e,i){return r.map(n(e,i),t.compact)}}}r.d(t,{BL:()=>i,Fj:()=>n})},3735:(e,t,r)=>{r.d(t,{MZ:()=>i,Q1:()=>c,SK:()=>f,W8:()=>s,a9:()=>a,bc:()=>d,gn:()=>o,ls:()=>u,yR:()=>n,zG:()=>l});function n(e){return e}var i=n;function a(e){return function(){return e}}var s=a(!0),o=a(null),c=a(void 0);function u(e,t,r,n,i,a,s,o,c){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return r(t(e.apply(this,arguments)))};case 4:return function(){return n(r(t(e.apply(this,arguments))))};case 5:return function(){return i(n(r(t(e.apply(this,arguments)))))};case 6:return function(){return a(i(n(r(t(e.apply(this,arguments))))))};case 7:return function(){return s(a(i(n(r(t(e.apply(this,arguments)))))))};case 8:return function(){return o(s(a(i(n(r(t(e.apply(this,arguments))))))))};case 9:return function(){return c(o(s(a(i(n(r(t(e.apply(this,arguments)))))))))}}}function d(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e}function l(e,t,r,n,i,a,s,o,c){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return r(t(e));case 4:return n(r(t(e)));case 5:return i(n(r(t(e))));case 6:return a(i(n(r(t(e)))));case 7:return s(a(i(n(r(t(e))))));case 8:return o(s(a(i(n(r(t(e)))))));case 9:return c(o(s(a(i(n(r(t(e))))))));default:for(var u=arguments[0],d=1;d<arguments.length;d++)u=arguments[d](u);return u}}var f=function(e,t){return t}},9384:(e,t,r)=>{r.d(t,{F2:()=>d,F4:()=>m,G:()=>s,Gb:()=>g,Od:()=>f,Xl:()=>_,YM:()=>p,YP:()=>a,e$:()=>h,nM:()=>o,pC:()=>i,r1:()=>v,ri:()=>l,t$:()=>u,tO:()=>c});var n=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},i=function(e){return"Some"===e._tag},a={_tag:"None"},s=function(e){return{_tag:"Some",value:e}},o=function(e){return"Left"===e._tag},c=function(e){return"Right"===e._tag},u=function(e){return{_tag:"Left",left:e}},d=function(e){return{_tag:"Right",right:e}},l=function(e){return[e]},f=function(e){return e.length>0},p=function(e){return e[0]},g=function(e){return e.slice(1)},_=[],m={},h=Object.prototype.hasOwnProperty,v=function(e){return n([e[0]],e.slice(1),!0)}},4011:(e,t,r)=>{r.d(t,{Df:()=>i,Eq:()=>n});var n={equals:function(e,t){return e===t}},i={equals:n.equals,compare:function(e,t){return e<t?-1:e>t?1:0}};n.equals,i.compare},2751:(e,t,r)=>{r.d(t,{Df:()=>i,Eq:()=>n,pn:()=>s,xb:()=>a});var n={equals:function(e,t){return e===t}},i={equals:n.equals,compare:function(e,t){return e<t?-1:e>t?1:0}},a=function(e){return 0===e.length},s=function(e,t){return function(r){return r.endsWith(e,t)}}},4386:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(477),i=r.n(n);function a(){return i()('/*! permutive-javascript-sdk v19.111.1 (web) (built 2024-04-16T16:47:37.027Z) */(()=>{"use strict";function e(e){return e}function t(e){return function(){return e}}var r=t(void 0);function n(e,t,r,n,i,a,s,o,c){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return r(t(e.apply(this,arguments)))};case 4:return function(){return n(r(t(e.apply(this,arguments))))};case 5:return function(){return i(n(r(t(e.apply(this,arguments)))))};case 6:return function(){return a(i(n(r(t(e.apply(this,arguments))))))};case 7:return function(){return s(a(i(n(r(t(e.apply(this,arguments)))))))};case 8:return function(){return o(s(a(i(n(r(t(e.apply(this,arguments))))))))};case 9:return function(){return c(o(s(a(i(n(r(t(e.apply(this,arguments)))))))))}}}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e}function a(e,t,r,n,i,a,s,o,c){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return r(t(e));case 4:return n(r(t(e)));case 5:return i(n(r(t(e))));case 6:return a(i(n(r(t(e)))));case 7:return s(a(i(n(r(t(e))))));case 8:return o(s(a(i(n(r(t(e)))))));case 9:return c(o(s(a(i(n(r(t(e))))))));default:for(var u=arguments[0],l=1;l<arguments.length;l++)u=arguments[l](u);return u}}var s=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},o=function(e){return"Some"===e._tag},c={_tag:"None"},u=function(e){return{_tag:"Some",value:e}},l=function(e){return"Left"===e._tag},p=Object.prototype.hasOwnProperty,f=function(e){return s([e[0]],e.slice(1),!0)},d=function(e){return function(t){return!e(t)}};var g=c,m=u;function _(e){return function(t){return e(t)?m(t):g}}var y=function(e){return"Left"===e._tag?g:m(e.right)},h=function(e,t){return a(e,S(t))},v=function(e,t){return a(e,q(t))},w="Option",b=function(e){return{equals:function(t,r){return t===r||(z(t)?z(r):!z(r)&&e.equals(t.value,r.value))}}},k=function(e){return{equals:b(e).equals,compare:function(t,r){return t===r?0:j(t)?j(r)?e.compare(t.value,r.value):1:-1}}},S=function(e){return function(t){return z(t)?g:m(e(t.value))}},q=function(e){return function(t){return z(t)||z(e)?g:m(t.value(e.value))}},A={URI:w,map:h,ap:v},x=function(e){return function(t){return z(t)?g:e(t.value)}},I=function(e){return function(t){return z(t)?e():t}},E=y,j=o,z=function(e){return"None"===e._tag},O=function(e,t){return function(r){return z(r)?e():t(r.value)}},T=O,B=T,D=function(e){return function(t){return z(t)?e():t.value}};function M(e){return e instanceof Error?e:new Error("string"==typeof e?e:JSON.stringify(e))}const N=()=>({kind:"null",value:null}),C=e=>({kind:"string",value:e}),L=e=>({kind:"number",value:e}),P=e=>({kind:"array",value:e}),X=e=>({kind:"object",value:e}),F=e=>e,G=()=>({kind:"bottom"}),Q=e=>({kind:"inner",a:e}),U=e=>({kind:"top",error:e}),H=e=>({kind:"unbounded",group:e}),W=(e,t)=>({kind:"windowed",key:t,group:e}),R=(e,t,r)=>({kind:"countLimit",n:r,limit:t,group:e}),V=(e,t,r)=>({kind:"uniqueLimit",n:r,limit:t,group:e}),J=e=>({kind:"numberGroup",group:e}),$=e=>({kind:"stringGroup",group:e}),K=e=>({kind:"tuple",tuple:e}),Y=e=>({state:e}),Z=(e,t)=>({commands:e,payload:t});var ee=function(e){return{equals:function(t,r){return t===r||e(t,r)}}},te=function(e){return ee((function(t,r){for(var n in e)if(!e[n].equals(t[n],r[n]))return!1;return!0}))},re=function(e){return function(t,r){return t===r||0===e(t,r)}},ne=function(e){return{equals:re(e),compare:function(t,r){return t===r?0:e(t,r)}}},ie=function(e){return function(t){return ne((function(r,n){return t.compare(e(r),e(n))}))}},ae=function(e){return function(t,r){return-1===e.compare(t,r)}},se=function(e){return function(t,r){return 1===e.compare(t,r)}},oe=function(e){return function(t,r){return t===r||e.compare(t,r)<1?t:r}},ce=function(e){return function(t,r){return t===r||e.compare(t,r)>-1?t:r}};var ue={equals:function(e,t){return e===t}},le={equals:ue.equals,compare:function(e,t){return e<t?-1:e>t?1:0}};const pe=(e,t)=>{switch(e.kind){case"bottom":return{kind:"bottom"};case"inner":return Q(t(e.a));case"top":return U(e.error)}},fe=e=>ne(((t,r)=>{if("bottom"===t.kind&&"bottom"===r.kind)return 0;if("bottom"===t.kind)return-1;if("bottom"===r.kind)return 1;if("top"===t.kind&&"top"===r.kind)return le.compare(t.error,r.error);if("top"===t.kind)return 1;if("top"===r.kind)return-1;if("inner"===t.kind&&"inner"===r.kind)return e.compare(t.a,r.a);throw new Error("Non exhaustive match in extendedAlgebraOrd")}));var de;de=void 0;var ge=function(e){return e[0]},me=ge;var _e=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},ye=function(e){return e.length>0},he=function(e,t){return e<0||e>=t.length},ve=function(e){return function(t){return _e([e],t,!0)}},we=ve,be=function(e){return function(t){return _e(_e([],t,!0),[e],!1)}},ke=be,Se=f,qe=function(e){return ye(e)?u(e):c},Ae=function(e){return function(t){for(var r=Math.max(0,Math.floor(t)),n=[e(0)],i=1;i<r;i++)n.push(e(i));return n}};var xe=Se,Ie=function(e,t,r){for(var n=[r(e[0],t[0])],i=Math.min(e.length,t.length),a=1;a<i;a++)n[a]=r(e[a],t[a]);return n};var Ee=function(e){return function(t){var r=Math.max(1,e);return r>=t.length?[xe(t),[]]:[a(t.slice(1,r),we(ze(t))),t.slice(r)]}},je=function(e){return ee((function(t,r){return t.length===r.length&&t.every((function(t,n){return e.equals(t,r[n])}))}))},ze=me;var Oe={equals:function(e,t){return e===t}},Te={equals:Oe.equals,compare:function(e,t){return e<t?-1:e>t?1:0}};function Be(e){return function(t,r){if(void 0===r){var n=Be(e);return function(e){return n(t,e)}}for(var i,a=0;a<r.length;a++)if(i=r[a],e.equals(i,t))return!0;return!1}}var De=function(e,t){return function(r){for(var n=r.length,i=e,a=0;a<n;a++)i=t(a,i,r[a]);return i}};var Me=function(e){return 0===e.length},Ne=ye,Ce=we,Le=ke,Pe=function(e,t){return e<=0?[]:Ae(t)(e)};var Xe=he,Fe=function(e){return function(t){return Xe(e,t)?He(t):t.slice(0,e)}};var Ge=function(e,t){for(var r=e.length,n=0;n<r&&t(e[n]);n++);return n};function Qe(e){return function(t){var r=$e(Ge(t,e))(t);return{init:r[0],rest:r[1]}}}var Ue=function(e){return function(t){return e<=0||Me(t)?He(t):e>=t.length?[]:t.slice(e,t.length)}};var He=function(e){return e.slice()},We=function(e){return Me(e)?[]:e.slice().reverse()},Re=function(e){return function(t){return t.length<=1?He(t):t.slice().sort(e.compare)}},Ve=function(e,t,r){for(var n=[],i=Math.min(e.length,t.length),a=0;a<i;a++)n[a]=r(e[a],t[a]);return n};var Je=Be,$e=function(e){return function(t){return e>=1&&Ne(t)?Ee(e)(t):Me(t)?[He(t),[]]:[[],He(t)]}};function Ke(e){var t=Je(e);return function(r,n){if(void 0===n){var i=Ke(e);return function(e){return i(e,r)}}return r.filter((function(e){return!t(e,n)}))}}var Ye=function(e){return function(t){return a(t,function(e){return function(t){for(var r=[],n=0;n<t.length;n++)r.push.apply(r,e(n,t[n]));return r}}((function(t,r){return e(r)})))}},Ze=function(e){return function(t){for(var r=[],n=0;n<t.length;n++){var i=e(n,t[n]);o(i)&&r.push(i.value)}return r}},et=function(e){return Ze((function(t,r){return e(r)}))},tt=et(e),rt=De,nt=function(e){var t=it(e);return function(e){return t((function(t,r){return e(r)}))}},it=function(e){return function(t){return rt(e.of([]),(function(r,n,i){return e.ap(e.map(n,(function(e){return function(t){return a(e,Le(t))}})),t(r,i))}))}},at=function(e){return ne((function(t,r){for(var n=t.length,i=r.length,a=Math.min(n,i),s=0;s<a;s++){var o=e.compare(t[s],r[s]);if(0!==o)return o}return Te.compare(n,i)}))},st=function(e){return{_tag:"Left",left:e}},ot=function(e){return{_tag:"Right",right:e}},ct=function(e,t){return a(e,pt(t))},ut=function(e,t){return a(e,dt(t))},lt="Either",pt=function(e){return function(t){return mt(t)?t:ot(e(t.right))}},ft=ot,dt=function(e){return function(t){return mt(t)?t:mt(e)?e:ot(t.right(e.right))}},gt={URI:lt,map:ct,ap:ut,of:ft},mt=l,_t=function(e){return function(t){return mt(t)?e(t.left):t.right}},yt=_t,ht=function(e,t){try{return ot(e())}catch(e){return st(t(e))}};var vt=function(e){return-1===e?1:1===e?-1:0};function wt(e,t){return tt(e.map(t))}function bt(e,t,r,n){const i=(e,t)=>{if(0===e.length)return tt(t.map((e=>m({1:e[1],2:r(g,m(e[2]))}))));if(0===t.length)return tt(e.map((e=>m({1:e[1],2:r(m(e[2]),g)}))));if(e.length>0&&t.length>0&&ae(n)(e[0][1],t[0][1])){const[n,...a]=e,s=n[1],o=n[2];return Ce({1:s,2:r(m(o),g)})(i(a,t))}if(e.length>0&&t.length>0&&se(n)(e[0][1],t[0][1])){const[n,...a]=t,s=n[1],o=n[2];return Ce({1:s,2:r(g,m(o))})(i(e,a))}if(e.length>0&&t.length>0){const[n,...a]=e,[s,...o]=t,c=n[1],u=n[2],l=s[2];return Ce({1:c,2:r(m(u),m(l))})(i(a,o))}throw new Error("Non exhaustive match in mapOption2")},a=ie((e=>e[1]))(n),s=(e=>{const t=wt(e,(e=>j(e[2])?m({1:e[1],2:e[2].value}):g));return 0===t.length?g:m(t)})(i(Re(a)([...e].map((e=>({1:e[0],2:e[1]})))),Re(a)([...t].map((e=>({1:e[0],2:e[1]}))))));return S((e=>new Map(e.map((e=>[e[1],e[2]])))))(s)}function kt(e,t,r,n){const i=ie((e=>e[0]))(n),a=Re(i)([...t]).reduceRight(((e,t)=>{if(mt(e)){const n=r(t[1],e.left);return j(n)?st(n.value):ot(t[0])}return e}),st(e));return E(a)}function St(e,t){return new Map([...e].map(t))}function qt(e,t){return new Map([...e].filter(t))}function At(e){return JSON.stringify(xt(e))}function xt(e){switch(e.kind){case"null":return jt.encode(e);case"string":return zt.encode(e);case"number":return Ot.encode(e);case"array":return Tt.encode(e);case"object":return Bt.encode(e)}}function It(e){return null===e?jt.decode(e):"number"==typeof e?Ot.decode(e):"string"==typeof e?zt.decode(e):Array.isArray(e)?Tt.decode(e):Bt.decode(e)}const Et=(e,t)=>st(`Failed to decode. Input was ${JSON.stringify(e)}. Codec type was ${t}`),jt={encode:e=>null,decode:e=>null===e?ot({kind:"null",value:null}):Et(e,"SimpleNull")},zt={encode:e=>e.value,decode:e=>"string"==typeof e?ot(C(e)):Et(e,"SimpleString")},Ot={encode:e=>e.value,decode:e=>"number"==typeof e?ot(L(e)):Et(e,"SimpleNumber")},Tt={encode:e=>e.value.map(xt),decode:e=>{if(Array.isArray(e)){const t=nt(gt)(It)(e);return pt(P)(t)}return Et(e,"SimpleArray")}},Bt={encode:e=>{const t=[...e.value.entries()];return Object.assign({},...Array.from(t,(([e,t])=>({[e]:xt(t)}))))},decode:e=>{if(e&&e.constructor===Object){const t=nt(gt)((([e,t])=>a(It(t),pt((t=>i(e,t))))))(Object.entries(e));return pt((e=>X(new Map([...e]))))(t)}return Et(e,"SimpleObject")}};function Dt(e){return a(e,Nt,S(At),D((()=>"<encode error>")))}function Mt(e){return S(Gt)(function(e){switch(e.state.kind){case"top":return m(C(e.state.error));case"bottom":return g;case"inner":return Nt(e.state.a)}}(e))}function Nt(e){return function(e){switch(e.kind){case"numberGroup":case"stringGroup":return Ct(e.group);case"tuple":return e.tuple.length>0}}(e.payload)?m(P(function(e,t){const r=S((e=>Ce(e)(t)))(e);return D((()=>t))(r)}(S((e=>C(function(e){const t=e=>T((()=>""),(e=>"b"+JSON.stringify(e)))(e.bound),r=e=>{switch(e.operation){case"add":return"p";case"mul":return"m";case"max":return"v";case"min":return"n"}},n=e=>{const n=t(e[1])+r(e[1]);return 1===e[2]?n:n+JSON.stringify(e[2])};return e.map(n).join("")}(e))))(e.commands),function(e){const t=e=>{switch(e.kind){case"bottom":return{kind:"null",value:null};case"top":return C(e.error);case"inner":return L(e.a)}},r=e=>wt([Lt,Pt,e=>a(e,Ft,X,m)],(t=>t(e))),n=e=>wt([Lt,Xt,e=>a(e,Ft,(e=>St(e,(([e,t])=>[JSON.stringify(e),t]))),X,m)],(t=>t(e)));switch(e.kind){case"tuple":return e.tuple.map(t);case"stringGroup":return r(e.group);case"numberGroup":return n(e.group)}}(e.payload)))):g}function Ct(e){switch(e.kind){case"unbounded":return e.group.size>0;case"windowed":return e.group.size>0||j(e.key);case"countLimit":case"uniqueLimit":return e.group.size>0||j(e.limit)}}function Lt(e){switch(e.kind){case"unbounded":return g;case"windowed":return m(C("w"));case"countLimit":return m(C(1===e.n?"x":`x${e.n}`));case"uniqueLimit":return m(C(1===e.n?"u":`u${e.n}`))}}function Pt(e){switch(e.kind){case"unbounded":return g;case"windowed":return m(C(j(e.key)?e.key.value:""));case"countLimit":case"uniqueLimit":return m(C(j(e.limit)?e.limit.value:""))}}function Xt(e){switch(e.kind){case"unbounded":return g;case"windowed":return j(e.key)?m(L(e.key.value)):m({kind:"null",value:null});case"countLimit":case"uniqueLimit":return j(e.limit)?m(L(e.limit.value)):m({kind:"null",value:null})}}function Ft(e){switch(e.kind){case"unbounded":case"windowed":case"countLimit":case"uniqueLimit":return e.group}}function Gt(e){switch(e.kind){case"array":return 0===e.value.length?{kind:"null",value:null}:1===e.value.length?Gt(e.value[0]):P(e.value.map(Gt));case"object":return a(qt(e.value,(([e,t])=>"null"!==t.kind)),(e=>St(e,(e=>[e[0],Gt(e[1])]))),X);default:return e}}function Qt(e){const t=e=>{if(0===e.length)return{kind:"bottom"};const t=(e=>{if(4!==e.length)return g;const[t,r,n,i]=e;if("string"===t.kind&&"string"===r.kind&&"object"===i.kind){const e=_((e=>Ut(e[1].value)&&Ht(e[2].value)))({1:t,2:r});return S((e=>({prim:e[1].value,grp:e[2].value,cutoff:n,m:i.value})))(e)}return g})(e);if(j(t)){const{prim:e,grp:r,cutoff:n,m:i}=t.value,a=Wt(n,i,Rt(r));return"string"==typeof a?U(a):Q(Z(Vt(e),a))}const r=(e=>{if(3!==e.length)return g;const[t,r,n]=e;if("string"===t.kind&&"object"===n.kind){const e=_((e=>Ht(e.value)))(t);return S((e=>({grp:e.value,cutoff:r,m:n.value})))(e)}return g})(e);if(j(r)){const{grp:e,cutoff:t,m:n}=r.value,i=Wt(t,n,Rt(e));return"string"==typeof i?U(i):Q(Z(g,i))}const n=(e=>{if(2!==e.length)return g;const[t,r]=e;if("string"===t.kind&&"object"===r.kind){const e=_((e=>Ut(e.value)))(t);return S((e=>({prim:e.value,m:r.value})))(e)}return g})(e);if(j(n)){const{prim:e,m:t}=n.value;return Q(Z(Vt(e),$(H(t))))}const i=(e=>{if(1!==e.length)return g;const[t]=e;return"object"===t.kind?m({m:t.value}):g})(e);if(j(i)){const{m:e}=i.value;return Q(Z(g,$(H(e))))}const a=(e=>{if(e.length<1)return g;const[t,...r]=e;if("string"===t.kind){const e=_((e=>Ut(e.value)))(t);return S((e=>({prim:e.value,rest:r})))(e)}return g})(e);if(j(a)){const{prim:e,rest:t}=a.value;return Q(Z(Vt(e),$t(t)))}return Q(Z(g,$t(e)))},r=e=>"array"===e.kind?Ye(r)(e.value):[e];return"null"===e.kind?Y({kind:"bottom"}):Y(t(r(e)))}function Ut(e){const t=e.split("");if(!0==(0===t.length))return!1;{const[e,...r]=t;return-1!=="bpmvn".indexOf(e)&&r.every((e=>-1!=="bpmvn0123456789.".indexOf(e)))}}function Ht(e){const t=e.split("");switch(!0){case 0===t.length:return!1;case"w"===t[0]&&void 0===t[1]:return!0;default:{const[e,...r]=t;return-1!=="ux".indexOf(e)&&-1===r.map((e=>!isNaN(parseInt(e)))).indexOf(!1)}}}function Wt(e,t,r){switch(e.kind){case"string":return $(r({1:m(e.value),2:t}));case"number":case"null":return J(r({1:"null"===e.kind?g:m(e.value),2:qt(St(t,(([e,t])=>[Number(e),t])),(e=>!isNaN(e[0])))}));default:return"{bad cutoff}"}}function Rt(e){const t=e=>t=>V(t[2],t[1],e),r=e=>t=>R(t[2],t[1],e),n=e.split("");switch(!0){case"w"===n[0]&&void 0===n[1]:return e=>W(e[2],e[1]);case"u"===n[0]&&void 0===n[1]:return t(1);case"u"===n[0]&&void 0!==n[1]:return t(parseInt(n.slice(1).join("")));case"x"===n[0]&&void 0===n[1]:return r(1);case"x"===n[0]&&void 0!==n[1]:return r(parseInt(n.slice(1).join("")));default:throw new Error("This should never happen if you use isGroupCommand")}}function Vt(e){const t=e=>z(e.bound)||"add"===e.operation||"mul"===e.operation?m(e):g,r=(e,r,n)=>{const i=((e,r)=>a(e,(e=>{switch(e){case"p":return m("add");case"m":return m("mul");case"v":return m("max");case"n":return m("min");default:return g}}),S((e=>({operation:e,bound:r}))),x(t)))(e,n);return S((e=>{const{init:t,rest:n}=Qe((e=>{return"number"==typeof(t=parseInt(e))&&isFinite(t)&&Math.floor(t)===t;var t}))(r);return{1:{1:e,2:0===t.length?1:parseInt(t.join(""))},2:n.join("")}}))(i)};return S(F)(qe(Jt(e,(e=>{const t=e.split("");if(0===t.length)return g;const[n,...i]=t;if("b"===n){const{init:e,rest:t}=a(i,Qe((e=>-1!=="1234567890.".indexOf(e))));if(0===e.length||0===t.length)return g;const n=parseFloat(e.join("")),[s,...o]=t;return r(s,o,m(n))}return r(n,i,g)}))))}function Jt(e,t){const r=t(e);return D((()=>[]))(S((e=>[e[1]].concat(Jt(e[2],t))))(r))}function $t(e){return K(e.map(Kt))}function Kt(e){switch(e.kind){case"number":return Q(e.value);case"string":return U(e.value);case"null":return{kind:"bottom"};case"object":return U("{object}");case"array":return U("{array}")}}function Yt(e,t,r){return function(n){for(var i=Array(r.length+1),a=0;a<r.length;a++)i[a]=r[a];return i[r.length]=n,0===t?e.apply(null,i):Yt(e,t-1,i)}}var Zt={1:function(e){return[e]},2:function(e){return function(t){return[e,t]}},3:function(e){return function(t){return function(r){return[e,t,r]}}},4:function(e){return function(t){return function(r){return function(n){return[e,t,r,n]}}}},5:function(e){return function(t){return function(r){return function(n){return function(i){return[e,t,r,n,i]}}}}}};function er(e){return p.call(Zt,e)||(Zt[e]=Yt(i,e-1,[])),Zt[e]}function tr(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=t.length,i=er(n),a=e.map(t[0],i),s=1;s<n;s++)a=e.ap(a,t[s]);return a}}const rr={strategy:(e,t,r)=>n=>{if(z(r))return t;if("delta"===e&&z(t))return g;if(z(t))return r;if(j(t)&&j(r))return n(t.value,r.value);throw new Error("Non exhaustive match in combineCommand.strategy")},operation:(t,r,i,s,o,c)=>{const u=at(fe(c)),l=a(r.bound,T((()=>e),(e=>t=>oe(c)(o.fromNumber(e),t))));if("append"===t&&"add"===r.operation)return Ve(i,s,lr("append",n(o.plus,l)));if("append"===t&&"mul"===r.operation)return Ve(i,s,lr("append",n(o.times,l)));if("append"===t&&"max"===r.operation)return ce(u)(i,s);if("join"===t&&"add"===r.operation)return Ve(i,s,lr("join",ce(c)));if("join"===t&&"mul"===r.operation)return Ve(i,s,lr("join",ce(c)));if("join"===t&&"max"===r.operation)return ce(u)(i,s);if("min"===r.operation)return rr.operation(t,{operation:"max",bound:r.bound},i,s,o,function(e){return ne(((t,r)=>vt(e.compare(t,r))))}(c));if("delta"===t&&"max"===r.operation)return se(u)(i,s)?i:s.map(G);if("delta"===t)return Ve(i,s,((e,t)=>se(fe(c))(e,t)?pe(e,l):{kind:"bottom"}));throw new Error("Non exhaustive match in combineCommand.operation")},extend:(e,t,r,n)=>{if("delta"===e&&"top"===r.kind&&"top"===n.kind)return se(le)(r.error,n.error)?U(r.error):{kind:"bottom"};if("delta"===e&&"bottom"===n.kind)return r;if("delta"===e&&"bottom"===r.kind)return{kind:"bottom"};if("top"===r.kind&&"top"===n.kind)return U(ce(le)(r.error,n.error));if("top"===r.kind)return r;if("top"===n.kind)return n;if("inner"===r.kind&&"inner"===n.kind)return t(r.a,n.a);if("bottom"===r.kind)return n;if("bottom"===n.kind)return r;throw new Error("Non exhaustive match in extend")}},nr={fromNumber:e,plus:(e,t)=>e+t,times:(e,t)=>e*t};function ir(e,t,r,n){if("unbounded"===e.kind&&"unbounded"===t.kind){const i=e.group,a=t.group;return D(G)(S((e=>Q(H(e))))(bt(i,a,r,n)))}if("windowed"===e.kind&&"windowed"===t.kind){const i=e.key,a=e.group,s=t.key,o=t.group,c=ce(k(n))(i,s);return D(G)(S((e=>Q(W(e,c))))(bt(a,o,r,n)))}if("countLimit"===e.kind&&"countLimit"===t.kind){const i=e.n,a=t.n;if(i===a){const a=e.limit,s=e.group,o=t.limit,c=t.group,u=ce(k(n))(a,o);return D(G)(S((e=>Q(R(e,u,i))))(bt(s,c,r,n)))}return U("Non matching counts")}if("uniqueLimit"===e.kind&&"uniqueLimit"===t.kind){const i=e.n,a=t.n;if(i===a){const a=e.limit,s=e.group,o=t.limit,c=t.group,u=ce(k(n))(a,o);return D(G)(S((e=>Q(V(e,u,i))))(bt(s,c,r,n)))}return U("Non matching counts")}return U("Non matching group types")}function ar(e,t,r,n,i,a){const s=(e,t)=>({1:Fe(e)(t).concat(Pe(Math.max(0,e-t.length),G)),2:Ue(e)(t)}),o=(t,r,n)=>{if(0===t.length)return rr.operation(e,{operation:"max",bound:g},r,n,i,a);if(t.length>0){const[c,...u]=t,l=s(c[2],r),p=l[1],f=l[2],d=s(c[2],n),g=d[1],m=d[2];return rr.operation(e,c[1],p,g,i,a).concat(o(u,f,m))}throw new Error("Non exhaustive match in recurse")};return We((c=e=>"bottom"===e.kind,function(e){return e.slice(Ge(e,c))})(We(o(t,r,n))));var c}function sr(e,t,r){return D(N)(or(e,g)(t,r))}function or(e,t){const r=t=>(r,n)=>rr.strategy(e,r,n)(or(e,t)),n=(t,n,i)=>{if("stringGroup"===n.kind&&"stringGroup"===i.kind){const e=ir(n.group,i.group,r(t),le);return pe(e,(e=>$(ur(e,le))))}if("numberGroup"===n.kind&&"numberGroup"===i.kind){const e=ir(n.group,i.group,r(t),Te);return pe(e,(e=>J(ur(e,Te))))}if("tuple"===n.kind&&"tuple"===i.kind){const r=j(t)?t.value:[];return Q(K(ar(e,r,n.tuple,i.tuple,nr,Te)))}throw new Error(`Non matching payload. Got ${n.kind} and ${i.kind}`)},i=(e,r)=>{if(b(je(te({1:te({operation:ue,bound:b(Oe)}),2:Oe}))).equals(e.commands,r.commands)){const i=z(e.commands)?t:e.commands,a=n(i,e.payload,r.payload);return pe(a,(t=>Z(e.commands,t)))}if(i=e.commands,s=r.commands,b(je(te({1:te({operation:ue}),2:Oe}))).equals(i,s)){const i=a(((e,t)=>a(tr(A)(e,t),S((([e,t])=>Ie(e,t,((e,t)=>({1:{operation:e[1].operation,bound:a(tr(A)(e[1].bound,t[1].bound),S((([e,t])=>Math.min(e,t))),I((()=>e[1].bound)),I((()=>t[1].bound)))},2:e[2]})))))))(e.commands,r.commands),I((()=>t))),s=n(i,e.payload,r.payload);return pe(s,(e=>Z(i,e)))}throw new Error(`Non matching primitive strings. Got ${Dt(e)} and ${Dt(r)}`);var i,s};return(t,r)=>Mt(Y(rr.extend(e,i,Qt(t).state,Qt(r).state)))}function cr(e,t,r){const n=S((t=>qt(e,(([e,n])=>function(e){return function(t,r){return-1!==e.compare(t,r)}}(r)(e,t)))))(t);return D((()=>e))(n)}function ur(e,t){switch(e.kind){case"unbounded":return e;case"windowed":return z(e.key)?e:W(cr(e.group,e.key,t),e.key);case"countLimit":{const r=e.limit,n=e.n,i=e.group,a=(e,t)=>t<=1?g:m(t-1),s=kt(n,i,a,t),o=ce(k(t))(r,s);return R(cr(i,o,t),o,n)}case"uniqueLimit":{const r=e.limit,n=e.n,i=e.group,a=(e,t)=>{if("object"===e.kind){const r=[...e.value.keys(),...t.keys()],i=new Set(r);return i.size>=n?g:m(i)}return g},s=kt(new Set,i,a,t),o=ce(k(t))(r,s);return V(cr(i,o,t),o,n)}}}function lr(e,t){return(r,n)=>rr.extend(e,((e,r)=>Q(t(e,r))),r,n)}function pr(e,t){return sr("append",e,t)}function fr(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(((e,t)=>Object.assign(Object.assign({},e),t)),{})}d((function(e){return 0===e.length}));function dr(e,t){const r=Object.keys(e),n=r.length,i={};for(let a=0;a<n;a++){const n=r[a],s=t(n,e[n]);j(s)&&(i[n]=s.value)}return i}const gr=e=>t=>{if("number"==typeof t)return t;if("string"==typeof t){const r=e(t);return Number.isNaN(r)?void 0:r}};gr(parseInt),gr(parseFloat);function mr(e){var t;return["SegmentEntry","SegmentExit"].includes(e.name)&&void 0!==(null===(t=e.properties)||void 0===t?void 0:t.segment_number)}const _r="process";let yr=!1,hr=[],vr=!1;const wr={};let br={getCurrentTime:()=>new Date,getCurrentSession:()=>"",getCurrentView:()=>"",getSegments:()=>({}),get1PSegments:()=>({}),get3PSegments:()=>({}),getSegmentsArray:()=>({}),getLookalikeModels:()=>({}),setSegmentActivation:()=>{}};const kr=()=>{const e=jr.concat(br.get1PSegments(),br.get3PSegments()),t=Er(e);br.getSegments=()=>e,br.getSegmentsArray=()=>t};function Sr(e,t,r,n,i,s,o){yr=!1,hr=[],vr=!1;const c=a(n.thirdPartydata,T((()=>n.segments),(e=>jr.concat(n.segments,e)))),u=Er(c);br={getCurrentTime:()=>new Date,getCurrentSession:()=>n.sessionId,getCurrentView:()=>n.viewId,get1PSegments:()=>n.segments,get3PSegments:()=>a(n.thirdPartydata,D((()=>({})))),getSegments:()=>c,getSegmentsArray:()=>u,getLookalikeModels:()=>a(n.lookalikeModels,D((()=>({})))),setSegmentActivation:(e,t)=>{}},vr=j(n.lookalikeModels),yr=j(n.thirdPartydata);const l=dr(t,((t,r)=>{var n;return(null===(n=e[t])||void 0===n?void 0:n.checksum)===r?g:m(((e,t)=>{const r=s[e].interpret(null,br);return Object.assign({checksum:t},!1===r.result?{}:{result:r})})(t,r))}));if(0===i.length)return{diff:Object.assign(Object.assign({},e),l),errors:[]};if(0===Object.keys(l).length)return{diff:e,errors:[]};{const n=Ar(l,t,r,i,"bootstrap",s,o);return{diff:Object.assign(Object.assign({},e),n.diff),errors:n.errors}}}function qr(e,t,r,n,i,a){(e=>{const t=Object.assign({},e);delete t["1p"],br.get3PSegments=()=>t})(n),kr(),br.setSegmentActivation=Ir(e,t),yr=!0;const s=Ar(e,t,r,hr.length>0?hr:[wr],"updateTPD",i,a);return hr=[],s}function Ar(e,t,r,n,i,a,s){let o={diff:{},errors:[]};const c=n.length,u=()=>n.filter((e=>{return t=s["!UpdateLookalikeModels"]||[],mr(r=e)&&t.includes(r.properties.segment_number.toString());var t,r})).length===n.length?"lookalikeTransition":"transition",l=(e,t,r)=>"transition"===e?r===t-1?u():"event":e;for(let u=0;u<c;u++){const p=n[u],f=l(i,c,u),d=xr(Object.assign(Object.assign({},e),o.diff),t,r,p,f,a,s);o={diff:Object.assign(Object.assign({},o.diff),d.diff),errors:o.errors.concat(d.errors)}}return o}function xr(e,t,s,o,c,u,l){var p;"bootstrap"!==c&&(br.setSegmentActivation=Ir(e,t));const f=N,d=(e,t)=>{const c=u[e],l=c.lift(o,br),p=n(It,yt(f)),d=p(t.state||null),g=p(l),m=a(ht((()=>pr(d,g)),M),_t((e=>{throw M(`Failed to append lifted event ${At(g)} to internal state ${At(d)}. Got ${e}`)}))),y=a(s[e],_(Boolean),S(p)),[h,v]=a(y,B((()=>i(m,!1)),(e=>a(ht((()=>i(pr(m,e),!1)),r),yt((()=>i(m,!0))))))),w=xt(m),b=c.interpret(xt(h),br),k=t.activations||{};return Object.assign(Object.assign(Object.assign(Object.assign({checksum:t.checksum},null===w?{}:{state:w}),!1===b.result?{}:{result:b}),0===Object.keys(k).length?{}:{activations:k}),!1===v?{}:{dropExternalState:v})},g={diff:{},errors:[]},m=function(e,t,r,n,i){switch(e){case"event":const e=(null==i?void 0:i[n.name])||[];if(yr)return e;{hr.push(n);const t=[...i["!UpdateSecondPartyData"]||[],...i["!UpdateThirdPartyData"]||[]];return Ke(ue)(e,t)}case"lookalikeTransition":return(null==i?void 0:i[n.name])||[];case"transition":const a=(null==i?void 0:i[n.name])||[];if(vr){const e=i["!UpdateLookalikeModels"]||[];return a.concat(e)}return a;case"bootstrap":const s=((null==i?void 0:i[n.name])||[]).filter((e=>void 0!==t[e]));return Ke(ue)(s,[...yr?[]:(i["!UpdateSecondPartyData"]||[]).concat(i["!UpdateThirdPartyData"]||[]),...vr?[]:i["!UpdateLookalikeModels"]||[]]);case"updateExternalState":return Object.keys(r);case"updateLAL":return i["!UpdateLookalikeModels"]||[];case"updateTPD":return[...i["!UpdateSecondPartyData"]||[],...i["!UpdateThirdPartyData"]||[]];default:return[]}}(c,e,s,o,l),y=m.length;!function(e){mr(e)&&((e=>{const t=br.get1PSegments(),r={"1p":Object.assign(Object.assign({},t["1p"]),e["1p"])};br.get1PSegments=()=>r})({"1p":{[e.properties.segment_number]:"SegmentEntry"===e.name}}),kr())}(o);for(let r=0;r<y;r++){const n=m[r],i=e[n]||{checksum:t[n]};let a=i;try{a=d(n,i)}catch(e){g.errors.push(`Failed to interpret query ${n}. Got ${e}`)}a.dropExternalState&&(null!==(p=g.externalStateToDrop)&&void 0!==p||(g.externalStateToDrop={}),g.externalStateToDrop[n]=!0),g.diff[n]=a}return g}function Ir(e,t){return(r,n,i)=>{if(!(i in e)){const r=t[i];if(void 0===r)throw new Error("Checksum not in internalStateMap");e[i]={checksum:r}}"activations"in e[i]||(e[i].activations={});const a=e[i].activations;r in a||(a[r]=[]);const s=a[r];s.includes(n)||(a[r]=[...s,n])}}function Er(e){return Object.keys(e).reduce(((t,r)=>{const n=Object.keys(e[r]),i=[];return n.forEach((t=>{!0===e[r][t]&&i.push(t)})),t[r]=i,t}),{})}const jr={empty:{},concat:(e,t)=>{const r=Object.assign({},e);for(const[e,n]of Object.entries(t))r[e]?r[e]=fr(r[e],n):r[e]=n;return r}};const zr=(e,t)=>{const r=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return[e.stateMap,...e.payload,...n,t.rawQueries,t.queriesByEvent]};return"bootstrap"===e.type?Sr(...r(e)):"updateLAL"===e.type?function(e,t,r,n,i,a){return br.getLookalikeModels=()=>n,vr=!0,xr(e,t,r,wr,"updateLAL",i,a)}(...r(e)):"updateTPD"===e.type?qr(...r(e)):"updateExternalState"===e.type?function(e,t,r,n,i){return xr(e,t,r,wr,"updateExternalState",n,i)}(...r(e)):e.type===_r?Ar(...r(e,"event")):"processTransitions"===e.type?function(e,t,r,n,i,a){return Ar(e,t,r,n,"transition",i,a)}(...r(e)):{diff:{},errors:[]}};var Or;Or="bun",self["_____"+"sourceCodeRuntime"]=Or;const Tr=function(e){let t=g;const r=D((()=>{const r=e();return t=m(r),r}));return()=>r(t)}((function(){var e;(()=>{var t={234:function(e,t,c){var u=this&&this.__assign||function(){return u=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},u.apply(this,arguments)},l=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},p=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return s},f=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.env=void 0;var g=d(c(783)),m=d(c(269));t.env=function(){function e(e){return"number"==typeof e?r[e]:e}function t(e){return"number"==typeof e?n[e]:e}function c(e){return"number"==typeof e?i[e]:e}function d(e){switch(e.length){case 0:return null;case 1:return e[0];default:return e}}function _(e,t,r){void 0===r&&(r=v);var n=c(t).reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e);return null===n?null:r(n)}function y(e,t){var r=c(t).slice();return r.unshift(e),r}function h(e,t,r){return void 0===r&&(r=v),_(e,y("properties",t),r)}var v=function(e){return e},w=function(e){return!0};function b(e,t){return function(r){for(var n=0;n<e.length;n++){if((e[n](r)||!1)===t)return t}return!t}}function k(e){return b(e,!0)}function S(e){return b(e,!1)}var q=function(e){return function(t){return!e(t)}},A=function(e,t){return function(r){return r>=e&&r<=t}},x=function(e){return new Date(e).getTime()},I=function(e){return _(e,["time"],x)},E=function(e,t){return _(t,e,x)},j=function(e,t,r,n,i,a){return function(s){var o=_(s,e,(function(e){return e.filter(n).map((function(e){return _(e,t)})).reduce(i,a)}));return r(null===o?a:o)}};function z(e,t,r,n){var i,a;try{for(var s=l(e),o=s.next();!o.done;o=s.next()){var c=o.value;if(r(c)&&t(c)===n)return n}}catch(e){i={error:e}}finally{try{o&&!o.done&&(a=s.return)&&a.call(s)}finally{if(i)throw i.error}}return!n}var O=function(e){return function(r){return("string"==typeof e||"number"==typeof e)&&"string"==typeof r&&r.toLowerCase().indexOf(t(e).toLowerCase())>-1}},T=function(e){return function(t){return null!=t&&Array.isArray(t)&&t.indexOf(e)>=0}};function B(e,t,r,n,i){var a=_(e.getSegments(),[t,r])||!1;return i&&(n||a)&&e.setSegmentActivation(t,r,i),a}function D(e,t,r){return _(e.getSegments(),[t,r])||!1}function M(e,t,r){return void 0===r&&(r=18e5),function(n){return{a:{m:function(e,t){return[t[0],n.a.m(null!=e[0]&&e[0][0]===t[0][0]?e[1]:n.a.z,t[1])]},z:[[],n.a.z]},p:function(r,i){return[[e(r)],_(i,t)===e(r)?n.p(r,i):n.a.z]},r:function(t,r){return n.r(t,0!==r[0].length&&r[0][0]===e(t)?r[1]:n.a.z)},d:n.d.sq||{l:function(i,a){var s=_(i,t),o=e(a);if(s!==o)return null;var c=n.d.l(i,a);if(!(Array.isArray(c)&&c.length>1))return null;var u=p(c),l=u[0],f=u.slice(1),d=+(I(i)||a.getCurrentTime()),g=Math.floor(d/r),m={};return m[g]={},m[g][o]=1===f.length?f[0]:f,[l,"u",null,m]},i:function(t,r){if(!Array.isArray(t)||"object"!=typeof t[3])return[[],n.a.z];var i=e(r),a=t[3];return[[i],Object.keys(a).map((function(e){return a[e][i]})).filter((function(e){return e})).map((function(e){return n.d.i([t[0]].concat(e))})).reduce(n.a.m,n.a.z)]}}}}}var N=M((function(e){return e.getCurrentSession()}),["session_id"],18e5),C=M((function(e){return e.getCurrentView()}),["view_id"],3e5);function L(t,r,n,i){return void 0===i&&(i=1),{a:{m:function(e,t){return e.concat(t).slice(-n)},z:[]},p:function(n,i){return _(i,["name"])===e(r)?[t.p(n,i)]:[]},r:function(e,r){return t.r(e,r.reduce((function(e,r){return t.a.m(e,r)}),t.a.z))},d:t.d.ftn||{l:function(e,r){var a,s=t.d.l(e,r),o=_(e,["time"],x)*i;return s&&[s[0],"x"+n,null,(a={},a[o]=2==s.length?s[1]:s.slice(1),a)]},i:function(e,r){return e?Object.keys(e[3]||{}).sort().reverse().map((function(t){return Array.isArray(t)?f([e[0]],p(e[3][t]),!1):[e[0],e[3][t]]})).map((function(e){return t.d.i(e,r)})):[]}}}}var P=function(e,t){return null===e?null==t?null:{b:t}:null==t?{a:e}:{a:e,b:t}},X=function(e,t){return e&&t?e(t):null},F=function(e,t,r){if(r&&r.result&&Array.isArray(r.result)){var n=X(e.d&&e.d.m,{result:r.result[0]}),i=X(t.d&&t.d.m,{result:r.result[1]});return P(n,i)}return null};var G=function(e){return function(t){function r(e){for(var t=e[0],r=1;r<e.length;r++)t=[t,e[r]];return t}function n(e){for(var r=e,n=Array(t.length),i=t.length-1;i>0;i--)n[i]=r[1],r=r[0];return n[0]=r,n}return{p:function(e,n){return r(t.map((function(t){return t.p(e,n)})))},r:function(r,i){var a=n(i);return e(t.map((function(e,t){return function(){return e.r(r,a[t])}})))({})},a:{z:r(t.map((function(e){return e.a.z}))),m:function(e,i){var a=n(e),s=n(i);var o=t.map((function(e,t){return function(e,t,r){return null===t?r:null===r?t:e.a.m(t,r)}(e,a[t],s[t])}));return r(o)}},d:{l:function(e,r){return function(e){for(var t=e[0],r=1;r<e.length;r++){var n=e[r],i=t;t={},null!==i&&(t.a=i),null!==n&&(t.b=n)}return t}(t.map((function(t){return t.d.l(e,r)})))},i:function(e,n){return function(e,n){for(var i=e,a=t.map((function(e){return e.a.z})),s=function(e,r){return t[e].d.i(r,n)},o=t.length-1;o>0&&i;o--)i.b&&(a[o]=s(o,i.b)),i.a&&1===o&&(a[0]=s(0,i.a)),i=i.a;return r(a)}(e,n)}}}}},Q=G(k),U=G(S);function H(e,t){var r=a[e];if(!t||!r)return!1;if(!r.length)return!0;for(var n=0,i=!1,s=function(e){for(var t=[],r=0;r<e.length;++r){var n=e.charCodeAt(r);if(n>=55296&&n<=56319){var i=e.charCodeAt(r+1);if(i>=56320&&i<=57343){t.push(e.slice(r,r+2)),++r;continue}}t.push(e.charAt(r))}return t}(t.toLowerCase()),o=0;o<s.length;o++){for(var c=s[o];n>0&&!r[n][c];)n=r[n].su?r[n].su:0;if(r[n][c]&&(i=!!r[n=r[n][c]].te))break}return i}var W=function(e){return(0,g.default)(e).toString(m.default).slice(0,8)},R=function(e,t){var r,n,i=W(e);if(0===t.length)return!1;if(t[0]===i)return!0;for(var a=0,s=t.length,o=!1;(o=(r=t[n=a+(s-a>>1)])!==i)&&(r<i?a=n:s=n,!(a>=s-1)););return!o},V=function(e,t){return function(r){return R(_(r,e),t)}},J=function(e,t){return function(r){return R(h(r,e),t)}};return{q:function(e){return{lift:function(t,r){return e.d.l(t,r)},interpret:function(t,r){return function(t,r){return{result:e.r(t,r)}}(r,e.d.i(t,r))},migrate:function(t){return t&&e.d.m?e.d.m(t):null},m:e.a.m,z:e.a.z,p:e.p,r:e.r,i:e.d.i}},a:S,acq:function(e,t){return{p:function(r,n){return[e.p(r,n),t.p(r,n)]},r:function(r,n){return e.r(r,n[0])&&t.r(r,n[1])},a:{z:[e.a.z,t.a.z],m:function(r,n){return[e.a.m(r[0],n[0]),t.a.m(r[1],n[1])]}},d:{l:function(r,n){return P(e.d.l(r,n),t.d.l(r,n))},i:function(r,n){return r?[e.d.i(r.a||null,n),t.d.i(r.b||null,n)]:[e.a.z,t.a.z]},m:function(r){return F(e,t,r)}}}},acqs:U,acs:H,acs_:function(e,t){return function(r){return H(t,_(r,e))}},af_i:function(e,t,r){return void 0===r&&(r=w),function(n){return _(n,e,(function(e){return z(e,t,r,!1)}))&&!0}},af_l:function(e,t,r){return void 0===r&&(r=w),function(n){var i=_(n,e,(function(e){return e.filter(r).length}));return t(null===i?0:i)}},af_m:function(e,t,r,n){return void 0===n&&(n=w),function(i){var a=_(i,e,(function(e){return e.filter(n)}));return null===a||0===a.length?r(0):r(a.map((function(e){return _(e,t)})).reduce((function(e,t){return e+t}),0)/a.length)}},af_n:function(e,t,r,n){return void 0===n&&(n=w),j(e,t,r,n,(function(e,t){return Math.min(e,t)}),Number.POSITIVE_INFINITY)},af_p:function(e,t,r,n){return void 0===n&&(n=w),j(e,t,r,n,(function(e,t){return e*t}),1)},af_s:function(e,t,r,n){return void 0===n&&(n=w),j(e,t,r,n,(function(e,t){return e+t}),0)},af_u:function(e,t,r){return void 0===r&&(r=w),function(n){return _(n,e,(function(e){return z(e,t,r,!0)}))||!1}},af_x:function(e,t,r,n){return void 0===n&&(n=w),j(e,t,r,n,(function(e,t){return Math.max(e,t)}),Number.NEGATIVE_INFINITY)},as:function(e,t,r){var n=y("properties",t);return function(t){for(var i=_(t,n),a=r.length,s=!0,o=0;o<a;o++){var c=r[o];if(!(s=e(c)(i)))break}return s}},c:T,c_:function(e,t){return function(r){return T(t)(_(r,e))}},cl_:function(e,r){return function(n){return T(t(r))(_(n,e))}},cx:function(e){return function(r){return T(t(e))(r)}},ctu:function(t,r,n,i){return{a:i?{m:function(e,t){return e.filter((function(e){return-1===t.indexOf(e)})).concat(t).slice(-i)},z:[]}:{m:function(e,t){return e.filter((function(e){return-1===t.indexOf(e)})).concat(t)},z:[]},p:function(i,a){return _(a,["name"])===e(t)&&r(a)?_(a,n):[]},r:function(e,t){return t},d:{l:function(){return null},i:function(){return[]}}}},ctv:function(t,r,n,i){function a(e,t){var r,n=function(e){return{k:e.k,c:1+e.c}},i={arr:[],add:{k:t,c:1}};return t?(r=e.reduce((function(e,t){return e.add.k===t.k?{arr:e.arr,add:n(t)}:{arr:e.arr.concat(t),add:e.add}}),i)).arr.concat(r.add):e}return{a:i?{m:function(e,t){return a(e,t).slice(-i)},z:[]}:{m:function(e,t){return a(e,t)},z:[]},p:function(i,a){return _(a,["name"])===e(t)&&r(a)?_(a,n):null},r:function(e,t){return t.reduce((function(e,t){var r;return u(u({},e),((r={})[t.k]=t.c,r))}),{})},d:{l:function(e){return null},i:function(e){return[]}}}},ctw:function(t,r,n,i){return{a:i?{m:function(e,t){return e.concat(t).slice(-i)},z:[]}:{m:function(e,t){return e.concat(t)},z:[]},p:function(i,a){return _(a,["name"])===e(t)&&r(a)?_(a,n):[]},r:function(e,t){return t},d:{l:function(){return null},i:function(){return[]}}}},cw:function(t,r,n){return void 0===n&&(n=v),{a:{m:function(e,t){return e+t},z:0},p:function(n,i){return _(i,["name"])===e(t)&&r(i)?1:0},r:function(e,t){return n(t)},d:{l:function(n){return _(n,["name"])===e(t)&&r(n)?["p",1]:null},i:function(e){return e?Array.isArray(e)?e.slice(-1)[0]:e:0},m:function(e){return e&&e.result?["p",e.result]:null}}}},cb:function(t,r,n,i){return{a:{m:function(e,t){return Math.min(e+t,i)},z:0},p:function(n,i){return _(i,["name"])===e(t)&&r(i)?1:0},r:function(e,t){return n(t)},d:{l:function(n){return _(n,["name"])===e(t)&&r(n)?["b".concat(i,"p"),1]:null},i:function(e){return e?Array.isArray(e)?e.slice(-1)[0]:e:0},m:function(e){return e&&e.result?["b".concat(i,"p"),Math.min(i,e.result)]:null}}}},e:function(e){return function(t){return t===e}},e_:function(e,t){return function(r){return _(r,e)===t}},fm:function(e,t){return{p:t.p,r:function(r,n){return e(t.r(r,n))},a:t.a,d:t.d}},frontDecode:function(e){var t=e.split("\\t");if(0===t.length)return[];var r=t[0],n=new Array(Math.ceil(t.length/2));n[0]=t[0];for(var i=1;i<t.length/2;i+=1){var a=t[2*i-1],s=t[2*i];if(""===a)r=s;else{var o=parseInt(a);r=r.slice(0,o)+s}n[i]=r}return n},ftn:function(t,r,n){return{a:{m:function(e,t){return e.concat(t.slice(0,n-e.length))},z:[]},p:function(n,i){return _(i,["name"])===e(r)?[t.p(n,i)]:[]},r:function(e,r){return t.r(e,r.reduce((function(e,r){return t.a.m(e,r)}),t.a.z))},d:L(t,r,n,-1).d}},fw:function(t,r,n,i){return void 0===i&&(i=v),{a:{m:function(e,t){return null===e?t:e},z:null},p:function(i,a){return _(a,["name"])===e(t)&&r(a)?_(a,n):null},r:function(e,t){return t},d:{l:function(n){return _(n,["name"])===e(t)&&r(n)?["p",1]:null},i:function(e){return e?Array.isArray(e)?e.slice(-1)[0]:e:0},m:function(e){return e&&e.result?["p",e.result]:null}}}},g:function(e){return function(t){return t>e}},g_:function(e,t){return function(r){return _(r,e)>t}},gb:function(e,t,r){return{a:{m:function(r,n){var i=Object.keys(r).concat(Object.keys(n)).filter((function(e,t,r){return r.indexOf(e)===t})).sort((function(e,t){return Math.max(_(r,[t,1]),_(n,[t,1]))-Math.max(_(r,[e,1]),_(n,[e,1]))})).slice(0,t).reduce((function(t,i){var a=e.a.m(_(r,[i,0])||e.a.z,_(n,[i,0])||e.a.z);return t[i]=[a,Math.max(_(r,[i,1]),_(n,[i,1]))],t}),{});return i},z:{}},p:function(t,n){var i,a,s=_(n,y("properties",r)),o=e.p(t,n);return null==s||(null==(a=o)||"object"==typeof a&&0===Object.keys(a).length||a===e.a.z)?{}:((i={})[s]=[o,_(n,["time"],x)],i)},r:function(t,r){var n={};return Object.keys(r).forEach((function(i){return n[i]=e.r(t,r[i][0])})),n},d:{l:function(){return null},i:function(){return{}}}}},ge:function(e){return function(t){return t>=e}},ge_:function(e,t){return function(r){return _(r,e)>=t}},bse:function(e,t){return function(r){var n=_(r,e);return W(n)===t}},bsne:function(e,t){return function(r){var n=_(r,e);return W(n)!==t}},bsc:V,bsnc:function(e,t){return q(V(e,t))},bsc_:J,bsnc_:function(e,t){return q(J(e,t))},i_:v,ifp:function(e){return{a:{m:function(e,t){return t},z:null},p:function(e){return null},r:function(t,r){return function(t){return D(t,"1p",e)}(t)},d:{l:function(e,t){return null},i:function(e){return null}}}},isp:function(e,t,r,n){return{a:{m:function(e,t){return t},z:!1},p:function(r,n){return D(r,e,t)},r:function(i,a){return B(i,e,t,r,n)},d:{l:function(e,t){return null},i:function(e){return Array.isArray(e)&&(!!+e[2]||!1)}}}},itp:function(e,t,r,n){return{a:{m:function(e,t){return t},z:!1},p:function(r,n){return D(r,e,t)},r:function(i,a){return B(i,e,t,r,n)},d:{l:function(e,t){return null},i:function(e){return Array.isArray(e)&&(!!+e[2]||!1)}}}},k:_,l:function(e){return function(t){return t<e}},l_:function(e,t){return function(r){var n=_(r,e);return null!==n&&n<t}},le:function(e){return function(t){return t<=e}},le_:function(e,t){return function(r){var n=_(r,e);return null!==n&&n<=t}},lm:function(e,t){var r=function(t){return function(e,t,r){if(void 0===t[r])return NaN;var n=e||{};if(0==(n["1p"]||[]).length)return NaN;var i,a=t[r]||{},s=(a["1p"]||{}).const||0;return Object.keys(n).forEach((function(e){n[e].forEach((function(t){var r=(a[e]||{})[t]||0;s+=r}))})),i=s,1/(1+Math.pow(Math.E,-i))}(t.getSegmentsArray(),t.getLookalikeModels(),e)};return{a:{m:function(e,t){return t},z:null},p:function(e){return null},r:function(e,n){return t(r(e))},d:{l:function(e,t){return null},i:function(e){return null}}}},ltn:L,mnw:function(t,r,n,i){void 0===i&&(i=v);var a=Number.POSITIVE_INFINITY;return{a:{m:function(e,t){return e<t?e:t},z:a},p:function(i,s){return _(s,["name"])===e(t)&&r(s)?_(s,n):a},r:function(e,t){return i(t)},d:{l:function(i){return _(i,["name"])===e(t)&&r(i)?["n",_(i,n)]:null},i:function(e){return e?Array.isArray(e)?e.slice(-1)[0]:e:a}}}},mxw:function(t,r,n,i){void 0===i&&(i=v);var a=Number.NEGATIVE_INFINITY;return{a:{m:function(e,t){return e>t?e:t},z:a},p:function(i,s){return _(s,["name"])===e(t)&&r(s)?_(s,n):a},r:function(e,t){return i(t)},d:{l:function(i){return _(i,["name"])===e(t)&&r(i)?["v",_(i,n)]:null},i:function(e){return e?Array.isArray(e)?e.slice(-1)[0]:e:a}}}},n0:q(v),n:function(e){return function(t){return t!==e}},nt:q,n_:function(e,t){return function(r){return _(r,e)!==t}},o:k,ocq:function(e,t){return{p:function(r,n){return[e.p(r,n),t.p(r,n)]},r:function(r,n){return e.r(r,n[0])||t.r(r,n[1])},a:{z:[e.a.z,t.a.z],m:function(r,n){return[e.a.m(r[0],n[0]),t.a.m(r[1],n[1])]}},d:{l:function(r,n){return P(e.d.l(r,n),t.d.l(r,n))},i:function(r,n){return r?[e.d.i(r.a||null,n),t.d.i(r.b||null,n)]:[e.a.z,t.a.z]},m:function(r){return F(e,t,r)}}}},ocqs:Q,oe:function(e){for(var t=Object.keys(e),r=t.length,n=new Array(r);r--;)n[r]=[t[r],e[t[r]]];return n},os:function(e,t,r){var n=y("properties",t);return function(t){for(var i=_(t,n),a=r.length,s=!1,o=0;o<a;o++){var c=r[o];if(s=e(c)(i))break}return s}},pacs:function(e,t){return function(r){return H(t,h(r,e))}},pb:function(e,t,r){return function(n){return A(t,r)(h(n,e))}},pc:function(e,t){return function(r){var n=h(r,e);return null!=n&&Array.isArray(n)&&n.indexOf(t)>=0}},pc_:function(e,r){return function(n){var i=h(n,e),a=t(r);return null!=i&&Array.isArray(i)&&i.indexOf(a)>=0}},pe:function(e,t){return function(r){return h(r,e)===t}},pg:function(e,t){return function(r){return h(r,e)>t}},pge:function(e,t){return function(r){return h(r,e)>=t}},pl:function(e,t){return function(r){var n=h(r,e);return null!==n&&n<t}},ple:function(e,t){return function(r){var n=h(r,e);return null!==n&&n<=t}},pn:function(e,t){return function(r){return h(r,e)!==t}},ps:function(e,t){return function(r){return O(t)(h(r,e))}},pw:function(t,r,n,i){return void 0===i&&(i=v),{a:{m:function(e,t){return e*t},z:1},p:function(i,a){return _(a,["name"])===e(t)&&r(a)?_(a,n):1},r:function(e,t){return i(t)},d:{l:function(i){return _(i,["name"])===e(t)&&r(i)?(a=_(i,n))>=1?["m2p",a]:a>0?["m2p",null,1/a]:0==a?["m2p",0]:a>-1?["m2p",null,1/a,1]:["m2p",a,null,1]:null;var a},i:function(e){return e?Array.isArray(e)?0===(t=e.slice(1))[0]?0:Math.pow(-1,t[2]||0)*(t[0]||1)/(t[1]||1):e:1;var t}}}},r:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return o[e].apply(o,f([],p(t),!1))},ref:function(e){return function(t){return s[e](t)}},s:O,s_:function(e,t){return function(r){return O(t)(_(r,e))}},scq:function(e,t,r){return void 0===r&&(r=v),{p:function(r,n){return[e.p(r,n),t.p(r,n)]},r:function(n,i){return r(e.r(n,i[0])+t.r(n,i[1]))},a:{z:[e.a.z,t.a.z],m:function(r,n){return[e.a.m(r[0],n[0]),t.a.m(r[1],n[1])]}},d:{l:function(r,n){return P(e.d.l(r,n),t.d.l(r,n))},i:function(r,n){return r?[e.d.i(r.a||null,n),t.d.i(r.b||null,n)]:[e.a.z,t.a.z]},m:function(r){return F(e,t,r)}}}},sq:N,dscq:function(t,r,n,i){var a="x".concat(i),s=function(e){return e?2===e.length?["p",a,"",e[1]]:e:null},o=function(n){var i,s=function(e){return _(e,["session_id"])}(n);return s&&_(n,["name"])===e(t)&&r(n)?["p",a,"",(i={},i[s]=1,i)]:null};return{a:{m:function(e,t){var r=s(e),n=s(t);return r?n?["p",a,"",u(u({},r[3]),n[3])]:r:n},z:null},p:function(e,t){return o(t)},r:function(e,t){var r=t&&t[3]&&"object"==typeof t[3]?Object.keys(t[3]).length:0;return n(r)},d:{l:function(e,t){return o(e)},i:function(e,t){return s(e)}}}},sw:function(t,r,n,i){return void 0===i&&(i=v),{a:{m:function(e,t){return e+t},z:0},p:function(i,a){return _(a,["name"])===e(t)&&r(a)?_(a,n):0},r:function(e,t){return i(t)},d:{l:function(i){return function(n){return _(n,["name"])===e(t)&&r(n)}(i)?(a=_(i,n))<0?["p2",null,-a]:["p2",a]:null;var a},i:function(e){return e?Array.isArray(e)?((t="p2"===e[0]?e.slice(1):e)[0]||0)-(t[1]||0):e:0;var t}}}},t:w,tb:function(e,t){return function(r){return A(e,t)(I(r))}},te:function(e){return function(t){return I(t)===e}},te_:function(e,t){return function(r){return E(e,r)===t}},tg:function(e){return function(t){return I(t)>e}},tg_:function(e,t){return function(r){return E(e,r)>t}},tge:function(e){return function(t){return I(t)>=e}},tge_:function(e,t){return function(r){return E(e,r)>=t}},ti:x,tl:function(e){return function(t){return I(t)<e}},tl_:function(e,t){return function(r){return E(e,r)<t}},tle:function(e){return function(t){return I(t)<e}},tle_:function(e,t){return function(r){return E(e,r)<t}},tn:function(e){return function(t){return I(t)!==e}},tn_:function(e,t){return function(r){return E(e,r)!==t}},tw:function(e,t,r){var n=r||100,i=Math.ceil(t/n),a=function(e){return Math.floor(e/i)},s=function(e,r,n){var i;return[a(e.getTime()-t),(i={},i[a(r)]=n,i)]},o=function(t,r){var n=Math.max(t[0],r[0]),i=Object.keys(t[1]).filter((function(e){return e>=n})).concat(Object.keys(r[1]).filter((function(e){return e>=n}))).filter((function(e,t,r){return r.indexOf(e)===t})).reduce((function(n,i){var a=e.a.m(t[1][i]||e.a.z,r[1][i]||e.a.z);return a!==e.a.z&&(n[i]=a),n}),{});return[n,i]},c=[Number.NEGATIVE_INFINITY,{}],u=function(e){var t=function(t){return t.map((function(t){var r=p(t,3),n=r[0],i=(r[1],r[2]);return s(e.t,i,n)})).reduce(o,c)};return o(t(e.in),t(e.out))},l=function(t){if(void 0!==t.result)return l(t.result);if(void 0!==t.w)return l(u(t));var r=p(t,2),n=(r[0],r[1]),i=null,a={};for(var s in n){var o=e.d.m({result:n[s]});o&&Array.isArray(o)&&(i=o[0],a[s]=d(o.slice(1)))}return i&&[i,"w",t[0],a]};return{a:{m:function(e,t){var r=e.w?u(e):e;return o(r,t)},z:c},p:function(t,r){return s(t.getCurrentTime(),_(r,["time"],x),e.p(t,r))},r:function(t,r){var n=(r.w?u(r):r)[1];return e.r(t,Object.keys(n).reduce((function(t,r){return e.a.m(t,n[r])}),e.a.z))},d:e.d.tw||{l:function(t,r){var n=e.d.l(t,r),i=e.d.i(n,r);return n&&f([n[0],"w"],p(s(r.getCurrentTime(),_(t,["time"],x),i)),!1)},i:function(e,r){var n=Array.isArray(e)?e:[],i=r.getCurrentTime(),s=a(i.getTime()-t);return[n[2]||null,Object.keys(n[3]||{}).map((function(e){var t;return(t={})[e]=n[3][e],t})).reduce((function(e,t){return Object.keys(t).filter((function(e){return parseInt(e)>=s})).forEach((function(r){return e[r]=t[r]})),e}),{})]},m:e.d.m&&l}}},vgw:function(t,r,n,i){void 0===i&&(i=v);var a={v:0,k:0};return{a:{m:function(e,t){var r=e.k+t.k;return{v:r?e.v+t.k*(t.v-e.v)/r:0,k:r}},z:a},p:function(i,s){return _(s,["name"])===e(t)&&r(s)?{v:_(s,n),k:1}:a},r:function(e,t){return i(t.v)},d:{l:function(i){return _(i,["name"])===e(t)&&r(i)?0==(a=_(i,n))?["p3",1]:a<0?["p3",1,null,-a]:["p3",1,a]:null;var a},i:function(e){return e?Array.isArray(e)?{v:(((t=e.slice(1))[1]||0)-(t[2]||0))/(t[0]||1),k:t[0]||0}:void 0:a;var t}}}},vq:C,w:function(e){return function(r){return r===t(e)}},x:function(e){return function(r){return r!==t(e)}},y:function(e,t){return function(r){return h(r,e)===n[t]}},y_:function(e,t){return function(r){return _(r,e)===n[t]}},z:function(e,t){return function(r){return h(r,e)!==n[t]}},z_:function(e,t){return function(r){return _(r,e)!==n[t]}}}}()},249:function(e,t,r){var n;e.exports=(n=n||function(e,t){var n;if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==r.g&&r.g.crypto&&(n=r.g.crypto),!n)try{n=r(480)}catch(e){}var i=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),s={},o=s.lib={},c=o.Base={extend:function(e){var t=a(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},u=o.WordArray=c.extend({init:function(e,r){e=this.words=e||[],this.sigBytes=r!=t?r:4*e.length},toString:function(e){return(e||p).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,i=e.sigBytes;if(this.clamp(),n%4)for(var a=0;a<i;a++){var s=r[a>>>2]>>>24-a%4*8&255;t[n+a>>>2]|=s<<24-(n+a)%4*8}else for(var o=0;o<i;o+=4)t[n+o>>>2]=r[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],r=0;r<e;r+=4)t.push(i());return new u.init(t,e)}}),l=s.enc={},p=l.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var a=t[i>>>2]>>>24-i%4*8&255;n.push((a>>>4).toString(16)),n.push((15&a).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new u.init(r,t/2)}},f=l.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var a=t[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(a))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new u.init(r,t)}},d=l.Utf8={stringify:function(e){try{return decodeURIComponent(escape(f.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return f.parse(unescape(encodeURIComponent(e)))}},g=o.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r,n=this._data,i=n.words,a=n.sigBytes,s=this.blockSize,o=a/(4*s),c=(o=t?e.ceil(o):e.max((0|o)-this._minBufferSize,0))*s,l=e.min(4*c,a);if(c){for(var p=0;p<c;p+=s)this._doProcessBlock(i,p);r=i.splice(0,c),n.sigBytes-=l}return new u.init(r,l)},clone:function(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),m=(o.Hasher=g.extend({cfg:c.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new m.HMAC.init(e,r).finalize(t)}}}),s.algo={});return s}(Math),n)},269:function(e,t,r){var n;e.exports=(n=r(249),function(){var e=n,t=e.lib.WordArray;function r(e,r,n){for(var i=[],a=0,s=0;s<r;s++)if(s%4){var o=n[e.charCodeAt(s-1)]<<s%4*2|n[e.charCodeAt(s)]>>>6-s%4*2;i[a>>>2]|=o<<24-a%4*8,a++}return t.create(i,a)}e.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var i=[],a=0;a<r;a+=3)for(var s=(t[a>>>2]>>>24-a%4*8&255)<<16|(t[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|t[a+2>>>2]>>>24-(a+2)%4*8&255,o=0;o<4&&a+.75*o<r;o++)i.push(n.charAt(s>>>6*(3-o)&63));var c=n.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(e){var t=e.length,n=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var a=0;a<n.length;a++)i[n.charCodeAt(a)]=a}var s=n.charAt(64);if(s){var o=e.indexOf(s);-1!==o&&(t=o)}return r(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),n.enc.Base64)},783:function(e,t,r){var n,i,a,s,o,c,u,l;e.exports=(l=r(249),i=(n=l).lib,a=i.WordArray,s=i.Hasher,o=n.algo,c=[],u=o.SHA1=s.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],a=r[2],s=r[3],o=r[4],u=0;u<80;u++){if(u<16)c[u]=0|e[t+u];else{var l=c[u-3]^c[u-8]^c[u-14]^c[u-16];c[u]=l<<1|l>>>31}var p=(n<<5|n>>>27)+o+c[u];p+=u<20?1518500249+(i&a|~i&s):u<40?1859775393+(i^a^s):u<60?(i&a|i&s|a&s)-1894007588:(i^a^s)-899497514,o=s,s=a,a=i<<30|i>>>2,i=n,n=p}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+a|0,r[3]=r[3]+s|0,r[4]=r[4]+o|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}}),n.SHA1=s._createHelper(u),n.HmacSHA1=s._createHmacHelper(u),l.SHA1)},480:()=>{}},c={};function u(e){var r=c[e];if(void 0!==r)return r.exports;var n=c[e]={exports:{}};return t[e].call(n.exports,n,n.exports,u),n.exports}u.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}();var l=u(234);e=l.env})();var t={"!UpdateLookalikeModels":["179958","179960","180165","180166","180167","180168"],"!UpdateThirdPartyData":["164559","164612","164912","164913","164914","164915","165082","165083","165084","165085","165086","165087","165088","165089","165479","166523","166524","166525","171498","171502","171503","171504","171812","171814","171817","171818","171820","171821","171822","171823","171904","171905","171906","171908","171909","171910","171912","172119","172262","173051","173171","174528","174529","174530","174531","176048","176622","176623","176634","176635","177066","177537","179385","179982","180027","180102","180397","181348","181349","181356","182774","182775","182879","183186","183187","183189","183219","183222","183461","183464","183705","183707","183894","183901","184058","184060","184133","184501","184570","184699","185224","185226","185653","185846","186574"],LinkClick:["174428","174429"],Pageview:["146572","156237","156238","156668","156752","156753","158696","158699","158730","162748","162749","162750","162754","163265","163341","163719","164815","166234","167760","167761","167763","167764","167765","168207","168208","168209","168211","168213","168214","168217","168218","168220","168223","168224","168225","168226","168227","168228","168229","168230","168232","168237","168238","168239","169409","173758","173830","176061","176062","176063","176064","176065","176740","176741","176742","176743","176744","180096","180097","180098","180101","180609","180610","180611","180613","180614","180615","180617","180619","180621","181040","181041","181042","181043","181044","181045","181046","181047","181048","181049","181050","181051","181052","181053","181054","181055","181056","181057","181058","181059","181060","181061","181062","181063","181064","181065","181066","181067","181068","181069","181070","181071","181072","181073","181074","181075","181076","181077","181078","181079","181080","181081","181082","181083","181084","181085","181086","181087","181088","181089","181090","181091","181092","181093","181094","181095","181096","181097","181098","181099","181100","181101","181102","181103","181104","181105","181106","181107","181108","181109","181110","181111","181112","181113","181114","181115","181116","181117","181118","181119","181120","181121","181122","181123","181124","181125","181126","181127","181128","181129","181130","181131","181132","181133","181134","181135","181136","181137","181138","181139","181140","181141","181142","181143","181144","181145","181146","181147","181148","181149","181150","181151","181152","181153","181154","181155","181156","181157","181158","181159","181160","181161","181162","181163","181164","181165","181166","181167","181168","181169","181170","181171","181172","181173","181174","181175","181176","181177","181178","181179","181180","181181","181182","181183","181184","181185","181186","181187","181188","181189","181190","181191","181192","181193","181194","181195","181196","181197","181198","181199","181200","181201","181202","181203","181204","181205","181206","181207","181208","181209","181210","181211","181212","181213","181214","181215","181216","181217","181218","181219","181220","181221","181222","181223","181224","181225","181226","181227","181228","181229","181230","181231","181232","181233","181234","181235","181236","181237","181238","181239","181240","181241","181242","181243","181244","181245","181246","181247","181248","181249","181250","181251","181252","181253","181254","181255","181256","181257","181258","181259","181260","181261","181262","181263","181264","181265","181266","181267","181268","181269","181270","181271","181272","181273","181274","181275","181276","181277","181278","181279","181280","181281","181282","181283","181284","181285","181286","181287","181288","181289","181290","181291","181292","181293","181294","181295","181296","181297","181298","181299","181300","181301","181302","181303","181304","181305","181306","181307","181308","181309","181310","181311","181312","181313","181314","181315","181316","181317","181318","181319","181320","181321","181322","181323","181324","181325","181326","181327","181624","181629","181630","181631","181632","181634","181635","181636","181637","181638","181639","181640","181641","181642","181643","181644","181645","181646","181647","181648","181649","181650","181651","181652","181653","181654","181655","181656","181657","181658","181659","181660","181661","181662","181663","181664","181665","181666","181667","181668","181669","181670","181671","181672","181673","181674","181675","181676","181677","181678","181679","181680","181681","181682","181683","181684","181685","181686","181687","181688","181689","181690","181691","181692","181693","181694","181695","181696","181697","181698","181699","181700","181701","181702","181703","181705","181706","181707","181708","181709","181710","181711","181712","181713","181714","181715","181716","181717","181718","181719","181720","181721","181722","181723","181724","181725","181726","181727","181728","181729","181730","181731","181732","181733","181734","181735","181736","181737","181738","181739","181740","181741","181742","181743","181744","181745","181746","181747","181748","181749","181750","181751","181752","181753","181754","181755","181756","181757","181758","181759","181760","181761","181762","181763","181764","181765","181766","181767","181768","181769","181770","181771","181772","181773","181774","181775","181776","181777","181778","181779","181780","181781","181782","181783","181784","181785","181786","181787","181788","181789","181790","181791","181792","181793","181794","181795","181796","181797","181798","181799","181800","181801","181802","181803","181804","181805","181806","181807","181808","181809","181810","181811","181812","181813","181814","181815","181816","181817","181818","181819","181820","181821","181822","181823","181824","181825","181826","181827","181828","181829","181830","181831","181832","181833","181834","181835","181836","181837","181838","181839","181840","181841","181842","181843","181844","181845","181846","181847","181848","181849","181850","181851","181852","181853","181854","181855","181856","181857","181858","181859","181860","181861","181862","181863","181864","181865","181866","181867","181868","181869","181870","181871","181872","181873","181874","181875","181876","181877","181878","181879","181880","181881","181882","181883","181884","181885","181886","181887","181888","181889","181890","181891","181892","181893","181894","181895","181896","181897","181898","181899","181900","181901","181902","181903","181904","181905","181906","181907","181908","181909","181910","181911","181912","181913","181914","181915","181916","181917","181918","181919","181920","181921","181922","181923","181924","181925","181926","181927","181928","181929","181930","181931","181932","181933","181934","181935","181936","181937","181938","181939","181940","181941","181942","181943","181944","181945","181946","181947","181948","181949","181950","181951","181952","181953","181954","181955","181956","181958","181959","181960","181961","181962","181963","181964","181965","181966","181967","181968","181969","181970","181971","181972","181973","181974","181975","181976","181977","181978","181979","181980","181981","181982","181983","181984","181985","181986","181987","181988","181989","181990","181991","181992","181993","181994","181995","181996","181997","181998","181999","182000","182001","182002","182003","182004","182005","182006","182007","182008","182009","182010","182011","182012","182013","182014","182015","182016","182017","182018","182019","182020","182021","182022","182023","182024","182025","182026","182027","182028","182029","182030","182031","182032","182033","182034","182035","182036","182037","182038","182039","182040","182041","182042","182043","182044","182045","182046","182047","182048","182049","182050","182051","182052","182053","182054","182055","182056","182057","182058","182059","182060","182061","182062","182063","182064","182065","182066","182067","182068","182069","182070","182071","182072","182073","182074","182075","182076","182077","182078","182079","182080","182081","182082","182083","182084","182085","182086","182087","182088","182089","182090","182091","182092","182093","182094","182095","182096","182097","182098","182099","182100","182101","182102","182103","182104","182105","182106","182107","182108","182109","182110","182111","182112","182113","182114","182115","182116","182117","182118","182119","182120","182121","182122","182123","182124","182125","182126","182127","182128","182129","182130","182131","182132","182133","182134","182135","182136","182137","182138","182139","182140","182141","182142","182143","182144","182145","182146","182147","182148","182149","182150","182151","182152","182153","182154","182155","182156","182157","182158","182159","182160","182161","182162","182163","182164","182165","182166","182167","182168","182169","182170","182171","182172","182173","182174","182175","182176","182177","182178","182179","182180","182181","182182","182183","182184","182185","182186","182187","182188","182189","182190","182191","182192","182193","182194","182195","182196","182197","182198","182199","182200","182201","182202","182203","182204","182205","182206","182207","182208","182209","182210","182211","182212","182213","182214","182215","182216","182217","182218","182219","182220","182221","182222","182223","182224","182225","182226","182227","182228","182229","182230","182231","182232","182233","182234","182235","182236","182237","182238","182239","182240","182241","182242","182243","182244","182245","182246","182247","182248","182249","182250","182251","182252","182253","182254","182255","182256","182257","182258","182259","182260","182261","182262","182263","182264","182265","182266","182267","182268","182269","182270","182271","182272","182273","182274","182275","182276","182277","182278","182279","182280","182281","182282","182283","182284","182285","182286","182287","182288","182289","182290","182291","182292","182293","182294","182295","182296","182297","182298","182299","182300","182301","182302","182303","182304","182305","182306","182307","182308","182309","182310","182311","182312","182313","182314","182315","182316","182317","182318","182319","182320","182321","182322","182323","182324","182325","182326","182327","182328","182329","182330","182331","182332","182333","182334","182335","182336","182337","182338","182339","182340","182341","182342","182343","182344","182345","182346","182347","182348","182349","182350","182351","182352","182353","182354","182355","182356","182357","182358","182359","182360","182361","182362","182363","182364","182365","182366","182367","182368","182369","182370","182371","182372","182373","182374","182375","182376","182377","182378","182379","182380","182381","182382","182383","182384","182385","182386","182387","182388","182389","182390","182391","182392","182393","182394","182395","182396","182397","182398","182399","182400","182401","182402","182403","182404","182405","182406","182407","182408","182409","182410","182411","182412","182413","182414","182415","182416","182417","182418","182419","182420","182421","182422","182423","182424","182425","182426","182427","182428","182429","182430","182431","182432","182433","182434","182435","182436","182437","182438","182439","182440","182441","182442","182443","182444","182445","182446","182447","182448","182449","182450","182451","182452","182453","182454","182455","182456","182457","182458","182459","182460","182461","182462","182463","182464","182465","182466","182467","182468","182469","182470","182471","182472","182473","182474","182475","182476","182477","182478","182479","182480","182481","182482","182483","182484","182485","182486","182487","182488","182489","182490","182491","182492","182493","182494","182495","182496","182497","182498","182499","182500","182501","182502","182503","182504","182505","182506","182507","182508","182509","182510","182511","182512","182513","182514","182515","182516","182517","182518","182519","182520","182521","182522","182523","182524","182525","182526","182527","182528","182529","182530","182531","182532","182533","182534","182535","182536","182537","182538","182539","182540","182541","182542","182543","182544","182545","182546","182547","182548","182549","182550","182551","182552","182553","182554","182555","182556","182557","182558","182559","182560","182561","182562","182563","182564","182565","182566","182567","182568","182569","182570","182571","182572","182574","182575","182576","182577","182578","182579","182580","182581","182582","182583","182584","182585","182586","182587","182588","182589","182590","182591","182592","182593","182594","182595","182596","182597","182598","182599","182600","182601","182602","182603","182604","182605","182606","182607","182608","182609","182610","182611","182612","182613","182614","182615","182616","182617","182618","182619","182620","182621","182622","182623","182624","182625","182626","182627","182628","182629","182630","182631","182632","182633","182634","182635","182636","182637","182638","182639","182640","182641","182642","182643","182644","182645","182646","182647","182648","182649","182651","182652","182653","182654","182655","182656","182657","182658","182659","182660","182661","182662","182663","182664","182665","182666","182667","182668","182669","182670","182671","182672","182673","182674","182675","182676","182677","182678","182679","182680","182681","182682","182683","182684","182685","182686","182687","182688","183121","183124","183126","183127","183129","183130","183132","183133","183135","183138","183139","183140","183395","183396","183461","183791","184537","184615","184699","186151","186152","186153","186174","186175"],PageviewComplete:["183219","183222","183705","183707","183894","184537","184615","184699","186574"],SegmentEntry:["183219","183222","183705","183707","183894","184537","184615","184699","186574"],SegmentExit:[]},r=["Pageview","PageviewComplete","SegmentEntry","LinkClick"],n=e.frontDecode("/art and entertainment\\t22\\t/books and literature\\t43\\t/children\'s books\\t23\\tcelebrity fan and gossip\\t23\\tdance\\t23\\thumor\\t23\\tmovies\\t29\\t and tv\\t36\\t/children\'s\\t29\\t/film festivals and awards\\t24\\tusic\\t28\\t/recording industry/music awards\\t23\\tradio\\t23\\ttheatre\\t30\\t/theatre awards\\t23\\tvisual art and design\\t2\\tutomotive and vehicles\\t24\\t/auto parts\\t30\\trepair\\t25\\tbicycles and accessories\\t26\\toats and watercraft\\t26\\tuying and selling cars\\t25\\tcampers and rvs\\t27\\trs\\t26\\tertified pre-owned\\t26\\tommercial vehicles\\t25\\telectric vehicles\\t25\\tminivan\\t26\\totor shows\\t30\\tcycles\\t25\\toff-road vehicles\\t25\\troad-side assistance\\t25\\tscooters and mopeds\\t25\\tvehicle rental\\t1\\tbusiness and finance/business/green solutions\\t31\\tmarketing and advertising\\t31\\tstartups\\t14\\tindustrial\\t24\\t/advertising and marketing\\t26\\terospace and defense\\t25\\tbiomedical\\t26\\tusiness news\\t34\\toperations\\t44\\t/business plans\\t45\\thuman resources/compensation and benefits\\t45\\tmanagement/business process\\t34\\tsoftware\\t25\\tchemicals industry\\t26\\tompany/earnings\\t33\\tmerger and acquisition\\t27\\tnstruction\\t25\\tfashion industry\\t26\\tood industry\\t25\\tgreen solutions\\t25\\thospitality industry\\t25\\tiron and steel industry\\t25\\tlogistics\\t25\\tmanufacturing\\t26\\tetals\\t26\\tining industry\\t25\\tpaper industry\\t26\\tharmaceutical industry\\t26\\tublishing\\t25\\trecord company\\t25\\tshipbuilding\\t25\\ttanning\\t26\\textile industry\\t1\\tcareers\\t8\\t/career advice\\t16\\tplanning\\t9\\tjob fairs\\t13\\tsearch\\t9\\tnursing\\t9\\tresume writing and advice\\t9\\ttelecommuting\\t9\\tu.s. military\\t1\\teducation\\t10\\t/adult education\\t12\\tlumni and reunions\\t12\\trt history\\t11\\tdistance learning\\t11\\tenglish as a second language\\t11\\tgrade school\\t15\\tuate school\\t11\\thigh school\\t12\\tomeschooling\\t15\\twork and study tips\\t11\\tlanguage learning\\t11\\tschool\\t17\\t/private school\\t12\\tpecial education\\t12\\ttudying business\\t11\\tteaching and classroom resources/school supplies\\t2\\tvents and attractions/awards shows\\t1\\tfamily and parenting\\t21\\t/adoption\\t22\\tbabies and toddlers\\t41\\t/baby clothes\\t22\\tchildren\\t30\\t/daycare and preschool\\t22\\teldercare\\t22\\tmotherhood\\t32\\t/pregnancy\\t22\\tparenting teens\\t22\\tspecial needs kids\\t2\\tinance\\t8\\t/accounting and auditing\\t9\\tbank\\t9\\tfinancial news\\t9\\tinvesting\\t18\\t/funds\\t24\\t/exchange traded funds\\t25\\thedge fund\\t21\\ttures trading\\t19\\toptions\\t19\\tstocks\\t19\\tventure capital\\t2\\tood and drink\\t15\\t/barbecues and grilling\\t17\\teverages\\t16\\tcuisines\\t16\\tdesserts and baking\\t17\\tining out\\t16\\tfood allergies\\t16\\tgastronomy\\t16\\thealth and low-fat cooking\\t22\\ty eating\\t16\\tkosher food\\t16\\tvegan\\t19\\tetarian\\t1\\thealth and fitness\\t19\\t/addiction\\t21\\tging\\t21\\tlternative medicine\\t20\\tdental care\\t21\\tisease\\t23\\torders\\t21\\trugs\\t20\\texercise\\t20\\tincest and abuse support\\t20\\tmen\'s health\\t20\\tnutrition\\t20\\tsexuality\\t21\\tports medicine\\t20\\ttherapy\\t20\\tweight loss\\t21\\tomen\'s health\\t2\\tobbies and interests\\t22\\t/art and technology\\t26\\ts and crafts\\t24\\tstrology\\t23\\tbirdwatching\\t23\\tcigars\\t24\\tollecting\\t23\\tgetting published\\t24\\tuitar\\t23\\thome recording\\t23\\tinventors and patents\\t23\\tmagic and illusion\\t23\\tneedlework\\t23\\tparanormal phenomena\\t23\\treading\\t23\\tscrapbooking\\t3\\tme & garden/gardening\\t6\\tand garden\\t16\\t/appliances\\t17\\tenvironmental safety\\t17\\thome furnishings\\t22\\timprovement and repair\\t17\\tinterior decorating\\t17\\tlaundry\\t18\\tuxury homes\\t17\\tnursery and playroom\\t17\\tpest control\\t17\\tremodeling and construction\\t1\\tlaw, govt and politics\\t23\\t/commentary\\t24\\tespionage and intelligence\\t24\\tgovernment\\t34\\t/courts and judiciary\\t35\\texecutive branch\\t35\\tlegislative\\t24\\timmigration\\t24\\tlaw enforcement\\t25\\tegal issues\\t36\\t/legislation/family laws\\t24\\tpolitics\\t32\\t/domestic policy\\t33\\telections\\t33\\tlobbying\\t33\\tpolitical parties\\t1\\tmovies\\t1\\tnews\\t5\\t/international news\\t6\\tnational news\\t1\\tpets\\t5\\t/animal welfare\\t7\\tquariums\\t6\\tbirds\\t6\\tcats\\t6\\tdogs\\t6\\tlarge animals\\t6\\treptiles\\t6\\tzoo\\t2\\top culture\\t1\\treal estate\\t12\\t/apartments\\t14\\trchitects\\t13\\tbuying and selling homes\\t13\\tlow income housing\\t3\\tligion and spirituality\\t26\\t/atheism and agnosticism\\t27\\tbuddhism\\t27\\tchristianity\\t27\\thinduism\\t27\\tislam\\t27\\tjudaism\\t1\\tscience\\t8\\t/biology\\t9\\tchemistry\\t10\\tomputer science\\t25\\t/artificial intelligence\\t9\\tecology\\t10\\tngineering\\t9\\tgeography\\t12\\tlogy\\t9\\tmathematics\\t10\\tedicine\\t17\\t/medical research\\t9\\tphysics\\t9\\tsocial science\\t9\\tweather\\t2\\thopping\\t9\\t/auctions\\t10\\tclassifieds\\t10\\tgifts\\t10\\tresources\\t12\\ttail\\t10\\ttoys\\t2\\tociety\\t8\\t/crime\\t9\\tdating\\t9\\tgay life\\t9\\tracism\\t9\\tsenior living\\t11\\tx\\t9\\tteens\\t9\\tunrest and war\\t9\\twelfare\\t2\\tports\\t7\\t/archery\\t9\\tuto racing\\t8\\tbadminton\\t10\\tseball\\t11\\tketball\\t9\\ticycling\\t10\\tlliards\\t9\\toat racing\\t10\\tbsled\\t10\\tdybuilding\\t10\\twling\\t10\\txing\\t8\\tcanoeing and kayaking\\t9\\theerleading\\t9\\tlimbing\\t9\\tollege sports/college basketball\\t9\\tricket\\t9\\turling\\t8\\tdiving\\t9\\tog sled\\t8\\tfencing\\t9\\tishing\\t9\\tootball\\t8\\tgo kart\\t10\\tlf\\t9\\tymnastics\\t8\\thandball\\t9\\tockey\\t10\\trse racing\\t13\\ts\\t9\\tunting and shooting\\t8\\tmartial arts\\t9\\totorcycling\\t8\\tolympics\\t8\\tpaintball\\t10\\trachuting\\t9\\tolo\\t8\\trodeo\\t10\\twing\\t9\\tugby\\t10\\tnning and jogging\\t8\\tsailing\\t9\\tcuba diving\\t9\\tkateboarding\\t12\\ting\\t10\\tiing\\t9\\tnowboarding\\t9\\toccer\\t10\\tftball\\t9\\tports news\\t9\\turfing and bodyboarding\\t9\\twimming\\t8\\ttable tennis and ping-pong\\t9\\tennis\\t9\\trekking\\t8\\tvolleyball\\t8\\twakeboarding\\t10\\tlking\\t10\\tter polo\\t9\\teightlifting\\t9\\tindsurfing\\t9\\trestling\\t2\\ttyle and fashion\\t18\\t/accessories\\t19\\tbody art\\t19\\tclothing\\t19\\tfashion designers\\t20\\tootwear\\t19\\tjewelry\\t19\\tluxury goods\\t19\\tmen\'s fashion\\t19\\tswimwear\\t19\\tunderwear\\t1\\ttechnology and computing\\t25\\t/computer certification\\t36\\trime\\t35\\treviews\\t35\\tsecurity\\t43\\t/antivirus and malware\\t44\\tnetwork security\\t28\\tnsumer electronics\\t46\\t/game systems and consoles/nintendo\\t73\\tplaystation\\t73\\txbox\\t26\\tdata centers\\t26\\telectronic components\\t27\\tnterprise technology\\t26\\thardware\\t26\\tinternet technology\\t26\\tmp3 and midi\\t26\\tnetworking\\t26\\toperating systems\\t26\\tprogramming languages\\t26\\tsoftware\\t34\\t/databases\\t26\\ttech news\\t30\\tnical support\\t31\\tological innovation\\t2\\travel\\t7\\t/budget travel\\t10\\tsiness travel\\t8\\thoneymoons and getaways\\t10\\ttels\\t8\\ttourist destinations\\t9\\travel agencies\\t15\\tguides\\t14\\ting with kids\\t8\\tvacation rentals\\t\\tAP Top 25\\t9\\t College Football Poll\\t2\\tTop25\\t\\tCollege basketball\\t\\tFinance\\t7\\t & Business\\t6\\tial services\\t\\tHome\\t\\tInvestment management\\t\\tNFL\\t3\\t Football\\t\\tPersonal finance\\t\\tandroid\\t1\\tptop25\\t7\\tcollegefootballpoll\\t\\tcollege football\\t7\\tfootball\\t\\tfilm\\t4\\t reviews\\t4\\treviews\\t\\tios\\t\\tmovies\\t\\tnflfootball"),i=[["label"],["page_type"],["score"],["tags"],["segment_number"],["client","type"],["client","url"]],a=[],s=[e.af_u(["properties","classifications_watson","categories"],e.y_(0,338)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,50)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,311)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,134)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,52)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,4)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,278)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,240)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,286)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,309)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,306)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,54)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,294)),e.os(e.cx,3,[377,376,375,379]),e.af_u(["properties","classifications_watson","categories"],e.y_(0,56)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,12)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,202)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,96)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,292)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,222)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,332)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,352)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,211)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,238)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,147)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,303)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,123)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,98)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,267)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,70)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,223)),e.af_u(["properties","classifications_watson","categories"],e.o([e.y_(0,34),e.y_(0,53)])),e.af_u(["properties","classifications_watson","categories"],e.y_(0,302)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,10)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,84)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,248)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,85)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,39)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,24)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,121)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,237)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,16)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,301)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,213)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,355)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,274)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,333)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,242)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,245)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,5)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,251)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,58)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,195)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,152)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,312)),e.af_u(["properties","classifications_watson","categories"],e.o([e.s_(0,130),e.s_(0,228)])),e.af_u(["properties","classifications_watson","categories"],e.y_(0,104)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,268)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,250)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,166)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,224)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,207)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,173)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,356)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,226)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,129)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,253)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,297)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,57)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,145)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,155)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,296)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,91)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,90)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,107)),e.af_u(["properties","classifications_watson","categories"],e.o([e.y_(0,11),e.y_(0,9),e.y_(0,14),e.y_(0,93)])),e.af_u(["properties","classifications_watson","categories"],e.y_(0,349)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,95)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,67)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,299)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,205)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,130)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,281)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,158)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,321)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,163)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,139)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,275)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,313)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,63)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,94)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,117)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,78)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,19)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,269)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,150)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,186)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,266)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,273)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,258)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,327)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,218)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,87)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,159)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,125)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,73)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,295)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,26)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,154)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,178)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,183)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,233)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,136)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,30)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,21)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,262)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,291)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,357)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,200)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,252)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,53)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,171)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,249)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,280)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,197)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,317)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,15)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,264)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,148)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,342)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,229)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,31)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,175)),e.o([e.pc_(3,361),e.ref(173)]),e.af_u(["properties","classifications_watson","categories"],e.y_(0,36)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,65)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,46)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,284)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,271)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,345)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,216)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,244)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,276)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,331)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,75)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,324)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,220)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,305)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,322)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,109)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,161)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,316)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,319)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,290)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,341)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,215)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,124)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,212)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,241)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,23)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,285)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,196)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,307)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,64)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,25)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,243)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,298)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,133)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,193)),e.af_u(["properties","classifications_watson","categories"],e.o([e.y_(0,356),e.y_(0,185),e.y_(0,97),e.y_(0,102),e.y_(0,96),e.y_(0,103),e.y_(0,101),e.y_(0,95),e.y_(0,94),e.y_(0,2),e.y_(0,8),e.y_(0,99),e.y_(0,98),e.y_(0,86),e.y_(0,78),e.y_(0,89),e.y_(0,85),e.y_(0,84),e.y_(0,88),e.y_(0,92)])),e.af_u(["properties","classifications_watson","categories"],e.y_(0,160)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,293)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,343)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,265)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,47)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,208)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,272)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,162)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,217)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,32)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,60)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,66)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,51)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,246)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,141)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,219)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,1)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,170)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,261)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,131)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,308)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,116)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,323)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,300)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,260)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,82)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,3)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,277)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,310)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,0)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,234)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,168)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,169)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,214)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,80)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,184)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,77)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,206)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,348)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,119)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,326)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,235)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,232)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,18)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,227)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,128)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,142)),e.os(e.cx,3,[380,368,367]),e.af_u(["properties","classifications_watson","categories"],e.y_(0,204)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,270)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,334)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,176)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,288)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,346)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,140)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,83)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,315)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,20)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,118)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,28)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,287)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,351)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,100)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,172)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,156)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,143)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,203)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,289)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,108)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,62)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,182)),e.af_u(["properties","classifications_watson","categories"],e.o([e.y_(0,38),e.y_(0,35)])),e.af_u(["properties","classifications_watson","categories"],e.y_(0,330)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,127)),e.af_u(["properties","classifications_watson","categories"],e.g_(2,.8)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,257)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,40)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,33)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,353)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,17)),e.af_u(["properties","classifications_watson","categories"],e.o([e.y_(0,7),e.y_(0,6),e.y_(0,191)])),e.af_u(["properties","classifications_watson","categories"],e.y_(0,103)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,149)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,283)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,255)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,105)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,325)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,256)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,74)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,29)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,259)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,55)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,122)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,157)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,263)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,318)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,339)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,337)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,106)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,282)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,146)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,69)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,41)),e.os(e.cx,3,[362,363,366,369,364]),e.af_u(["properties","classifications_watson","categories"],e.y_(0,79)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,88)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,59)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,209)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,174)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,340)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,101)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,137)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,37)),e.af_u(["properties","classifications_watson","categories"],e.o([e.s_(0,120),e.s_(0,236),e.s_(0,348)])),e.af_u(["properties","classifications_watson","categories"],e.y_(0,177)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,350)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,13)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,247)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,192)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,126)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,135)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,314)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,304)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,210)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,239)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,76)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,199)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,167)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,42)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,22)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,68)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,254)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,71)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,279)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,151)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,165)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,225)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,81)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,164)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,230)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,201)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,138)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,231)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,61)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,86)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,72)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,194)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,335)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,198)),e.bsc_(6,["v9qxBh1n"]),e.af_u(["properties","classifications_watson","categories"],e.y_(0,354)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,27)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,347)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,153)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,144)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,132)),e.af_u(["properties","classifications_watson","categories"],e.y_(0,320))],o=[(t,r,n)=>e.q(e.acqs([t,e.ocqs(r),e.ocqs(n)])),(t,r)=>e.q(e.acqs([e.ocqs(r),t])),(t,r,n,i,a)=>e.q(e.acqs([e.ocqs([e.itp("eyeota","35878",!1,i),e.itp("liveramp_ShareThis","1006582421",!1,a)]),e.itp(t,r,!1,n)])),(t,r,n,i)=>e.q(e.cb(t,r,e.ge(i),n)),(t,r)=>e.q(e.cb(t,e.y(5,r),e.ge(1),1)),(t,r)=>e.q(e.cb(0,e.a([e.tge(17104608e5),e.tle(17127072e5),e.ref(133)]),e.ge(r),t)),(t,r)=>e.q(e.cb(0,e.a([e.tge(171072e7),e.tle(17160768e5),e.pc_(3,369)]),e.ge(r),t)),(t,r)=>e.q(e.cb(0,e.ref(319),e.ge(r),t)),t=>e.q(e.ocqs(t)),(t,r,n,i,a,s)=>e.q(e.ocqs([t,r,n,i,a,s])),(t,r,n,i,a,s,o,c,u,l,p,f,d,g,m,_,y,h,v,w,b,k,S,q,A,x,I,E,j,z)=>e.q(e.ocqs([t,r,n,e.itp(i,a,!1,s),e.itp(o,c,!1,u),e.itp(l,p,!1,f),e.itp(d,g,!1,m),e.itp(_,y,!1,h),e.itp(v,w,!1,b),e.itp(k,S,!1,q),e.itp(A,x,!1,I),e.itp(E,j,!1,z)])),(t,r,n)=>e.q(e.ocqs([e.lm(t,r),e.ifp(n)])),t=>e.q(e.ocqs([e.lm("ea70fe1f-5b0e-4154-b943-3e40e5028710",e.ge(t)),e.ifp("163265")])),(t,r,n,i,a,s,o,c,u,l,p,f,d,g,m,_,y,h,v,w,b,k,S,q,A,x,I,E,j,z,O,T,B,D,M,N,C,L,P,X,F,G,Q,U)=>e.q(e.ocqs([e.itp(t,r,n,i),e.itp(a,s,o,c),e.itp(u,l,p,f),e.itp(d,g,m,_),e.itp(y,h,v,w),e.itp(b,k,S,q),e.itp(A,x,I,E),e.itp(j,z,O,T),e.itp(B,D,M,N),e.itp(C,L,P,X),e.itp(F,G,Q,U)])),(t,r,n,i,a,s,o,c,u,l,p)=>e.q(e.ocqs([e.itp(t,r,!1,n),e.itp(i,a,s,o),e.itp(c,u,l,p)])),(t,r,n,i,a,s)=>e.q(e.ocqs([e.itp(t,r,!1,n),e.itp(i,a,!1,s)])),(t,r,n,i,a,s,o,c,u,l,p,f)=>e.q(e.ocqs([e.itp(t,r,!1,n),e.itp(i,a,!1,s),e.itp(o,c,!1,u),e.itp(l,p,!1,f)])),(t,r,n,i,a,s,o,c,u,l,p,f,d,g,m,_,y,h,v,w,b,k,S,q,A,x,I)=>e.q(e.ocqs([e.itp(t,r,!1,n),e.itp(i,a,!1,s),e.itp(o,c,!1,u),e.itp(l,p,!1,f),e.itp(d,g,!1,m),e.itp(_,y,!1,h),e.itp(v,w,!1,b),e.itp(k,S,!1,q),e.itp(A,x,!1,I)])),(t,r,n,i,a,s,o,c,u,l,p,f,d,g,m,_,y,h,v,w,b,k,S,q,A,x,I,E,j,z,O,T,B,D,M,N,C,L)=>e.q(e.ocqs([e.itp(t,r,!1,n),e.itp(i,a,!1,s),e.itp(o,c,!1,u),e.itp(l,p,!1,f),e.itp(d,g,!1,m),e.itp(_,y,!1,h),e.itp(v,w,!1,b),e.itp(k,S,!1,q),e.itp(A,x,!1,I),e.itp(E,j,!1,z),e.itp("liveramp_ShareThis",O,!1,T),e.itp(B,D,!1,M),e.itp(N,C,!1,L)])),(t,r,n,i,a,s,o,c,u,l,p)=>e.q(e.ocqs([e.itp(t,r,!1,n),e.itp("liveramp_AnalyticsIQ",i,!1,a),e.itp(s,o,!1,c),e.itp(u,l,!1,p)])),(t,r,n,i,a,s,o,c,u,l)=>e.q(e.ocqs([e.itp(t,r,!1,n),e.itp("liveramp_ShareThis",i,!1,a),e.itp(s,o,!1,c),e.itp("eyeota",u,!1,l)])),(t,r,n,i,a,s,o,c,u,l,p,f,d,g,m,_)=>e.q(e.ocqs([e.itp(t,r,!1,n),e.itp("liveramp_Stirista",i,!1,a),e.itp(s,o,!1,c),e.itp("liveramp_Stirista",u,!1,l),e.itp(p,f,!1,d),e.itp(g,m,!1,_)])),(t,r,n,i,a,s,o,c,u,l,p,f,d,g)=>e.q(e.ocqs([e.itp("eyeota",t,!1,r),e.itp(n,i,!1,a),e.itp(s,o,!1,c),e.itp(u,l,!1,p),e.itp(f,d,!1,g)])),(t,r,n,i)=>e.q(e.ocqs([e.itp("eyeota",t,!1,r),e.itp("eyeota",n,!1,i)])),(t,r,n,i,a,s)=>e.q(e.ocqs([e.itp("liveramp_Acxiom",t,!1,r),e.itp("liveramp_Acxiom",n,!1,i),e.itp("liveramp_Acxiom",a,!1,s)])),(t,r,n,i)=>e.q(e.ocqs([e.itp("liveramp_Acxiom",t,!1,r),e.itp("liveramp_Epsilon",n,!1,i)])),(t,r,n,i,a)=>e.q(e.ocqs([e.itp("liveramp_Bombora",t,!1,r),e.itp(n,i,!1,a)])),(t,r,n,i,a,s,o,c,u,l,p,f,d,g,m,_,y,h,v,w,b,k,S,q,A,x,I,E,j,z,O)=>e.q(e.ocqs([e.itp("liveramp_Bombora",t,!1,r),e.itp(n,i,!1,a),e.itp(s,o,!1,c),e.itp("liveramp_ShareThis",u,!1,l),e.itp(p,f,!1,d),e.itp(g,m,!1,_),e.itp(y,h,!1,v),e.itp(w,b,!1,k),e.itp(S,q,!1,A),e.itp(x,I,!1,E),e.itp(j,z,!1,O)])),(t,r,n,i,a,s,o)=>e.q(e.ocqs([e.tw(e.cb(i,a,s,o),t),e.tw(r,n)])),(t,r,n,i)=>e.q(e.ocqs([e.tw(e.cb(0,e.ref(13),e.ge(n),t),2592e6),e.tw(e.cb(0,e.ref(250),e.ge(i),r),2592e6)])),(t,r,n)=>e.q(e.itp(t,r,!1,n)),(t,r)=>e.q(e.itp("eyeota",t,!1,r)),(t,r)=>e.q(e.itp("liveramp_DunandBradstreet",t,!1,r)),(t,r)=>e.q(e.itp("liveramp_IXIDigital",t,!1,r)),(t,r)=>e.q(e.itp("liveramp_ShareThis",t,!1,r)),(t,r,n,i)=>e.q(e.tw(e.cb(0,r,e.ge(i),n),t)),t=>e.q(e.tw(e.cb(0,e.a([e.z(1,365),e.af_u(["properties","classifications_watson","categories"],e.e_(0,t)),e.ref(244)]),e.ge(1),1),7776e6)),t=>e.q(e.tw(e.cb(0,e.a([e.z(1,365),e.af_u(["properties","classifications_watson","categories"],e.y_(0,t)),e.ref(244)]),e.ge(1),1),7776e6)),t=>e.q(e.tw(e.cb(0,e.a([e.z(1,365),e.ref(t),e.ref(244)]),e.ge(1),1),7776e6)),t=>e.q(e.tw(e.cb(0,e.os(e.cx,3,t),e.ge(3),3),2592e6)),t=>e.q(e.tw(e.cb(0,e.os(e.cx,3,t),e.ge(3),3),5184e6)),(t,r,n,i)=>e.q(e.tw(e.cb(0,e.af_u(["properties","classifications_watson","categories"],e.o(i)),e.ge(n),r),t)),(t,r,n,i,a)=>e.q(e.tw(e.cb(0,e.af_u(["properties","classifications_watson","categories"],e.o([i,a])),e.ge(n),r),t)),t=>e.q(e.tw(e.cb(0,e.af_u(["properties","classifications_watson","categories"],e.e_(0,t)),e.ge(3),3),7776e6)),t=>e.q(e.tw(e.cb(0,e.ref(t),e.ge(1),1),24192e5)),t=>e.q(e.tw(e.cb(0,e.ref(t),e.ge(3),3),5184e6)),(t,r,n)=>e.q(e.tw(e.cb(0,e.ref(n),e.ge(r),t),2592e6)),(t,r,n,i)=>e.q(e.tw(e.cb(0,e.ref(i),e.ge(n),r),t)),(t,r)=>e.q(e.tw(e.cb(0,e.ref(75),e.ge(r),t),290304e5)),t=>e.q(e.tw(e.cb(0,e.pc_(3,t),e.ge(3),3),2592e6)),t=>e.q(e.tw(e.cb(0,e.pc_(3,t),e.ge(3),3),5184e6))];return{rawQueries:{146572:e.r(3,0,e.t,1,1),156237:e.r(35,2592e6,e.af_i(["properties","classifications_watson","categories"],e.o([e.s_(0,334),e.s_(0,336),e.s_(0,337),e.s_(0,338),e.s_(0,339),e.s_(0,341),e.s_(0,343),e.s_(0,345)])),1,1),156238:e.r(35,6048e5,e.t,3,3),156668:e.r(46,3,3,55),156752:e.r(46,3,3,283),156753:e.r(41,2592e6,3,3,[e.s_(0,107),e.s_(0,108),e.s_(0,109)]),158696:e.r(41,24192e5,3,3,[e.y_(0,179),e.y_(0,189),e.y_(0,180),e.y_(0,190),e.y_(0,187),e.y_(0,181),e.y_(0,188),e.y_(0,176),e.y_(0,186),e.y_(0,178),e.y_(0,175)]),158699:e.r(39,["climate and environment","climateandenvironment"]),158730:e.r(47,72576e5,1,1,169),162748:e.r(41,2592e6,3,3,[e.y_(0,323),e.y_(0,329),e.y_(0,334),e.y_(0,343),e.y_(0,337),e.y_(0,221),e.y_(0,338),e.y_(0,328),e.y_(0,336),e.y_(0,344),e.y_(0,341),e.y_(0,327),e.y_(0,345)]),162749:e.r(41,2592e6,3,3,[e.y_(0,49),e.y_(0,44),e.y_(0,45),e.y_(0,43),e.y_(0,42),e.e_(0,"/business and industrial/company"),e.y_(0,48)]),162750:e.r(41,2592e6,3,3,[e.y_(0,111),e.y_(0,113),e.y_(0,112),e.y_(0,114),e.y_(0,115),e.y_(0,110),e.y_(0,108),e.y_(0,109)]),162754:e.r(41,5184e6,1,1,[e.y_(0,115),e.y_(0,113),e.y_(0,111),e.y_(0,112),e.y_(0,110),e.y_(0,109)]),163265:e.r(35,145152e5,e.bsc_(["geo_info","city"],["+EUj/tXc","/Nra6gD5","0nxX83WV","21gpELpq","2VjO2myR","3ATuF7F+","3YFnjrjC","4E3LzXl5","4yKz6xGE","5VgC1sp+","8tS57HLN","9y66BpII","AGuMWQPS","An5Ijii6","ETePMr/i","GLCbOgw4","IAvQsOQk","JHEPIBTE","KNLhgn8C","KysX1GRV","LGo2zgz9","LNiSiLS7","N4Qezljo","NSO284DQ","RAcLEvn7","Tt2AQN2S","U8m/NZgK","Ug4bn6ay","WlQPEHku","WmrXUg2m","ZP2ktBCt","aNY43EJq","euZwSMXE","i48nnPzE","iHb62Goy","iWl456wG","lIMOnIfL","lX1nbiph","lrMAj/SD","n94rbGim","nlKs16rx","pAXVZAx1","pGe0slhE","q+DJAkre","qbuFjltd","soSyLJzC","t0RfIfia","t6InKZtw","tsvNdEWP","tx08VaiT","v7WLz0DK","wdG+UTNG","xpKCgWba","yoJ+KG/l"]),1,1),163341:e.r(45,41),163719:e.r(46,3,3,169),164559:e.r(34,"1005652221","164559"),164612:e.r(27,"1005389209","164612","liveramp_Bombora","1005387459","164612","liveramp_DunandBradstreet","1001203719","164612","1003623929","164612","liveramp_Acxiom","1005523759","164612","liveramp_Acxiom","1005523849","164612","liveramp_Acxiom","300129999","164612","liveramp_Acxiom","300049399","164612","liveramp_Acxiom","1005523809","164612","liveramp_Alliant","1002763376","164612","liveramp_Compass","1000040084","164612"),164815:e.r(47,145152e5,1,1,217),164912:e.q(e.ocqs([e.itp("eyeota","61",!1,"164912"),e.itp("liveramp_ShareThis","1005652221",!1,"164912"),e.itp("liveramp_MeritDirect","1002714166",!1,"164912"),e.itp("liveramp_DunandBradstreet","1000310916",!1,"164912")])),164913:e.r(19,"liveramp_AnalyticsIQ","1003514679","164913","1003514439","164913","liveramp_Bombora","1005390139","164913","liveramp_AnalyticsIQ","1000692606","164913"),164914:e.r(14,"liveramp_StatSocial","1006912891","164914","liveramp_Experian","1007229091",!1,"164914","liveramp_Bombora","1004558949",!1,"164914"),164915:e.r(26,"1005390219","164915","eyeota","34814","164915"),165082:e.r(0,e.ocqs([e.itp("eyeota","230",!1,"165082"),e.itp("eyeota","6677",!1,"165082"),e.itp("eyeota","35433",!1,"165082"),e.itp("eyeota","235",!1,"165082")]),[e.itp("liveramp_Alliant","1000847566",!1,"165082"),e.itp("liveramp_Alliant","1000850506",!1,"165082"),e.itp("liveramp_Epsilon","1000458736",!1,"165082"),e.itp("liveramp_Epsilon","1000458726",!1,"165082")],[e.itp("liveramp_AnalyticsIQ","1000692566",!1,"165082"),e.itp("liveramp_Epsilon","1003067456",!1,"165082"),e.itp("eyeota","12986",!1,"165082"),e.itp("liveramp_Alliant","1005075859",!1,"165082")]),165083:e.r(22,"230","165083","liveramp_Fluent","1006088421","165083","eyeota","35433","165083","liveramp_Alliant","1000850506","165083","liveramp_Alliant","1000847676","165083"),165084:e.r(16,"eyeota","6709","165084","eyeota","11210","165084","liveramp_StartApp","1003725059","165084","liveramp_IPSOS","1002977006","165084"),165085:e.r(27,"1005390119","165085","eyeota","34878","165085","eyeota","61","165085","1005652221","165085","liveramp_Bombora","1005389239","165085","liveramp_Bombora","1000093974","165085","liveramp_Bombora","1005389239","165085","eyeota","34879","165085","eyeota","34880","165085","liveramp_MeritDirect","1002714166","165085","liveramp_Bombora","1000096194","165085"),165086:e.r(26,"1004559069","165086","liveramp_Bombora","1005389239","165086"),165087:e.r(25,"1437","165087","1000459396","165087"),165088:e.r(25,"30007","165088","1000987229","165088"),165089:e.r(15,"liveramp_Epsilon","1000459436","165089","liveramp_ShareThis","1005132989","165089"),165479:e.r(23,"34919","165479","34817","165479"),166234:e.r(28,72576e5,e.cb(0,e.os(e.cx,3,["NFL football",368,367]),e.ge(3),3),72576e5,0,e.af_u(["properties","classifications_watson","categories"],e.o([e.e_(0,"/sports/american football"),e.y_(0,272)])),e.ge(2),2),166523:e.r(14,"eyeota","35073","166523","liveramp_DunandBradstreet","1000310076",!1,"166523","liveramp_Bombora","1000095194",!1,"166523"),166524:e.q(e.ocqs([e.itp("liveramp_ShareThis","1001011509",!1,"166524"),e.itp("eyeota","6549",!1,"166524"),e.itp("liveramp_Bombora","1005387449",!1,"166524"),e.itp("liveramp_ShareThis","1003624539",!1,"166524"),e.itp("liveramp_DunandBradstreet","1002782886",!1,"166524"),e.itp("liveramp_Acxiom","300144499",!1,"166524")])),166525:e.r(15,"liveramp_IXIDigital","1000096854","166525","liveramp_IXIDigital","1000096864","166525"),167760:e.r(39,[358,371,360,374,373,367,"football"]),167761:e.r(40,["APTop25CollegeFootballPoll",372,359,371,358,360]),167763:e.r(40,["AP Top 25 Womens College Basketball Poll","APTop25CollegeBasketballPoll","AP Top 25 College Basketball Poll","collegebasketball","College Basketball"]),167764:e.r(45,217),167765:e.r(40,[372,359,374,373]),168207:e.r(40,["Baseball History","MLB","baseball"]),168208:e.r(46,3,3,199),168209:e.r(46,3,3,122),168211:e.r(46,3,3,178),168213:e.r(39,["artificial intelligence","artificialintelligence"]),168214:e.r(39,["Indianapolis 500","Automobile racing","Auto Racing","IndyCar racing","Daytona 500","Formula One racing","Formula One","NASCAR racing","NASCAR","autoracing","auto racing"]),168217:e.r(40,["booksandliterature","books and literature"]),168218:e.r(49,"education"),168220:e.r(40,["electric vehicles","electricvehicles"]),168223:e.r(29,3,3,3,3),168224:e.r(39,["food","Food and drink","Food","foodanddrink","food and drink"]),168225:e.r(3,0,e.pc_(3,"lifestyle"),1,1),168226:e.r(49,"music"),168227:e.r(39,["NHL","NHL hockey","hockey"]),168228:e.r(49,"soccer"),168229:e.r(28,5184e6,e.cb(0,e.af_u(["properties","classifications_watson","categories"],e.e_(0,"/television")),e.ge(3),3),5184e6,0,e.pc_(3,"television"),e.ge(3),3),168230:e.r(40,["Wimbledon Championships","Wimbledon","Australian Open Tennis Championships","French Open Tennis Championships","U.S. Open Tennis Championships","Women\'s tennis","Men\'s tennis","Tennis"]),168232:e.r(40,["transportationtechnology","transportation technology"]),168237:e.r(50,"diversity"),168238:e.r(46,3,3,85),168239:e.r(39,["Golf","U.S. Open Women\'s Golf Championships","U.S. Open Men\'s Golf Championships","Masters Golf Tournament","Women\'s golf","Men\'s golf"]),169409:e.r(50,"fashion"),171498:e.r(2,"eyeota","292","171498","171498","171498"),171502:e.r(2,"liveramp_ShareThis","1003556189","171502","171502","171502"),171503:e.r(34,"1003556189","171503"),171504:e.r(31,"292","171504"),171812:e.r(31,"291","171812"),171814:e.r(31,"294","171814"),171817:e.r(31,"295","171817"),171818:e.r(31,"297","171818"),171820:e.r(31,"298","171820"),171821:e.r(31,"299","171821"),171822:e.r(31,"301","171822"),171823:e.r(31,"300","171823"),171904:e.r(31,"35639","171904"),171905:e.r(15,"liveramp_Alliant","1000847566","171905","liveramp_Alliant","1000850506","171905"),171906:e.r(31,"6685","171906"),171908:e.r(15,"liveramp_Stirista","1000044974","171908","liveramp_IXIDigital","1000090014","171908"),171909:e.r(15,"liveramp_Experian","1004268859","171909","liveramp_IXIDigital","1000089764","171909"),171910:e.r(31,"322","171910"),171912:e.r(34,"1001009139","171912"),172119:e.q(e.acqs([e.ocqs([e.itp("liveramp_IXIDigital","1002824276",!1,"172119"),e.itp("liveramp_IXIDigital","1002824286",!1,"172119"),e.itp("liveramp_IXIDigital","1002824266",!1,"172119"),e.itp("liveramp_IXIDigital","1002824246",!1,"172119"),e.itp("liveramp_IXIDigital","1002824256",!1,"172119"),e.itp("liveramp_IXIDigital","1002824236",!1,"172119"),e.itp("liveramp_IXIDigital","1002824216",!1,"172119"),e.itp("liveramp_IXIDigital","1002824246",!1,"172119"),e.itp("liveramp_IXIDigital","1000088884",!1,"172119"),e.itp("liveramp_IXIDigital","1002824296",!1,"172119")]),e.itp("liveramp_Acxiom","1234",!1,"172119")])),172262:e.r(31,"13434","172262"),173051:e.r(32,"1005070589","173051"),173171:e.r(19,"liveramp_PlaceIQ","1002441146","173171","1003048989","173171","liveramp_Epsilon","1000990909","173171","liveramp_PlaceIQ","1002441146","173171"),173758:e.r(4,0,378),173830:e.r(4,0,370),174428:e.r(4,3,378),174429:e.r(4,3,370),174528:e.r(32,"1001204239","174528"),174529:e.r(16,"eyeota","35578","174529","liveramp_Mastercard","1005906971","174529","liveramp_Mastercard","1005909081","174529","liveramp_IXIDigital","1000089854","174529"),174530:e.q(e.acqs([e.itp("eyeota","35578",!1,"174530"),e.itp("eyeota","13228",!1,"174530")])),174531:e.r(33,"1000089744","174531"),176048:e.r(23,"293","176048","35452","176048"),176061:e.q(e.tw(e.cb(0,e.a([e.ref(176),e.af_u(["properties","classifications_watson","categories"],e.g_(2,.75))]),e.ge(3),3),145152e5)),176062:e.r(48,3,3),176063:e.r(46,3,3,218),176064:e.r(45,54),176065:e.r(41,5184e6,3,3,[e.e_(0,"/video gaming"),e.e_(0,"/video gaming/video game genres"),e.e_(0,"/video gaming/console games"),e.e_(0,"/video gaming/mobile games"),e.e_(0,"/video gaming/esports")]),176622:e.r(16,"liveramp_IXIDigital","1002824316","176622","liveramp_IXIDigital","1002824326","176622","liveramp_IXIDigital","1002276816","176622","liveramp_IXIDigital","1002824306","176622"),176623:e.r(33,"1002276816","176623"),176634:e.r(30,"liveramp_Alliant","1000847556","176634"),176635:e.r(21,"liveramp_Stirista","1000044974","176635","1000044964","176635","liveramp_Stirista","1000044944","176635","1000044934","176635","liveramp_Stirista","1000044924","176635","liveramp_Epsilon","1000458736","176635"),176740:e.r(43,"/sports/college sports/college football"),176741:e.r(47,7776e6,3,3,173),176742:e.r(43,"/sports/college sports/college baseball"),176743:e.r(42,7776e6,3,3,e.e_(0,"/sports/olympic sports"),e.y_(0,283)),176744:e.r(46,3,3,237),177066:e.r(20,"liveramp_AnalyticsIQ","1003514489","177066","1001014439","177066","liveramp_Acxiom","300572703","177066","35295","177066"),177537:e.r(18,"liveramp_Bombora","1005387449","177537","liveramp_Acxiom","300144499","177537","liveramp_Bombora","1000095194","177537","liveramp_DunandBradstreet","1001204219","177537","liveramp_Bombora","1005388509","177537","liveramp_ShareThis","1001013139","177537","liveramp_StatSocial","1006914031","177537","liveramp_StatSocial","1006912591","177537","liveramp_ShareThis","1001013149","177537","liveramp_Acxiom","1005523999","177537","1001013149","177537","liveramp_Stirista","1000982129","177537","liveramp_DunandBradstreet","1000310086","177537"),179385:e.r(31,"1545","179385"),179958:e.r(12,.75531393),179960:e.r(12,.8841064),179982:e.r(20,"liveramp_IXIDigital","1001357479","179982","1005134209","179982","liveramp_CoreLogic","1000868806","179982","1477","179982"),180027:e.r(30,"liveramp_AnalyticsIQ","1000899399","180027"),180096:e.r(44,143),180097:e.r(44,46),180098:e.r(44,20),180101:e.r(42,24192e5,1,1,e.y_(0,279),e.e_(0,"/sports/equine sports")),180102:e.r(14,"liveramp_ShareThis","1001010579","180102","liveramp_Stirista","1000046804",!1,"180102","liveramp_AnalyticsIQ","1000692416",!1,"180102"),180165:e.r(11,"8e208c9c-50be-4521-958f-6ca23fbbdab4",e.ge(.9128252),"164815"),180166:e.r(11,"314c04e1-2049-411d-8912-8daa13e3060f",e.ge(.75980747),"156753"),180167:e.r(11,"ff19e130-03af-4b58-a4bd-3fbd6bf6badd",e.ge(.97829),"158730"),180168:e.r(11,"970f4310-efab-4de5-9fc5-9710d81f8773",e.ge(.76849157),"162750"),180397:e.q(e.ocqs([e.itp("liveramp_DunandBradstreet","1000870816",!1,"180397"),e.itp("liveramp_ShareThis","1003625699",!1,"180397"),e.itp("liveramp_ShareThis","1001010189",!1,"180397"),e.itp("liveramp_Bombora","1000095234",!1,"180397"),e.itp("liveramp_StatSocial","1006912641",!1,"180397")])),180609:e.r(46,3,3,54),180610:e.r(46,1,1,54),180611:e.r(46,1,1,122),180613:e.r(46,1,1,178),180614:e.r(46,1,1,199),180615:e.r(46,1,1,55),180617:e.r(46,1,1,85),180619:e.r(29,1,1,1,1),180621:e.r(46,1,1,218),181040:e.r(36,"/art and entertainment/music/music genres/country music"),181041:e.r(36,"/art and entertainment/music/music genres/easy listening"),181042:e.r(36,"/art and entertainment/music/music genres/electronic music"),181043:e.r(36,"/art and entertainment/music/music genres/folk music"),181044:e.r(36,"/art and entertainment/music/music genres/hip hop"),181045:e.r(36,"/art and entertainment/music/music genres/jazz"),181046:e.r(36,"/art and entertainment/music/music genres/opera"),181047:e.r(36,"/art and entertainment/music/music genres/pop music"),181048:e.r(36,"/art and entertainment/music/music genres/punk"),181049:e.r(36,"/art and entertainment/music/music genres/religious music"),181050:e.r(36,"/art and entertainment/music/music genres/rock music"),181051:e.r(36,"/art and entertainment/music/music genres/ska"),181052:e.r(36,"/art and entertainment/music/music genres/soul music"),181053:e.r(36,"/art and entertainment/music/music genres/soundtracks"),181054:e.r(36,"/art and entertainment/music/music genres/world music"),181055:e.r(36,"/art and entertainment/music/music reference/music composition and theory"),181056:e.r(36,"/art and entertainment/music/music reference/sheet music"),181057:e.r(36,"/art and entertainment/music/musical instruments/drums"),181058:e.r(36,"/art and entertainment/music/musical instruments/guitars"),181059:e.r(36,"/art and entertainment/music/musical instruments/pianos"),181060:e.r(37,11),181061:e.r(36,"/art and entertainment/music/recording industry/record labels"),181062:e.r(36,"/art and entertainment/visual art and design/design/graphic design"),181063:e.r(36,"/art and entertainment/visual art and design/design/industrial and product design"),181064:e.r(36,"/art and entertainment/visual art and design/design/interior design"),181065:e.r(36,"/art and entertainment/books and literature/best-sellers"),181066:e.r(37,2),181067:e.r(36,"/art and entertainment/books and literature/e-books"),181068:e.r(36,"/art and entertainment/books and literature/fan fiction"),181069:e.r(36,"/art and entertainment/books and literature/magazines"),181070:e.r(36,"/art and entertainment/books and literature/mythology"),181071:e.r(36,"/art and entertainment/books and literature/non-fiction"),181072:e.r(36,"/art and entertainment/books and literature/poetry"),181073:e.r(36,"/art and entertainment/books and literature/reference books"),181074:e.r(36,"/art and entertainment/books and literature/romance novels"),181075:e.r(36,"/art and entertainment/books and literature/science fiction"),181076:e.r(36,"/art and entertainment/books and literature/textbooks"),181077:e.r(36,"/art and entertainment/comics and animation/anime and manga"),181078:e.r(36,"/art and entertainment/comics and animation/cartoons"),181079:e.r(36,"/art and entertainment/comics and animation/comics"),181080:e.r(36,"/art and entertainment/dance/ballet"),181081:e.r(36,"/art and entertainment/dance/ballroom dance"),181082:e.r(36,"/art and entertainment/dance/belly dance"),181083:e.r(36,"/art and entertainment/dance/modern dance"),181084:e.r(36,"/art and entertainment/dance/pole dancing"),181085:e.r(37,9),181086:e.r(36,"/art and entertainment/movies and tv/action"),181087:e.r(36,"/art and entertainment/movies and tv/animated"),181088:e.r(36,"/art and entertainment/movies and tv/bollywood"),181089:e.r(37,8),181090:e.r(36,"/art and entertainment/movies and tv/classics"),181091:e.r(36,"/art and entertainment/movies and tv/comedies"),181092:e.r(36,"/art and entertainment/movies and tv/cult classics"),181093:e.r(36,"/art and entertainment/movies and tv/documentaries"),181094:e.r(36,"/art and entertainment/movies and tv/dramas"),181095:e.r(36,"/art and entertainment/movies and tv/horror"),181096:e.r(36,"/art and entertainment/movies and tv/independent"),181097:e.r(36,"/art and entertainment/movies and tv/movies"),181098:e.r(36,"/art and entertainment/movies and tv/reality"),181099:e.r(36,"/art and entertainment/movies and tv/romantic comedies"),181100:e.r(36,"/art and entertainment/movies and tv/talk shows"),181101:e.r(36,"/art and entertainment/movies and tv/television"),181102:e.r(36,"/art and entertainment/movies and tv/thrillers"),181103:e.r(36,"/art and entertainment/movies and tv/westerns"),181104:e.r(36,"/art and entertainment/music/musical instruments"),181105:e.r(36,"/art and entertainment/music/recording industry"),181106:e.r(36,"/art and entertainment/music/singing"),181107:e.r(36,"/art and entertainment/radio/podcasts"),181108:e.r(36,"/art and entertainment/radio/radio programs"),181109:e.r(36,"/art and entertainment/radio/talk radio"),181110:e.r(36,"/art and entertainment/shows and events/beauty contest"),181111:e.r(36,"/art and entertainment/shows and events/circus"),181112:e.r(36,"/art and entertainment/shows and events/classical concert"),181113:e.r(36,"/art and entertainment/shows and events/concert"),181114:e.r(36,"/art and entertainment/shows and events/conference"),181115:e.r(36,"/art and entertainment/shows and events/exhibition"),181116:e.r(36,"/art and entertainment/shows and events/fair"),181117:e.r(36,"/art and entertainment/shows and events/festival"),181118:e.r(36,"/art and entertainment/shows and events/sports event"),181119:e.r(37,14),181120:e.r(36,"/art and entertainment/theatre/theatre companies"),181121:e.r(36,"/art and entertainment/visual art and design/architecture"),181122:e.r(36,"/art and entertainment/visual art and design/art and craft supplies"),181123:e.r(36,"/art and entertainment/visual art and design/art museums and galleries"),181124:e.r(36,"/art and entertainment/visual art and design/arts education"),181125:e.r(36,"/art and entertainment/visual art and design/design"),181126:e.r(36,"/art and entertainment/visual art and design/digital art"),181127:e.r(36,"/art and entertainment/visual art and design/drawing"),181128:e.r(36,"/art and entertainment/visual art and design/painting"),181129:e.r(36,"/art and entertainment/visual art and design/performance art"),181130:e.r(36,"/art and entertainment/visual art and design/restoration"),181131:e.r(36,"/art and entertainment/visual art and design/sculpture"),181132:e.r(38,186),181133:e.r(38,196),181134:e.r(38,5),181135:e.r(38,49),181136:e.r(38,33),181137:e.r(38,15),181138:e.r(38,286),181139:e.r(38,126),181140:e.r(38,199),181141:e.r(36,"/automotive and vehicles/vehicle brands/nissan/infiniti"),181142:e.r(36,"/automotive and vehicles/bicycles and accessories/mountain bikes"),181143:e.r(36,"/automotive and vehicles/cars/car culture"),181144:e.r(36,"/automotive and vehicles/cars/car industry"),181145:e.r(36,"/automotive and vehicles/cars/convertible"),181146:e.r(36,"/automotive and vehicles/cars/coupe"),181147:e.r(36,"/automotive and vehicles/cars/crossover"),181148:e.r(36,"/automotive and vehicles/cars/diesel"),181149:e.r(36,"/automotive and vehicles/cars/hatchback"),181150:e.r(36,"/automotive and vehicles/cars/hybrid"),181151:e.r(36,"/automotive and vehicles/cars/luxury"),181152:e.r(36,"/automotive and vehicles/cars/performance vehicles"),181153:e.r(36,"/automotive and vehicles/cars/sedan"),181154:e.r(36,"/automotive and vehicles/cars/vintage cars"),181155:e.r(36,"/automotive and vehicles/cars/wagon"),181156:e.r(36,"/automotive and vehicles/trucks and suvs/pickup trucks"),181157:e.r(36,"/automotive and vehicles/trucks and suvs/suvs"),181158:e.r(36,"/automotive and vehicles/trucks and suvs/truck accessories"),181159:e.r(36,"/automotive and vehicles/vehicle brands/acura"),181160:e.r(36,"/automotive and vehicles/vehicle brands/alfa romeo"),181161:e.r(36,"/automotive and vehicles/vehicle brands/audi"),181162:e.r(36,"/automotive and vehicles/vehicle brands/bentley"),181163:e.r(36,"/automotive and vehicles/vehicle brands/buick"),181164:e.r(36,"/automotive and vehicles/vehicle brands/cadillac"),181165:e.r(36,"/automotive and vehicles/vehicle brands/chevrolet"),181166:e.r(36,"/automotive and vehicles/vehicle brands/chrysler"),181167:e.r(36,"/automotive and vehicles/vehicle brands/ferrari"),181168:e.r(36,"/automotive and vehicles/vehicle brands/fiat"),181169:e.r(36,"/automotive and vehicles/vehicle brands/ford"),181170:e.r(36,"/automotive and vehicles/vehicle brands/honda"),181171:e.r(36,"/automotive and vehicles/vehicle brands/hyundai"),181172:e.r(36,"/automotive and vehicles/vehicle brands/isuzu"),181173:e.r(36,"/automotive and vehicles/vehicle brands/jeep"),181174:e.r(36,"/automotive and vehicles/vehicle brands/kia"),181175:e.r(36,"/automotive and vehicles/vehicle brands/lamborghini"),181176:e.r(36,"/automotive and vehicles/vehicle brands/land rover"),181177:e.r(36,"/automotive and vehicles/vehicle brands/maserati"),181178:e.r(36,"/automotive and vehicles/vehicle brands/mazda"),181179:e.r(36,"/automotive and vehicles/vehicle brands/mercedes-benz"),181180:e.r(36,"/automotive and vehicles/vehicle brands/mitsubishi"),181181:e.r(36,"/automotive and vehicles/vehicle brands/nissan"),181182:e.r(36,"/automotive and vehicles/vehicle brands/peugeot"),181183:e.r(36,"/automotive and vehicles/vehicle brands/pontiac"),181184:e.r(36,"/automotive and vehicles/vehicle brands/porsche"),181185:e.r(36,"/automotive and vehicles/vehicle brands/rolls-royce"),181186:e.r(36,"/automotive and vehicles/vehicle brands/saab"),181187:e.r(36,"/automotive and vehicles/vehicle brands/scion"),181188:e.r(36,"/automotive and vehicles/vehicle brands/subaru"),181189:e.r(36,"/automotive and vehicles/vehicle brands/suzuki"),181190:e.r(36,"/automotive and vehicles/vehicle brands/toyota"),181191:e.r(36,"/automotive and vehicles/vehicle brands/volkswagen"),181192:e.r(36,"/automotive and vehicles/vehicle brands/volvo"),181193:e.r(38,249),181194:e.r(38,213),181195:e.r(38,93),181196:e.r(38,227),181197:e.r(38,114),181198:e.r(38,299),181199:e.r(38,159),181200:e.r(38,38),181201:e.r(38,164),181202:e.r(38,107),181203:e.r(38,321),181204:e.r(38,229),181205:e.r(38,259),181206:e.r(38,113),181207:e.r(38,131),181208:e.r(38,179),181209:e.r(38,247),181210:e.r(38,41),181211:e.r(37,44),181212:e.r(36,"/business and industrial/business operations/human resources/payroll services"),181213:e.r(37,45),181214:e.r(36,"/business and industrial/business operations/management/project management"),181215:e.r(36,"/business and industrial/business operations/management/supply chain management"),181216:e.r(36,"/business and industrial/energy/nuclear power/nuclear accident"),181217:e.r(36,"/business and industrial/energy/oil/diesel fuel"),181218:e.r(36,"/business and industrial/energy/oil/oil and gas prices"),181219:e.r(36,"/business and industrial/energy/oil/oil company"),181220:e.r(36,"/business and industrial/energy/renewable energy/biofuel"),181221:e.r(36,"/business and industrial/energy/renewable energy/fuel cell"),181222:e.r(36,"/business and industrial/energy/renewable energy/geothermal energy"),181223:e.r(36,"/business and industrial/energy/renewable energy/hydroelectric energy"),181224:e.r(36,"/business and industrial/energy/renewable energy/solar energy"),181225:e.r(36,"/business and industrial/energy/renewable energy/wind energy"),181226:e.r(36,"/business and industrial/advertising and marketing/advertising"),181227:e.r(36,"/business and industrial/advertising and marketing/brand management"),181228:e.r(36,"/business and industrial/advertising and marketing/marketing"),181229:e.r(36,"/business and industrial/advertising and marketing/public relations"),181230:e.r(36,"/business and industrial/advertising and marketing/telemarketing"),181231:e.r(36,"/business and industrial/aerospace and defense/defense industry"),181232:e.r(36,"/business and industrial/aerospace and defense/space technology"),181233:e.r(36,"/business and industrial/agriculture and forestry/agriculture"),181234:e.r(36,"/business and industrial/agriculture and forestry/aquaculture"),181235:e.r(36,"/business and industrial/agriculture and forestry/crops and seed"),181236:e.r(36,"/business and industrial/agriculture and forestry/farms and ranches"),181237:e.r(36,"/business and industrial/agriculture and forestry/food production"),181238:e.r(36,"/business and industrial/agriculture and forestry/forestry"),181239:e.r(36,"/business and industrial/agriculture and forestry/horticulture"),181240:e.r(36,"/business and industrial/agriculture and forestry/livestock"),181241:e.r(36,"/business and industrial/agriculture and forestry/organic farming"),181242:e.r(36,"/business and industrial/automation/robotics"),181243:e.r(37,43),181244:e.r(36,"/business and industrial/business operations/human resources"),181245:e.r(36,"/business and industrial/chemicals industry/adhesives"),181246:e.r(36,"/business and industrial/chemicals industry/cleaning agents"),181247:e.r(36,"/business and industrial/chemicals industry/dyes and pigments"),181248:e.r(36,"/business and industrial/chemicals industry/plastics and polymers"),181249:e.r(36,"/business and industrial/company/annual report"),181250:e.r(36,"/business and industrial/company/bankruptcy"),181251:e.r(37,48),181252:e.r(36,"/business and industrial/company/joint venture"),181253:e.r(37,49),181254:e.r(36,"/business and industrial/energy/coal"),181255:e.r(36,"/business and industrial/energy/electricity"),181256:e.r(36,"/business and industrial/energy/natural gas"),181257:e.r(36,"/business and industrial/energy/nuclear power"),181258:e.r(36,"/business and industrial/energy/oil"),181259:e.r(36,"/business and industrial/energy/renewable energy"),181260:e.r(36,"/business and industrial/hospitality industry/event planning"),181261:e.r(36,"/business and industrial/hospitality industry/food service"),181262:e.r(36,"/business and industrial/logistics/air freight"),181263:e.r(36,"/business and industrial/logistics/freight train"),181264:e.r(36,"/business and industrial/war industry/weaponry"),181265:e.r(38,37),181266:e.r(38,246),181267:e.r(38,272),181268:e.r(38,298),181269:e.r(38,136),181270:e.r(38,174),181271:e.r(38,1),181272:e.r(38,182),181273:e.r(38,4),181274:e.r(38,120),181275:e.r(38,11),181276:e.r(38,261),181277:e.r(38,14),181278:e.r(38,68),181279:e.r(38,51),181280:e.r(38,276),181281:e.r(38,180),181282:e.r(38,313),181283:e.r(38,239),181284:e.r(38,89),181285:e.r(38,163),181286:e.r(38,135),181287:e.r(38,181),181288:e.r(38,282),181289:e.r(38,300),181290:e.r(38,271),181291:e.r(38,29),181292:e.r(38,302),181293:e.r(38,315),181294:e.r(38,105),181295:e.r(38,258),181296:e.r(38,144),181297:e.r(38,78),181298:e.r(36,"/education/graduate school/college"),181299:e.r(36,"/education/graduate school/college administration"),181300:e.r(36,"/education/graduate school/college life"),181301:e.r(37,89),181302:e.r(36,"/education/teaching and classroom resources/lesson plans"),181303:e.r(37,92),181304:e.r(38,206),181305:e.r(38,92),181306:e.r(38,274),181307:e.r(38,204),181308:e.r(38,307),181309:e.r(38,195),181310:e.r(38,225),181311:e.r(38,34),181312:e.r(38,36),181313:e.r(38,314),181314:e.r(38,102),181315:e.r(38,275),181316:e.r(38,73),181317:e.r(38,72),181318:e.r(38,295),181319:e.r(37,97),181320:e.r(36,"/family and parenting/babies and toddlers/baby food"),181321:e.r(37,99),181322:e.r(36,"/family and parenting/motherhood/artificial insemination"),181323:e.r(37,102),181324:e.r(38,77),181325:e.r(38,17),181326:e.r(38,27),181327:e.r(38,232),181348:e.q(e.ocqs([e.itp("liveramp_ShareThis","1003624209",!1,"181348"),e.itp("liveramp_Alliant","1001431419",!1,"181348"),e.itp("liveramp_Acxiom","1003644989",!1,"181348"),e.itp("eyeota","1480",!1,"181348"),e.itp("liveramp_AnalyticsIQ","1003048949",!1,"181348"),e.itp("liveramp_Experian","1004259159",!1,"181348"),e.itp("eyeota","35557",!1,"181348"),e.itp("liveramp_Stirista","1004607529",!1,"181348"),e.itp("eyeota","35558",!1,"181348"),e.itp("liveramp_Alliant","1001431429",!1,"181348"),e.itp("liveramp_Stirista","1004607549",!1,"181348"),e.itp("liveramp_CoreLogic","1000868846",!1,"181348"),e.itp("liveramp_ShareThis","1001012899",!1,"181348")])),181349:e.r(30,"liveramp_StatSocial","1006911831","181349"),181356:e.r(13,"liveramp_Fluent","1005087139",!1,"181356","liveramp_Kantar","1003694019",!1,"181356","liveramp_Kantar","1003694039",!1,"181356","liveramp_Kantar","1003694029",!1,"181356","liveramp_Stirista","1000306916",!1,"181356","eyeota","35562",!1,"181356","liveramp_AnalyticsIQ","1003048949",!1,"181356","liveramp_Stirista","1003893089",!1,"181356","liveramp_StatSocial","1006914001",!1,"181356","liveramp_Experian","1003187709",!1,"181356","liveramp_StatSocial","1006914001",!1,"181356"),181624:e.r(36,"/art and entertainment / movies and tv / classics / silent films"),181629:e.r(36,"/art and entertainment/movies and tv/movies/reviews"),181630:e.r(36,"/art and entertainment/movies and tv/movies/trailers"),181631:e.r(36,"/art and entertainment/music/music genres/blues"),181632:e.r(36,"/art and entertainment/music/music genres/classical music"),181634:e.r(38,280),181635:e.r(38,251),181636:e.r(38,56),181637:e.r(38,90),181638:e.r(37,111),181639:e.r(37,112),181640:e.r(36,"/finance/investing/funds/mutual funds"),181641:e.r(36,"/finance/personal finance/financial planning/asset and portfolio management"),181642:e.r(36,"/finance/personal finance/financial planning/estate planning"),181643:e.r(36,"/finance/personal finance/financial planning/retirement and pension"),181644:e.r(36,"/finance/personal finance/insurance/car insurance"),181645:e.r(36,"/finance/personal finance/insurance/health insurance"),181646:e.r(36,"/finance/personal finance/insurance/homeowners insurance"),181647:e.r(36,"/finance/personal finance/insurance/life insurance"),181648:e.r(36,"/finance/personal finance/insurance/travel insurance"),181649:e.r(36,"/finance/personal finance/insurance/vehicle insurance"),181650:e.r(36,"/finance/personal finance/lending/credit cards"),181651:e.r(36,"/finance/personal finance/lending/home financing"),181652:e.r(36,"/finance/personal finance/lending/personal loans"),181653:e.r(36,"/finance/personal finance/lending/student loans"),181654:e.r(36,"/finance/personal finance/lending/vehicle financing"),181655:e.r(36,"/finance/accounting and auditing/billing and invoicing"),181656:e.r(36,"/finance/accounting and auditing/bookkeeping"),181657:e.r(36,"/finance/accounting and auditing/tax preparation and planning"),181658:e.r(36,"/finance/bank/atms"),181659:e.r(36,"/finance/bank/bank account"),181660:e.r(36,"/finance/bank/checks"),181661:e.r(36,"/finance/grants, scholarships and financial aid/financial aid"),181662:e.r(36,"/finance/grants, scholarships and financial aid/government grants"),181663:e.r(36,"/finance/grants, scholarships and financial aid/scholarships"),181664:e.r(36,"/finance/investing/beginning investing"),181665:e.r(36,"/finance/investing/brokerages"),181666:e.r(36,"/finance/investing/day trading"),181667:e.r(37,113),181668:e.r(37,114),181669:e.r(36,"/finance/investing/portfolio"),181670:e.r(37,115),181671:e.r(38,191),181672:e.r(36,"/finance/personal finance/debt management"),181673:e.r(36,"/finance/personal finance/financial planning"),181674:e.r(36,"/finance/personal finance/insurance"),181675:e.r(36,"/finance/personal finance/saving"),181676:e.r(38,268),181677:e.r(38,74),181678:e.r(38,238),181679:e.r(38,149),181680:e.r(38,255),181681:e.r(36,"/food and drink/beverages/alcoholic beverages/cocktails and beer"),181682:e.r(36,"/food and drink/beverages/alcoholic beverages/wine"),181683:e.r(36,"/food and drink/beverages/non alcoholic beverages/bottled water"),181684:e.r(36,"/food and drink/beverages/non alcoholic beverages/coffee and tea"),181685:e.r(36,"/food and drink/beverages/non alcoholic beverages/soft drinks"),181686:e.r(36,"/food and drink/cuisines/american cuisine"),181687:e.r(36,"/food and drink/cuisines/chinese cuisine"),181688:e.r(36,"/food and drink/cuisines/french cuisine"),181689:e.r(36,"/food and drink/cuisines/indian cuisine"),181690:e.r(36,"/food and drink/cuisines/italian cuisine"),181691:e.r(36,"/food and drink/cuisines/japanese cuisine"),181692:e.r(36,"/food and drink/cuisines/mexican cuisine"),181693:e.r(36,"/food and drink/cuisines/regional cuisine"),181694:e.r(36,"/food and drink/food/baked goods"),181695:e.r(36,"/food and drink/food/breakfast foods"),181696:e.r(36,"/food and drink/food/candy and sweets"),181697:e.r(36,"/food and drink/food/condiments and dressings"),181698:e.r(36,"/food and drink/food/fast food"),181699:e.r(36,"/food and drink/food/frozen food"),181700:e.r(36,"/food and drink/food/fruits and vegetables"),181701:e.r(36,"/food and drink/food/grains and pasta"),181702:e.r(36,"/food and drink/food/herbs and spices"),181703:e.r(36,"/food and drink/food/salads"),181705:e.r(36,"/food and drink/food/snack foods"),181706:e.r(36,"/food and drink/food and grocery retailers/bakeries"),181707:e.r(36,"/food and drink/food and grocery retailers/butchers"),181708:e.r(36,"/food and drink/food and grocery retailers/convenience stores"),181709:e.r(36,"/food and drink/food and grocery retailers/grocery stores"),181710:e.r(36,"/food and drink/gastronomy/slow food"),181711:e.r(38,228),181712:e.r(38,209),181713:e.r(38,39),181714:e.r(38,262),181715:e.r(38,26),181716:e.r(38,156),181717:e.r(38,104),181718:e.r(38,289),181719:e.r(38,243),181720:e.r(38,215),181721:e.r(38,65),181722:e.r(38,91),181723:e.r(36,"/health and fitness/disease/cancer/brain tumor"),181724:e.r(36,"/health and fitness/disorders/mental disorder/a.d.d."),181725:e.r(36,"/health and fitness/disorders/mental disorder/bipolar disorder"),181726:e.r(36,"/health and fitness/disorders/mental disorder/depression"),181727:e.r(36,"/health and fitness/disorders/mental disorder/panic and anxiety"),181728:e.r(36,"/health and fitness/addiction/alcoholism"),181729:e.r(36,"/health and fitness/addiction/smoking addiction"),181730:e.r(36,"/health and fitness/addiction/substance abuse"),181731:e.r(36,"/health and fitness/alternative medicine/herbs for health"),181732:e.r(36,"/health and fitness/alternative medicine/holistic healing"),181733:e.r(36,"/health and fitness/alternative medicine/homeopathy"),181734:e.r(36,"/health and fitness/disease/aids and hiv"),181735:e.r(36,"/health and fitness/disease/allergies"),181736:e.r(36,"/health and fitness/disease/arthritis"),181737:e.r(36,"/health and fitness/disease/asthma"),181738:e.r(36,"/health and fitness/disease/autism and pdd"),181739:e.r(36,"/health and fitness/disease/cancer"),181740:e.r(36,"/health and fitness/disease/cholesterol"),181741:e.r(36,"/health and fitness/disease/chronic fatigue syndrome"),181742:e.r(36,"/health and fitness/disease/chronic pain"),181743:e.r(36,"/health and fitness/disease/cold and flu"),181744:e.r(36,"/health and fitness/disease/deafness"),181745:e.r(36,"/health and fitness/disease/diabetes"),181746:e.r(36,"/health and fitness/disease/epidemic"),181747:e.r(36,"/health and fitness/disease/epilepsy"),181748:e.r(36,"/health and fitness/disease/gerd and acid reflux"),181749:e.r(36,"/health and fitness/disease/headaches and migraines"),181750:e.r(36,"/health and fitness/disease/heart disease"),181751:e.r(36,"/health and fitness/disease/ibs and crohn\'s disease"),181752:e.r(36,"/health and fitness/disease/incontinence"),181753:e.r(36,"/health and fitness/disease/infertility"),181754:e.r(36,"/health and fitness/disease/thyroid disease"),181755:e.r(36,"/health and fitness/disorders/mental disorder"),181756:e.r(36,"/health and fitness/disorders/sleep disorders"),181757:e.r(36,"/health and fitness/therapy/physical therapy"),181758:e.r(38,189),181759:e.r(38,325),181760:e.r(38,167),181761:e.r(38,3),181762:e.r(38,290),181763:e.r(38,112),181764:e.r(38,281),181765:e.r(38,311),181766:e.r(38,86),181767:e.r(38,224),181768:e.r(38,184),181769:e.r(38,216),181770:e.r(38,235),181771:e.r(38,324),181772:e.r(38,69),181773:e.r(38,270),181774:e.r(38,81),181775:e.r(36,"/hobbies and interests/arts and crafts/beadwork"),181776:e.r(36,"/hobbies and interests/arts and crafts/candle and soap making"),181777:e.r(36,"/hobbies and interests/arts and crafts/crochet"),181778:e.r(36,"/hobbies and interests/arts and crafts/jewelry making"),181779:e.r(36,"/hobbies and interests/arts and crafts/knitting"),181780:e.r(36,"/hobbies and interests/arts and crafts/photography"),181781:e.r(36,"/hobbies and interests/arts and crafts/pottery"),181782:e.r(36,"/hobbies and interests/arts and crafts/watchmaking"),181783:e.r(36,"/hobbies and interests/arts and crafts/woodworking"),181784:e.r(36,"/hobbies and interests/collecting/stamps and coins"),181785:e.r(36,"/hobbies and interests/games/board games and puzzles"),181786:e.r(36,"/hobbies and interests/games/card games"),181787:e.r(36,"/hobbies and interests/games/chess"),181788:e.r(36,"/hobbies and interests/games/gambling"),181789:e.r(36,"/hobbies and interests/games/lottery"),181790:e.r(36,"/hobbies and interests/games/role playing games"),181791:e.r(36,"/hobbies and interests/games/video and computer games"),181792:e.r(36,"/hobbies and interests/getting published/freelance writing"),181793:e.r(36,"/hobbies and interests/getting published/screenwriting"),181794:e.r(36,"/hobbies and interests/paranormal phenomena/occult"),181795:e.r(36,"/hobbies and interests/paranormal phenomena/parapsychology"),181796:e.r(38,128),181797:e.r(38,252),181798:e.r(38,95),181799:e.r(38,304),181800:e.r(38,53),181801:e.r(38,323),181802:e.r(38,108),181803:e.r(38,70),181804:e.r(38,234),181805:e.r(38,263),181806:e.r(38,83),181807:e.r(38,103),181808:e.r(38,170),181809:e.r(38,150),181810:e.r(38,177),181811:e.r(38,24),181812:e.r(36,"/home and garden/appliances/small appliances/blenders"),181813:e.r(36,"/home and garden/appliances/small appliances/coffee maker"),181814:e.r(36,"/home and garden/appliances/small appliances/food processors"),181815:e.r(36,"/home and garden/appliances/small appliances/toasters and toaster ovens"),181816:e.r(36,"/home and garden/bed and bath/bedroom/bedding and bed linens"),181817:e.r(36,"/home and garden/bed and bath/bedroom/beds and headboards"),181818:e.r(36,"/home and garden/bed and bath/bedroom/mattresses"),181819:e.r(36,"/home and garden/appliances/dishwashers"),181820:e.r(36,"/home and garden/appliances/microwaves"),181821:e.r(36,"/home and garden/appliances/refrigerators and freezers"),181822:e.r(36,"/home and garden/appliances/stoves"),181823:e.r(36,"/home and garden/bed and bath/bathroom"),181824:e.r(36,"/home and garden/bed and bath/bedroom"),181825:e.r(36,"/home and garden/gardening and landscaping/gardening"),181826:e.r(36,"/home and garden/gardening and landscaping/landscaping"),181827:e.r(36,"/home and garden/gardening and landscaping/yard and patio"),181828:e.r(36,"/home and garden/home furnishings/lamps and lighting"),181829:e.r(36,"/home and garden/home furnishings/rugs and carpets"),181830:e.r(36,"/home and garden/home furnishings/sofas and chairs"),181831:e.r(36,"/home and garden/home improvement and repair/house painting and finishing"),181832:e.r(36,"/home and garden/home improvement and repair/locks and locksmiths"),181833:e.r(36,"/home and garden/home improvement and repair/plumbing"),181834:e.r(36,"/home and garden/home improvement and repair/power tools"),181835:e.r(36,"/home and garden/home improvement and repair/roofing"),181836:e.r(38,305),181837:e.r(38,59),181838:e.r(38,297),181839:e.r(38,201),181840:e.r(38,202),181841:e.r(38,187),181842:e.r(38,121),181843:e.r(38,233),181844:e.r(38,62),181845:e.r(38,278),181846:e.r(38,308),181847:e.r(36,"/law, govt and politics/legal issues/civil law/copyright"),181848:e.r(36,"/law, govt and politics/legal issues/civil rights/privacy"),181849:e.r(36,"/law, govt and politics/legal issues/legislation/building laws"),181850:e.r(36,"/law, govt and politics/legal issues/legislation/education laws"),181851:e.r(37,185),181852:e.r(36,"/law, govt and politics/legal issues/legislation/health care laws"),181853:e.r(36,"/law, govt and politics/legal issues/legislation/immigration laws"),181854:e.r(36,"/law, govt and politics/legal issues/legislation/tax laws"),181855:e.r(36,"/law, govt and politics/politics/elections/local elections"),181856:e.r(36,"/law, govt and politics/politics/elections/presidential elections"),181857:e.r(36,"/law, govt and politics/politics/elections/referendums"),181858:e.r(36,"/law, govt and politics/armed forces/air force"),181859:e.r(36,"/law, govt and politics/armed forces/army"),181860:e.r(36,"/law, govt and politics/armed forces/marines"),181861:e.r(36,"/law, govt and politics/armed forces/navy"),181862:e.r(36,"/law, govt and politics/armed forces/veterans"),181863:e.r(36,"/law, govt and politics/espionage and intelligence/secret service"),181864:e.r(36,"/law, govt and politics/espionage and intelligence/surveillance"),181865:e.r(36,"/law, govt and politics/espionage and intelligence/terrorism"),181866:e.r(37,179),181867:e.r(36,"/law, govt and politics/government/embassies and consulates"),181868:e.r(37,180),181869:e.r(36,"/law, govt and politics/government/government agencies"),181870:e.r(36,"/law, govt and politics/government/government contracting and procurement"),181871:e.r(36,"/law, govt and politics/government/heads of state"),181872:e.r(37,181),181873:e.r(36,"/law, govt and politics/government/parliament"),181874:e.r(36,"/law, govt and politics/government/state and local government"),181875:e.r(36,"/law, govt and politics/law enforcement/coast guard"),181876:e.r(36,"/law, govt and politics/law enforcement/fire department"),181877:e.r(36,"/law, govt and politics/law enforcement/highway patrol"),181878:e.r(36,"/law, govt and politics/law enforcement/police"),181879:e.r(36,"/law, govt and politics/legal issues/civil law"),181880:e.r(36,"/law, govt and politics/legal issues/civil rights"),181881:e.r(36,"/law, govt and politics/legal issues/criminal law"),181882:e.r(36,"/law, govt and politics/legal issues/death penalty"),181883:e.r(36,"/law, govt and politics/legal issues/human rights"),181884:e.r(36,"/law, govt and politics/legal issues/international law"),181885:e.r(36,"/law, govt and politics/legal issues/legislation"),181886:e.r(37,187),181887:e.r(37,188),181888:e.r(36,"/law, govt and politics/politics/foreign policy"),181889:e.r(37,189),181890:e.r(37,190),181891:e.r(38,221),181892:e.r(38,284),181893:e.r(38,109),181894:e.r(38,240),181895:e.r(38,110),181896:e.r(38,205),181897:e.r(38,96),181898:e.r(38,132),181899:e.r(38,168),181900:e.r(36,"/news/local news"),181901:e.r(38,316),181902:e.r(38,288),181903:e.r(38,161),181904:e.r(38,124),181905:e.r(38,318),181906:e.r(38,296),181907:e.r(38,118),181908:e.r(38,310),181909:e.r(38,16),181910:e.r(38,236),181911:e.r(38,52),181912:e.r(38,207),181913:e.r(38,61),181914:e.r(38,175),181915:e.r(38,277),181916:e.r(38,80),181917:e.r(36,"/religion and spirituality/alternative religions/pagan and wiccan"),181918:e.r(36,"/religion and spirituality/christianity/catholicism"),181919:e.r(36,"/religion and spirituality/christianity/latter-day saints"),181920:e.r(36,"/religion and spirituality/christianity/orthodoxy"),181921:e.r(36,"/religion and spirituality/christianity/protestantism"),181922:e.r(36,"/religion and spirituality/islam/islamic fundamentalism"),181923:e.r(38,22),181924:e.r(38,157),181925:e.r(38,43),181926:e.r(38,203),181927:e.r(38,155),181928:e.r(38,140),181929:e.r(38,293),181930:e.r(36,"/science/biology/zoology/endangered species"),181931:e.r(36,"/science/biology/zoology/entomology"),181932:e.r(36,"/science/biology/zoology/ornithology"),181933:e.r(36,"/science/ecology/waste management/recycling"),181934:e.r(36,"/science/ecology/waste management/waste disposal"),181935:e.r(36,"/science/geology/seismology/earthquakes"),181936:e.r(36,"/science/geology/volcanology/volcanic eruptions"),181937:e.r(36,"/science/medicine/psychology and psychiatry/psychoanalysis"),181938:e.r(36,"/science/medicine/surgery/cosmetic surgery"),181939:e.r(36,"/science/medicine/surgery/transplants"),181940:e.r(36,"/science/social science/history/ancient history"),181941:e.r(36,"/science/social science/history/archaeology"),181942:e.r(36,"/science/social science/history/genealogy"),181943:e.r(36,"/science/social science/history/heraldry"),181944:e.r(36,"/science/social science/history/medieval history"),181945:e.r(36,"/science/social science/history/modern history"),181946:e.r(36,"/science/social science/history/prehistory"),181947:e.r(36,"/science/social science/linguistics/translation"),181948:e.r(36,"/science/social science/philosophy/ethics"),181949:e.r(36,"/science/weather/meteorological disaster/flood"),181950:e.r(36,"/science/weather/meteorological disaster/hurricane"),181951:e.r(36,"/science/weather/meteorological disaster/tornado"),181952:e.r(36,"/science/biology/biotechnology"),181953:e.r(36,"/science/biology/botany"),181954:e.r(36,"/science/biology/breeding"),181955:e.r(36,"/science/biology/cytology"),181956:e.r(36,"/science/biology/marine biology"),181958:e.r(36,"/science/biology/molecular biology"),181959:e.r(36,"/science/biology/zoology"),181960:e.r(36,"/science/chemistry/organic chemistry"),181961:e.r(37,221),181962:e.r(36,"/science/computer science/cryptography"),181963:e.r(36,"/science/computer science/distributed systems"),181964:e.r(36,"/science/computer science/information science"),181965:e.r(36,"/science/computer science/software engineering"),181966:e.r(36,"/science/ecology/environmental disaster"),181967:e.r(36,"/science/ecology/pollution"),181968:e.r(36,"/science/geography/cartography"),181969:e.r(36,"/science/geography/topography"),181970:e.r(36,"/science/geology/mineralogy"),181971:e.r(36,"/science/mathematics/algebra"),181972:e.r(36,"/science/mathematics/arithmetic"),181973:e.r(36,"/science/mathematics/geometry"),181974:e.r(36,"/science/mathematics/statistics"),181975:e.r(36,"/science/medicine/cardiology"),181976:e.r(36,"/science/medicine/dermatology"),181977:e.r(36,"/science/medicine/embryology"),181978:e.r(36,"/science/medicine/genetics"),181979:e.r(36,"/science/medicine/immunology"),181980:e.r(37,228),181981:e.r(36,"/science/medicine/oncology"),181982:e.r(36,"/science/medicine/orthopedics"),181983:e.r(36,"/science/medicine/pediatrics"),181984:e.r(36,"/science/medicine/pharmacology"),181985:e.r(36,"/science/medicine/physiology"),181986:e.r(36,"/science/medicine/psychology and psychiatry"),181987:e.r(36,"/science/medicine/surgery"),181988:e.r(36,"/science/medicine/veterinary medicine"),181989:e.r(36,"/science/physics/atomic physics"),181990:e.r(36,"/science/physics/astrophysics"),181991:e.r(36,"/science/physics/electromagnetism"),181992:e.r(36,"/science/physics/hydraulics"),181993:e.r(36,"/science/physics/nanotechnology"),181994:e.r(36,"/science/physics/optics"),181995:e.r(36,"/science/physics/space and astronomy"),181996:e.r(36,"/science/physics/thermodynamics"),181997:e.r(36,"/science/social science/anthropology"),181998:e.r(36,"/science/social science/history"),181999:e.r(36,"/science/social science/linguistics"),182e3:e.r(36,"/science/social science/pedagogy"),182001:e.r(36,"/science/social science/philosophy"),182002:e.r(36,"/science/social science/sociology"),182003:e.r(36,"/science/weather/meteorological disaster"),182004:e.r(38,101),182005:e.r(38,185),182006:e.r(38,146),182007:e.r(38,19),182008:e.r(38,30),182009:e.r(38,60),182010:e.r(38,306),182011:e.r(38,64),182012:e.r(38,214),182013:e.r(38,130),182014:e.r(38,309),182015:e.r(38,312),182016:e.r(38,178),182017:e.r(36,"/shopping/gifts/flowers"),182018:e.r(36,"/shopping/gifts/greeting cards"),182019:e.r(36,"/shopping/gifts/party supplies"),182020:e.r(36,"/shopping/resources/comparisons engines"),182021:e.r(36,"/shopping/resources/consumer protection"),182022:e.r(36,"/shopping/resources/contests and freebies"),182023:e.r(36,"/shopping/resources/coupons"),182024:e.r(36,"/shopping/resources/loyalty programs"),182025:e.r(36,"/shopping/resources/product reviews"),182026:e.r(36,"/shopping/resources/warranties and service contracts"),182027:e.r(36,"/shopping/retail/department stores"),182028:e.r(36,"/shopping/retail/online stores"),182029:e.r(36,"/shopping/retail/outlet stores"),182030:e.r(36,"/shopping/retail/second-hand market"),182031:e.r(36,"/shopping/retail/wholesalers"),182032:e.r(36,"/shopping/toys/action figures"),182033:e.r(36,"/shopping/toys/dolls"),182034:e.r(36,"/shopping/toys/puppets"),182035:e.r(36,"/shopping/toys/stuffed animals"),182036:e.r(38,111),182037:e.r(38,200),182038:e.r(38,211),182039:e.r(38,40),182040:e.r(38,23),182041:e.r(38,212),182042:e.r(36,"/society/crime/personal offense/assault"),182043:e.r(36,"/society/crime/personal offense/hate crime"),182044:e.r(36,"/society/crime/personal offense/homicide"),182045:e.r(36,"/society/crime/personal offense/human trafficking"),182046:e.r(36,"/society/crime/personal offense/kidnapping"),182047:e.r(36,"/society/crime/personal offense/torture"),182048:e.r(36,"/society/crime/property crime/arson"),182049:e.r(36,"/society/crime/property crime/bribery"),182050:e.r(36,"/society/crime/property crime/burglary"),182051:e.r(36,"/society/crime/property crime/embezzlement"),182052:e.r(36,"/society/crime/property crime/fraud"),182053:e.r(36,"/society/crime/property crime/larceny"),182054:e.r(36,"/society/crime/property crime/piracy"),182055:e.r(36,"/society/crime/property crime/robbery"),182056:e.r(36,"/society/crime/property crime/smuggling"),182057:e.r(36,"/society/crime/property crime/usury"),182058:e.r(36,"/society/crime/sexual offense/pedophilia"),182059:e.r(36,"/society/crime/sexual offense/prostitution"),182060:e.r(36,"/society/crime/sexual offense/rape"),182061:e.r(36,"/society/social institution/marriage/common law marriage"),182062:e.r(36,"/society/social institution/marriage/weddings"),182063:e.r(36,"/society/welfare/healthcare/hospital"),182064:e.r(36,"/society/welfare/social services/volunteering"),182065:e.r(36,"/society/crime/drug trafficking"),182066:e.r(36,"/society/crime/organized crime"),182067:e.r(36,"/society/crime/sexual offense"),182068:e.r(36,"/society/sex/pornography"),182069:e.r(36,"/society/sex/sex education"),182070:e.r(36,"/society/social institution/divorce"),182071:e.r(36,"/society/social institution/marriage"),182072:e.r(36,"/society/welfare/healthcare"),182073:e.r(36,"/society/welfare/social services"),182074:e.r(36,"/society/work/contracts"),182075:e.r(36,"/society/work/retirement"),182076:e.r(36,"/society/work/unemployment"),182077:e.r(36,"/society/work/unions"),182078:e.r(38,7),182079:e.r(38,158),182080:e.r(38,47),182081:e.r(38,165),182082:e.r(38,141),182083:e.r(38,48),182084:e.r(38,183),182085:e.r(38,287),182086:e.r(38,35),182087:e.r(38,294),182088:e.r(36,"/sports/auto racing/nascar"),182089:e.r(36,"/sports/auto racing/rally"),182090:e.r(36,"/sports/bicycling/mountain biking"),182091:e.r(36,"/sports/climbing/mountain climbing"),182092:e.r(36,"/sports/climbing/rock climbing"),182093:e.r(36,"/sports/fishing/fly fishing"),182094:e.r(36,"/sports/fishing/freshwater fishing"),182095:e.r(36,"/sports/fishing/saltwater fishing"),182096:e.r(36,"/sports/fishing/sport fishing"),182097:e.r(36,"/sports/gymnastics/calisthenics"),182098:e.r(36,"/sports/hockey/field hockey"),182099:e.r(36,"/sports/hunting and shooting/skeet shooting"),182100:e.r(36,"/sports/hunting and shooting/target shooting"),182101:e.r(36,"/sports/martial arts/judo"),182102:e.r(36,"/sports/martial arts/karate"),182103:e.r(36,"/sports/martial arts/sumo"),182104:e.r(36,"/sports/olympics/paralympic games"),182105:e.r(36,"/sports/skating/figure skating"),182106:e.r(36,"/sports/skating/ice skating"),182107:e.r(36,"/sports/skating/roller skating"),182108:e.r(36,"/sports/skiing/downhill skiing"),182109:e.r(36,"/sports/skiing/nordic skiing"),182110:e.r(36,"/sports/skiing/waterskiing"),182111:e.r(36,"/sports/volleyball/beach volleyball"),182112:e.r(38,58),182113:e.r(38,50),182114:e.r(38,119),182115:e.r(38,66),182116:e.r(38,301),182117:e.r(38,254),182118:e.r(38,257),182119:e.r(38,245),182120:e.r(38,99),182121:e.r(38,260),182122:e.r(38,194),182123:e.r(38,188),182124:e.r(38,115),182125:e.r(38,264),182126:e.r(38,127),182127:e.r(38,97),182128:e.r(38,28),182129:e.r(38,57),182130:e.r(38,94),182131:e.r(38,219),182132:e.r(38,138),182133:e.r(38,176),182134:e.r(38,98),182135:e.r(38,45),182136:e.r(38,87),182137:e.r(38,142),182138:e.r(38,197),182139:e.r(38,6),182140:e.r(38,303),182141:e.r(38,123),182142:e.r(38,82),182143:e.r(38,269),182144:e.r(38,253),182145:e.r(38,137),182146:e.r(38,160),182147:e.r(38,8),182148:e.r(38,230),182149:e.r(38,222),182150:e.r(38,237),182151:e.r(38,153),182152:e.r(38,116),182153:e.r(38,18),182154:e.r(38,171),182155:e.r(38,12),182156:e.r(38,106),182157:e.r(38,71),182158:e.r(38,67),182159:e.r(38,166),182160:e.r(38,79),182161:e.r(38,193),182162:e.r(38,42),182163:e.r(38,32),182164:e.r(38,25),182165:e.r(38,292),182166:e.r(38,147),182167:e.r(38,10),182168:e.r(38,162),182169:e.r(38,190),182170:e.r(38,9),182171:e.r(38,198),182172:e.r(38,2),182173:e.r(38,122),182174:e.r(36,"/style and fashion/beauty/cosmetics/eyeshadow"),182175:e.r(36,"/style and fashion/beauty/cosmetics/lipstick"),182176:e.r(36,"/style and fashion/beauty/cosmetics/nail polish"),182177:e.r(36,"/style and fashion/beauty/face and body care/body care"),182178:e.r(36,"/style and fashion/beauty/face and body care/hygiene and toiletries"),182179:e.r(36,"/style and fashion/beauty/face and body care/nail care"),182180:e.r(36,"/style and fashion/clothing/pants/jeans"),182181:e.r(36,"/style and fashion/accessories/backpacks"),182182:e.r(36,"/style and fashion/accessories/gloves"),182183:e.r(36,"/style and fashion/accessories/hats"),182184:e.r(36,"/style and fashion/accessories/scarves"),182185:e.r(36,"/style and fashion/accessories/socks"),182186:e.r(36,"/style and fashion/accessories/sunglasses"),182187:e.r(36,"/style and fashion/accessories/ties"),182188:e.r(36,"/style and fashion/accessories/wallets"),182189:e.r(36,"/style and fashion/accessories/watches"),182190:e.r(36,"/style and fashion/beauty/cologne"),182191:e.r(36,"/style and fashion/beauty/cosmetics"),182192:e.r(36,"/style and fashion/beauty/cosmetology and beauty professionals"),182193:e.r(36,"/style and fashion/beauty/hair care"),182194:e.r(36,"/style and fashion/beauty/perfume"),182195:e.r(36,"/style and fashion/beauty/tattoos"),182196:e.r(36,"/style and fashion/clothing/blazers"),182197:e.r(36,"/style and fashion/clothing/coats"),182198:e.r(36,"/style and fashion/clothing/hoodies"),182199:e.r(36,"/style and fashion/clothing/jackets"),182200:e.r(36,"/style and fashion/clothing/leggings"),182201:e.r(36,"/style and fashion/clothing/lingerie"),182202:e.r(36,"/style and fashion/clothing/pajamas"),182203:e.r(36,"/style and fashion/clothing/pants"),182204:e.r(36,"/style and fashion/clothing/petticoats"),182205:e.r(36,"/style and fashion/clothing/shirts"),182206:e.r(36,"/style and fashion/clothing/shorts"),182207:e.r(36,"/style and fashion/clothing/skirts"),182208:e.r(36,"/style and fashion/clothing/sweaters"),182209:e.r(36,"/style and fashion/clothing/wedding dresses"),182210:e.r(36,"/style and fashion/footwear/boots"),182211:e.r(36,"/style and fashion/footwear/sandals"),182212:e.r(36,"/style and fashion/footwear/shoes"),182213:e.r(36,"/style and fashion/footwear/slippers"),182214:e.r(36,"/style and fashion/footwear/sneakers"),182215:e.r(36,"/style and fashion/jewelry/bracelets"),182216:e.r(36,"/style and fashion/jewelry/earrings"),182217:e.r(36,"/style and fashion/jewelry/necklaces"),182218:e.r(36,"/style and fashion/jewelry/rings"),182219:e.r(36,"/style and fashion/swimwear/bikinis"),182220:e.r(38,88),182221:e.r(38,291),182222:e.r(38,226),182223:e.r(38,151),182224:e.r(38,125),182225:e.r(38,265),182226:e.r(38,152),182227:e.r(38,326),182228:e.r(38,84),182229:e.r(38,148),182230:e.r(38,54),182231:e.r(36,"/technology and computing/consumer electronics/camera and photo equipment/cameras and camcorders/camcorders"),182232:e.r(36,"/technology and computing/consumer electronics/camera and photo equipment/cameras and camcorders/camera bags"),182233:e.r(36,"/technology and computing/consumer electronics/camera and photo equipment/cameras and camcorders/camera batteries"),182234:e.r(36,"/technology and computing/consumer electronics/camera and photo equipment/cameras and camcorders/camera lenses"),182235:e.r(36,"/technology and computing/consumer electronics/camera and photo equipment/cameras and camcorders/cameras"),182236:e.r(36,"/technology and computing/consumer electronics/telephones/mobile phones/smart phones"),182237:e.r(36,"/technology and computing/consumer electronics/tv and video equipment/televisions/hdtvs"),182238:e.r(36,"/technology and computing/consumer electronics/tv and video equipment/televisions/lcd tvs"),182239:e.r(36,"/technology and computing/consumer electronics/tv and video equipment/televisions/plasma tvs"),182240:e.r(36,"/technology and computing/consumer electronics/tv and video equipment/video players and recorders/blu-ray players and recorders"),182241:e.r(36,"/technology and computing/consumer electronics/tv and video equipment/video players and recorders/dvd players and recorders"),182242:e.r(36,"/technology and computing/hardware/computer/portable computer/laptop"),182243:e.r(36,"/technology and computing/hardware/computer/portable computer/palmtops and pdas"),182244:e.r(36,"/technology and computing/hardware/computer/portable computer/tablet"),182245:e.r(36,"/technology and computing/hardware/computer components/memory/portable"),182246:e.r(36,"/technology and computing/hardware/computer peripherals/printers, copiers and fax/copiers"),182247:e.r(36,"/technology and computing/hardware/computer peripherals/printers, copiers and fax/fax machines"),182248:e.r(36,"/technology and computing/hardware/computer peripherals/printers, copiers and fax/printers"),182249:e.r(36,"/technology and computing/hardware/computer peripherals/printers, copiers and fax/scanners"),182250:e.r(36,"/technology and computing/consumer electronics/audio equipment/headphones"),182251:e.r(36,"/technology and computing/consumer electronics/audio equipment/speakers"),182252:e.r(36,"/technology and computing/consumer electronics/audio equipment/stereo systems and components"),182253:e.r(36,"/technology and computing/consumer electronics/camera and photo equipment/binoculars"),182254:e.r(36,"/technology and computing/consumer electronics/camera and photo equipment/telescopes"),182255:e.r(38,143),182256:e.r(38,20),182257:e.r(38,46),182258:e.r(36,"/technology and computing/consumer electronics/telephones/mobile phones"),182259:e.r(36,"/technology and computing/consumer electronics/tv and video equipment/dvrs and set-top boxes"),182260:e.r(36,"/technology and computing/consumer electronics/tv and video equipment/home theater systems"),182261:e.r(36,"/technology and computing/consumer electronics/tv and video equipment/projectors"),182262:e.r(36,"/technology and computing/consumer electronics/tv and video equipment/televisions"),182263:e.r(36,"/technology and computing/hardware/computer/desktop computer"),182264:e.r(36,"/technology and computing/hardware/computer/portable computer"),182265:e.r(36,"/technology and computing/hardware/computer/servers"),182266:e.r(36,"/technology and computing/hardware/computer components/chips and processors"),182267:e.r(36,"/technology and computing/hardware/computer components/disks"),182268:e.r(36,"/technology and computing/hardware/computer components/graphics cards"),182269:e.r(36,"/technology and computing/hardware/computer components/memory"),182270:e.r(36,"/technology and computing/hardware/computer components/motherboards"),182271:e.r(36,"/technology and computing/hardware/computer components/sound cards"),182272:e.r(36,"/technology and computing/hardware/computer networking/router"),182273:e.r(36,"/technology and computing/hardware/computer networking/wireless technology"),182274:e.r(36,"/technology and computing/hardware/computer peripherals/computer monitors"),182275:e.r(36,"/technology and computing/internet technology/web search/people search"),182276:e.r(36,"/technology and computing/software/graphics software/animation"),182277:e.r(37,328),182278:e.r(37,329),182279:e.r(36,"/technology and computing/consumer electronics/audio equipment"),182280:e.r(36,"/technology and computing/consumer electronics/e-book reader"),182281:e.r(36,"/technology and computing/consumer electronics/game systems and consoles"),182282:e.r(36,"/technology and computing/consumer electronics/home video and dvd"),182283:e.r(36,"/technology and computing/consumer electronics/portable entertainment"),182284:e.r(36,"/technology and computing/consumer electronics/radios"),182285:e.r(36,"/technology and computing/consumer electronics/telephones"),182286:e.r(36,"/technology and computing/consumer electronics/tv and video equipment"),182287:e.r(36,"/technology and computing/enterprise technology/customer relationship management"),182288:e.r(36,"/technology and computing/enterprise technology/data management"),182289:e.r(36,"/technology and computing/enterprise technology/enterprise resource planning"),182290:e.r(36,"/technology and computing/hardware/computer"),182291:e.r(36,"/technology and computing/hardware/computer peripherals"),182292:e.r(36,"/technology and computing/internet technology/chat"),182293:e.r(36,"/technology and computing/internet technology/ecommerce"),182294:e.r(36,"/technology and computing/internet technology/email"),182295:e.r(36,"/technology and computing/internet technology/internet cafes"),182296:e.r(36,"/technology and computing/internet technology/isps"),182297:e.r(36,"/technology and computing/internet technology/social network"),182298:e.r(36,"/technology and computing/internet technology/web clip art"),182299:e.r(36,"/technology and computing/internet technology/web design and html"),182300:e.r(36,"/technology and computing/internet technology/web search"),182301:e.r(36,"/technology and computing/networking/network monitoring and management"),182302:e.r(36,"/technology and computing/networking/vpn and remote access"),182303:e.r(36,"/technology and computing/operating systems/linux"),182304:e.r(36,"/technology and computing/operating systems/mac os"),182305:e.r(36,"/technology and computing/operating systems/unix"),182306:e.r(36,"/technology and computing/operating systems/windows"),182307:e.r(36,"/technology and computing/programming languages/c and c++"),182308:e.r(36,"/technology and computing/programming languages/java"),182309:e.r(36,"/technology and computing/programming languages/javascript"),182310:e.r(36,"/technology and computing/programming languages/visual basic"),182311:e.r(37,344),182312:e.r(36,"/technology and computing/software/desktop publishing"),182313:e.r(36,"/technology and computing/software/desktop video"),182314:e.r(36,"/technology and computing/software/graphics software"),182315:e.r(36,"/technology and computing/software/net conferencing"),182316:e.r(36,"/technology and computing/software/shareware and freeware"),182317:e.r(38,145),182318:e.r(38,256),182319:e.r(38,210),182320:e.r(38,100),182321:e.r(38,242),182322:e.r(38,220),182323:e.r(38,317),182324:e.r(38,267),182325:e.r(38,0),182326:e.r(38,266),182327:e.r(38,279),182328:e.r(38,154),182329:e.r(38,129),182330:e.r(38,172),182331:e.r(38,139),182332:e.r(38,223),182333:e.r(38,322),182334:e.r(38,192),182335:e.r(36,"/travel/transports/air travel/air and space accident"),182336:e.r(36,"/travel/transports/air travel/airfare"),182337:e.r(36,"/travel/transports/air travel/airlines"),182338:e.r(36,"/travel/transports/air travel/airplanes"),182339:e.r(36,"/travel/transports/air travel/airports"),182340:e.r(36,"/travel/transports/air travel/helicopters"),182341:e.r(36,"/travel/transports/road travel/road accident"),182342:e.r(36,"/travel/transports/sea travel/cruises"),182343:e.r(36,"/travel/specialty travel/adventure travel"),182344:e.r(36,"/travel/specialty travel/ecotourism"),182345:e.r(36,"/travel/specialty travel/sightseeing tours"),182346:e.r(36,"/travel/specialty travel/vineyards"),182347:e.r(36,"/travel/tourist destinations/africa"),182348:e.r(36,"/travel/tourist destinations/australia and new zealand"),182349:e.r(36,"/travel/tourist destinations/canada"),182350:e.r(36,"/travel/tourist destinations/caribbean"),182351:e.r(36,"/travel/tourist destinations/eastern europe"),182352:e.r(36,"/travel/tourist destinations/europe"),182353:e.r(36,"/travel/tourist destinations/france"),182354:e.r(36,"/travel/tourist destinations/greece"),182355:e.r(36,"/travel/tourist destinations/italy"),182356:e.r(36,"/travel/tourist destinations/japan"),182357:e.r(36,"/travel/tourist destinations/mexico and central america"),182358:e.r(36,"/travel/tourist destinations/national parks"),182359:e.r(36,"/travel/tourist destinations/seaside resort"),182360:e.r(36,"/travel/tourist destinations/ski resorts"),182361:e.r(36,"/travel/tourist destinations/south america"),182362:e.r(36,"/travel/tourist destinations/spas"),182363:e.r(36,"/travel/tourist destinations/theme parks"),182364:e.r(36,"/travel/tourist destinations/united kingdom"),182365:e.r(36,"/travel/tourist facilities/bed and breakfast"),182366:e.r(36,"/travel/tourist facilities/camping"),182367:e.r(36,"/travel/tourist facilities/hotel"),182368:e.r(36,"/travel/transports/air travel"),182369:e.r(36,"/travel/transports/public transport"),182370:e.r(36,"/travel/transports/train travel"),182371:e.r(38,76),182372:e.r(38,285),182373:e.r(38,231),182374:e.r(38,21),182375:e.r(38,248),182376:e.r(38,320),182377:e.r(38,44),182378:e.r(38,63),182379:e.r(38,117),182380:e.r(38,208),182381:e.r(38,199),182382:e.r(38,41),182383:e.r(38,282),182384:e.r(38,78),182385:e.r(38,295),182386:e.r(38,90),182387:e.r(38,255),182388:e.r(38,91),182389:e.r(38,81),182390:e.r(38,24),182391:e.r(38,308),182392:e.r(38,132),182393:e.r(38,288),182394:e.r(38,52),182395:e.r(38,80),182396:e.r(38,293),182397:e.r(38,178),182398:e.r(38,212),182399:e.r(38,294),182400:e.r(38,122),182401:e.r(38,54),182402:e.r(38,192),182403:e.r(38,208),182404:e.r(38,186),182405:e.r(38,196),182406:e.r(38,5),182407:e.r(38,49),182408:e.r(38,33),182409:e.r(38,15),182410:e.r(38,286),182411:e.r(38,126),182412:e.r(38,249),182413:e.r(38,213),182414:e.r(38,93),182415:e.r(38,227),182416:e.r(38,114),182417:e.r(38,299),182418:e.r(38,159),182419:e.r(38,38),182420:e.r(38,164),182421:e.r(38,107),182422:e.r(38,321),182423:e.r(38,229),182424:e.r(38,259),182425:e.r(38,113),182426:e.r(38,131),182427:e.r(38,179),182428:e.r(38,247),182429:e.r(38,37),182430:e.r(38,246),182431:e.r(38,272),182432:e.r(38,298),182433:e.r(38,136),182434:e.r(38,174),182435:e.r(38,1),182436:e.r(38,182),182437:e.r(38,4),182438:e.r(38,120),182439:e.r(38,11),182440:e.r(38,261),182441:e.r(38,14),182442:e.r(38,68),182443:e.r(38,51),182444:e.r(38,276),182445:e.r(38,180),182446:e.r(38,313),182447:e.r(38,239),182448:e.r(38,89),182449:e.r(38,163),182450:e.r(38,135),182451:e.r(38,181),182452:e.r(38,300),182453:e.r(38,271),182454:e.r(38,29),182455:e.r(38,302),182456:e.r(38,315),182457:e.r(38,105),182458:e.r(38,258),182459:e.r(38,144),182460:e.r(38,206),182461:e.r(38,92),182462:e.r(38,274),182463:e.r(38,204),182464:e.r(38,307),182465:e.r(38,195),182466:e.r(38,225),182467:e.r(38,34),182468:e.r(38,36),182469:e.r(38,314),182470:e.r(38,102),182471:e.r(38,275),182472:e.r(38,73),182473:e.r(38,72),182474:e.r(38,77),182475:e.r(38,17),182476:e.r(38,27),182477:e.r(38,232),182478:e.r(38,280),182479:e.r(38,251),182480:e.r(38,56),182481:e.r(38,268),182482:e.r(38,74),182483:e.r(38,238),182484:e.r(38,149),182485:e.r(38,228),182486:e.r(38,209),182487:e.r(38,39),182488:e.r(38,262),182489:e.r(38,26),182490:e.r(38,156),182491:e.r(38,104),182492:e.r(38,289),182493:e.r(38,243),182494:e.r(38,215),182495:e.r(38,65),182496:e.r(38,189),182497:e.r(38,325),182498:e.r(38,167),182499:e.r(38,3),182500:e.r(38,290),182501:e.r(38,112),182502:e.r(38,281),182503:e.r(38,311),182504:e.r(38,86),182505:e.r(38,224),182506:e.r(38,184),182507:e.r(38,216),182508:e.r(38,235),182509:e.r(38,324),182510:e.r(38,69),182511:e.r(38,270),182512:e.r(38,128),182513:e.r(38,252),182514:e.r(38,95),182515:e.r(38,304),182516:e.r(38,53),182517:e.r(38,323),182518:e.r(38,108),182519:e.r(38,70),182520:e.r(38,234),182521:e.r(38,263),182522:e.r(38,83),182523:e.r(38,103),182524:e.r(38,170),182525:e.r(38,150),182526:e.r(38,177),182527:e.r(38,305),182528:e.r(38,59),182529:e.r(38,297),182530:e.r(38,201),182531:e.r(38,202),182532:e.r(38,187),182533:e.r(38,121),182534:e.r(38,233),182535:e.r(38,62),182536:e.r(38,278),182537:e.r(38,221),182538:e.r(38,284),182539:e.r(38,109),182540:e.r(38,240),182541:e.r(38,110),182542:e.r(38,205),182543:e.r(38,96),182544:e.r(38,168),182545:e.r(38,316),182546:e.r(38,161),182547:e.r(38,124),182548:e.r(38,318),182549:e.r(38,296),182550:e.r(38,118),182551:e.r(38,310),182552:e.r(38,16),182553:e.r(38,236),182554:e.r(38,207),182555:e.r(38,61),182556:e.r(38,175),182557:e.r(38,277),182558:e.r(38,22),182559:e.r(38,157),182560:e.r(38,43),182561:e.r(38,203),182562:e.r(38,155),182563:e.r(38,140),182564:e.r(38,101),182565:e.r(38,185),182566:e.r(38,146),182567:e.r(38,19),182568:e.r(38,30),182569:e.r(38,60),182570:e.r(38,306),182571:e.r(38,64),182572:e.r(38,214),182574:e.r(38,130),182575:e.r(38,309),182576:e.r(38,312),182577:e.r(38,111),182578:e.r(38,200),182579:e.r(38,211),182580:e.r(38,40),182581:e.r(38,23),182582:e.r(38,7),182583:e.r(38,158),182584:e.r(38,47),182585:e.r(38,165),182586:e.r(38,141),182587:e.r(38,48),182588:e.r(38,183),182589:e.r(38,287),182590:e.r(38,35),182591:e.r(38,58),182592:e.r(38,50),182593:e.r(38,119),182594:e.r(38,66),182595:e.r(38,301),182596:e.r(38,254),182597:e.r(38,257),182598:e.r(38,245),182599:e.r(38,99),182600:e.r(38,260),182601:e.r(38,194),182602:e.r(38,188),182603:e.r(38,115),182604:e.r(38,264),182605:e.r(38,127),182606:e.r(38,97),182607:e.r(38,28),182608:e.r(38,57),182609:e.r(38,94),182610:e.r(38,219),182611:e.r(38,138),182612:e.r(38,176),182613:e.r(38,98),182614:e.r(38,45),182615:e.r(38,87),182616:e.r(38,142),182617:e.r(38,197),182618:e.r(38,6),182619:e.r(38,303),182620:e.r(38,123),182621:e.r(38,82),182622:e.r(38,269),182623:e.r(38,253),182624:e.r(38,137),182625:e.r(38,160),182626:e.r(38,8),182627:e.r(38,230),182628:e.r(38,222),182629:e.r(38,237),182630:e.r(38,153),182631:e.r(38,116),182632:e.r(38,18),182633:e.r(38,171),182634:e.r(38,12),182635:e.r(38,106),182636:e.r(38,71),182637:e.r(38,67),182638:e.r(38,166),182639:e.r(38,79),182640:e.r(38,193),182641:e.r(38,42),182642:e.r(38,32),182643:e.r(38,25),182644:e.r(38,292),182645:e.r(38,147),182646:e.r(38,10),182647:e.r(38,162),182648:e.r(38,190),182649:e.r(38,9),182651:e.r(38,198),182652:e.r(38,2),182653:e.r(38,88),182654:e.r(38,291),182655:e.r(38,226),182656:e.r(38,151),182657:e.r(38,125),182658:e.r(38,265),182659:e.r(38,152),182660:e.r(38,326),182661:e.r(38,84),182662:e.r(38,148),182663:e.r(38,145),182664:e.r(38,256),182665:e.r(38,210),182666:e.r(38,100),182667:e.r(38,242),182668:e.r(38,220),182669:e.r(38,317),182670:e.r(38,267),182671:e.r(38,0),182672:e.r(38,266),182673:e.r(38,279),182674:e.r(38,154),182675:e.r(38,129),182676:e.r(38,172),182677:e.r(38,139),182678:e.r(38,223),182679:e.r(38,322),182680:e.r(38,76),182681:e.r(38,285),182682:e.r(38,231),182683:e.r(38,21),182684:e.r(38,248),182685:e.r(38,320),182686:e.r(38,44),182687:e.r(38,63),182688:e.r(38,117),182774:e.r(10,e.itp("liveramp_CoreLogic","1005092519",!1,"182774"),e.itp("eyeota","35558",!1,"182774"),e.itp("liveramp_Stirista","1001156849",!1,"182774"),"liveramp_Stirista","1003670779","182774","eyeota","13018","182774","eyeota","35463","182774","eyeota","35374","182774","eyeota","35840","182774","liveramp_Alliant","1005750361","182774","liveramp_ShareThis","1001009419","182774","liveramp_Experian","1006410161","182774","liveramp_StatSocial","1006914321","182774"),182775:e.r(22,"35374","182775","eyeota","35840","182775","liveramp_Alliant","1005750361","182775","liveramp_Experian","1006410161","182775","liveramp_StatSocial","1006914321","182775"),182879:e.r(0,e.itp("eyeota","6709",!1,"182879"),[e.itp("eyeota","11210",!1,"182879"),e.itp("eyeota","6678",!1,"182879"),e.itp("eyeota","299",!1,"182879")],[e.itp("liveramp_IPSOS","1002977006",!1,"182879"),e.itp("eyeota","35578",!1,"182879")]),183121:e.r(46,1,1,241),183124:e.r(46,3,3,241),183126:e.r(46,1,1,134),183127:e.r(46,3,3,134),183129:e.r(46,1,1,191),183130:e.r(46,3,3,191),183132:e.r(46,1,1,31),183133:e.r(46,3,3,31),183135:e.r(48,1,1),183138:e.r(46,1,1,80),183139:e.r(46,3,3,80),183140:e.r(46,1,1,283),183186:e.r(14,"eyeota","35325","183186","eyeota","6723",!1,"183186","eyeota","35342",!1,"183186"),183187:e.r(31,"13439","183187"),183189:e.r(31,"1698","183189"),183219:e.q(e.ocqs([e.itp("eyeota","34919",!1,"183219"),e.itp("eyeota","34817",!1,"183219"),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],164912)),e.cw(2,e.pe(4,164912)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],164915)),e.cw(2,e.pe(4,164915)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],166523)),e.cw(2,e.pe(4,166523)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],166524)),e.cw(2,e.pe(4,166524)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],165086)),e.cw(2,e.pe(4,165086)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],164913)),e.cw(2,e.pe(4,164913)),e.ge(1)),e.itp("liveramp_ShareThis","1005652241",!1,"183219"),e.itp("eyeota","34950",!1,"183219"),e.itp("eyeota","34964",!1,"183219"),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],174531)),e.cw(2,e.pe(4,174531)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],174528)),e.cw(2,e.pe(4,174528)),e.ge(1))])),183222:e.r(10,e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],183187)),e.cw(2,e.pe(4,183187)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],172262)),e.cw(2,e.pe(4,172262)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],182337)),e.cw(2,e.pe(4,182337)),e.ge(1)),"liveramp_Acxiom","15613","183222","liveramp_AnalyticsIQ","1004391769","183222","liveramp_AnalyticsIQ","1004391779","183222","liveramp_DunandBradstreet","1001203819","183222","liveramp_Acxiom","300034299","183222","liveramp_ShareThis","1003624519","183222","liveramp_Alliant","1000847816","183222","liveramp_PlaceIQ","1002445206","183222","eyeota","35993","183222"),183395:e.r(7,1,1),183396:e.r(7,3,3),183461:e.q(e.ocqs([e.tw(e.cb(0,e.os(e.cx,3,["Magazines and journals","Journalism awards","Journalists","Journalism"]),e.ge(3),3),2592e6),e.itp("liveramp_ShareThis","1001010039",!1,"183461"),e.itp("liveramp_ShareThis","1005651921",!1,"183461"),e.itp("liveramp_MeritDirect","1000073874",!1,"183461")])),183464:e.r(8,[e.itp("eyeota","12815",!1,"183464"),e.itp("eyeota","34683",!1,"183464"),e.itp("liveramp_Experian","1004576009",!1,"183464"),e.itp("eyeota","1439",!1,"183464"),e.itp("eyeota","34785",!1,"183464"),e.itp("liveramp_Experian","1004576089",!1,"183464"),e.itp("eyeota","34689",!1,"183464"),e.itp("eyeota","34774",!1,"183464"),e.itp("liveramp_Experian","1004576019",!1,"183464"),e.itp("eyeota","34671",!1,"183464"),e.itp("liveramp_Alliant","1000847526",!1,"183464"),e.itp("liveramp_Experian","1004578049",!1,"183464"),e.itp("liveramp_Experian","1004580799",!1,"183464"),e.itp("liveramp_OnAudience","1002862396",!1,"183464"),e.itp("liveramp_IPSOS","1004367389",!1,"183464"),e.itp("liveramp_StartApp","1004432199",!1,"183464"),e.itp("eyeota","34660",!1,"183464"),e.itp("eyeota","34752",!1,"183464"),e.itp("eyeota","12801",!1,"183464"),e.itp("liveramp_IPSOS","1004367389",!1,"183464"),e.itp("liveramp_Epsilon","1003004806",!1,"183464"),e.itp("liveramp_Alliant","1000846316",!1,"183464"),e.itp("liveramp_Epsilon","1003004796",!1,"183464")]),183705:e.r(1,e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],184060)),e.cw(2,e.pe(4,184060)),e.ge(1)),[e.itp("liveramp_AnalyticsIQ","1003048729",!1,"183705"),e.itp("liveramp_ShareThis","1003624529",!1,"183705"),e.itp("liveramp_Acxiom","300544601",!1,"183705"),e.itp("eyeota","1473",!1,"183705"),e.itp("liveramp_Stirista","1003669219",!1,"183705"),e.itp("liveramp_ShareThis","1005134219",!1,"183705"),e.itp("liveramp_OnAudience","1002860766",!1,"183705"),e.itp("liveramp_Fluent","1005080419",!1,"183705"),e.itp("liveramp_ShareThis","1001011119",!1,"183705")]),183707:e.r(8,[e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],168207)),e.cw(2,e.pe(4,168207)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],176742)),e.cw(2,e.pe(4,176742)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],182115)),e.cw(2,e.pe(4,182115)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],182594)),e.cw(2,e.pe(4,182594)),e.ge(1)),e.itp("eyeota","35882",!1,"183707"),e.itp("eyeota","35650",!1,"183707"),e.itp("liveramp_Alliant","1000845866",!1,"183707"),e.itp("eyeota","35883",!1,"183707")]),183791:e.r(46,1,1,149),183894:e.q(e.ocqs([e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],168239)),e.cw(2,e.pe(4,168239)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],182135)),e.cw(2,e.pe(4,182135)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],182614)),e.cw(2,e.pe(4,182614)),e.ge(1)),e.itp("eyeota","1685",!1,"183894"),e.itp("liveramp_AnalyticsIQ","1000692536",!1,"183894"),e.itp("liveramp_Epsilon","1004805199",!1,"183894"),e.itp("liveramp_Alliant","1000845876",!1,"183894"),e.itp("liveramp_Epsilon","1000466846",!1,"183894"),e.itp("liveramp_Bombora","1005416769",!1,"183894")])),183901:e.r(17,"liveramp_IXIDigital","1002824286","183901","liveramp_IXIDigital","1002824216","183901","liveramp_IXIDigital","1002824226","183901","liveramp_IXIDigital","1002824236","183901","liveramp_IXIDigital","1002824276","183901","liveramp_IXIDigital","1002824246","183901","liveramp_IXIDigital","1002824256","183901","liveramp_IXIDigital","1002824266","183901","liveramp_Experian","1004266959","183901"),184058:e.r(24,"300544615","184058","300544610","184058","300544620","184058"),184060:e.r(13,"eyeota","35455",!1,"184060","eyeota","230",!1,"184060","eyeota","35457",!1,"184060","eyeota","232",!1,"184060","eyeota","35459",!1,"184060","eyeota","234",!1,"184060","eyeota","35431",!1,"184060","eyeota","6677",!1,"184060","eyeota","35433",!1,"184060","eyeota","6678",!1,"184060","eyeota","6676",!1,"184060"),184133:e.r(24,"300544601","184133","300544605","184133","300544610","184133"),184501:e.r(33,"1000096864","184501"),184537:e.r(8,[e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],166525)),e.cw(2,e.pe(4,166525)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],184501)),e.cw(2,e.pe(4,184501)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],177537)),e.cw(2,e.pe(4,177537)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],166524)),e.cw(2,e.pe(4,166524)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],181640)),e.cw(2,e.pe(4,181640)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],181638)),e.cw(2,e.pe(4,181638)),e.ge(1)),e.tw(e.cb(0,e.ref(273),e.ge(3),3),2592e6)]),184570:e.r(17,"liveramp_AnalyticsIQ","1003048729","184570","liveramp_ShareThis","1003624529","184570","liveramp_Acxiom","300544601","184570","eyeota","1473","184570","liveramp_Stirista","1003669219","184570","liveramp_ShareThis","1005134219","184570","liveramp_OnAudience","1002860766","184570","liveramp_Fluent","1005080419","184570","liveramp_ShareThis","1001011119","184570"),184615:e.r(9,e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],166525)),e.cw(2,e.pe(4,166525)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],184501)),e.cw(2,e.pe(4,184501)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],166523)),e.cw(2,e.pe(4,166523)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],181640)),e.cw(2,e.pe(4,181640)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],181638)),e.cw(2,e.pe(4,181638)),e.ge(1)),e.tw(e.cb(0,e.ref(273),e.ge(3),3),2592e6)),184699:e.r(9,e.tw(e.cb(0,e.os(e.cx,3,["Government policy","Economic policy"]),e.ge(3),3),2592e6),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],165086)),e.cw(2,e.pe(4,165086)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],181886)),e.cw(2,e.pe(4,181886)),e.ge(1)),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],181888)),e.cw(2,e.pe(4,181888)),e.ge(1)),e.itp("liveramp_Epsilon","1005785991",!1,"184699"),e.itp("liveramp_Bombora","1005389229",!1,"184699")),185224:e.r(21,"liveramp_StatSocial","1006915671","185224","1003670779","185224","eyeota","35482","185224","1003670779","185224","liveramp_Acxiom","300730199","185224","liveramp_ShareThis","1006809291","185224"),185226:e.r(1,e.ocqs([e.itp("liveramp_Acxiom","32025",!1,"185226"),e.itp("liveramp_Epsilon","1000458596",!1,"185226"),e.itp("liveramp_Fluent","1006088461",!1,"185226"),e.itp("liveramp_Epsilon","1003071416",!1,"185226"),e.itp("eyeota","6677",!1,"185226"),e.itp("liveramp_StartApp","1003725059",!1,"185226"),e.itp("eyeota","35433",!1,"185226"),e.itp("liveramp_Acxiom","32012",!1,"185226"),e.itp("liveramp_Acxiom","32019",!1,"185226"),e.itp("eyeota","234",!1,"185226"),e.itp("eyeota","235",!1,"185226"),e.itp("eyeota","35434",!1,"185226"),e.itp("liveramp_Fluent","1006088291",!1,"185226"),e.itp("eyeota","299",!1,"185226")]),[e.itp("liveramp_ShareThis","1001601306",!1,"185226"),e.itp("eyeota","35086",!1,"185226"),e.itp("eyeota","13371",!1,"185226"),e.itp("liveramp_ShareThis","1001289069",!1,"185226"),e.itp("liveramp_PlaceIQ","1004555429",!1,"185226"),e.itp("eyeota","35884",!1,"185226"),e.itp("liveramp_Bombora","1005416839",!1,"185226"),e.itp("liveramp_ShareThis","1003626949",!1,"185226"),e.itp("liveramp_Lifesight","1005448366",!1,"185226"),e.itp("liveramp_Alliant","1000845886",!1,"185226"),e.itp("liveramp_IXIDigital","1000092504",!1,"185226"),e.itp("liveramp_Kantar","1004736409",!1,"185226"),e.itp("liveramp_Experian","1004264299",!1,"185226")]),185653:e.r(8,[e.itp("liveramp_Bombora","1000883959",!1,"185653"),e.itp("eyeota","35924",!1,"185653"),e.itp("liveramp_Experian","1004268399",!1,"185653"),e.itp("liveramp_IXIDigital","1000092544",!1,"185653"),e.itp("liveramp_ShareThis","1002836836",!1,"185653"),e.itp("eyeota","36003",!1,"185653"),e.itp("liveramp_Mastercard","1005908151",!1,"185653"),e.itp("liveramp_ShareThis","1005134329",!1,"185653"),e.itp("eyeota","35944",!1,"185653"),e.itp("eyeota","35796",!1,"185653")]),185846:e.r(18,"liveramp_DunandBradstreet","1000310516","185846","liveramp_Bombora","1000094684","185846","liveramp_ShareThis","1005652131","185846","liveramp_Bombora","1005389979","185846","eyeota","23","185846","eyeota","35180","185846","liveramp_ShareThis","1003628739","185846","eyeota","34972","185846","liveramp_DunandBradstreet","1002785106","185846","liveramp_ShareThis","1001011339","185846","1001011359","185846","liveramp_ShareThis","1001600796","185846","liveramp_Epsilon","1000994179","185846"),186151:e.r(6,1,1),186152:e.r(6,1,1),186153:e.r(6,3,3),186174:e.r(5,1,1),186175:e.r(5,3,3),186574:e.q(e.ocqs([e.itp("liveramp_Experian","1004268859",!1,"186574"),e.itp("liveramp_IXIDigital","1000089844",!1,"186574"),e.itp("liveramp_AnalyticsIQ","1000689966",!1,"186574"),e.itp("eyeota","12965",!1,"186574"),e.scq(e.cw(1,e.pc(["aggregations","SegmentEntry"],156753)),e.cw(2,e.pe(4,156753)),e.ge(1))]))}||{},queriesByEvent:t||{}}}));function Br(e){return((e,t)=>a(zr(e,t),(t=>Object.assign(Object.assign({},t),{userId:e.userId}))))(e,Tr())}function Dr(e,t){const r=a((e=>dr(e,((e,t)=>t.state?m({[t.checksum]:t.state}):g)))(e),It,yt((e=>X(new Map)))),n=a(It(t),yt((e=>X(new Map))));return a(function(e,t){return sr("delta",e,t)}(r,n),(e=>xt(e)))||{}}!function(e){const t=self;function r(e,r,n,i){function a(r){if("function"!=typeof t.postMessage)return e.ports[0].postMessage(r);t.postMessage(r)}if(!n)return a([r,null,i]);"undefined"!=typeof console&&"error"in console&&console.error("Worker caught an error:",n),a([r,n])}t.addEventListener("message",(function(t){if(n=t,!Array.isArray(n.data)||2!==n.data.length)return;var n;const i=t.data,[a,s]=i;if("function"==typeof e)return function(e,t,n,i){const a=function(e,t){try{return{res:e(t)}}catch(e){return{err:e}}}(t,i);return Boolean(null===(s=a)||void 0===s?void 0:s.err)?r(e,n,a.err):!(o=a.res)||"object"!=typeof o&&"function"!=typeof o||"function"!=typeof o.then?r(e,n,null,a.res):void a.res.then((function(t){r(e,n,null,t)}),(function(t){r(e,n,t)}));var s,o}(t,e,a,s);r(t,a,new Error("Please pass a function into register()."))}))}((e=>"QLE"===e.engine?Br(e):function(e){switch(e.type){case"delta":return Dr(e.stateMap,e.lastSentStateMapWithChecksum);case"noop":return{}}}(e)))})();',"Worker",void 0,void 0)}},477:e=>{e.exports=function(e,t,r,n){var i=self||window;try{try{var a;try{a=new i.Blob([e])}catch(t){(a=new(i.BlobBuilder||i.WebKitBlobBuilder||i.MozBlobBuilder||i.MSBlobBuilder)).append(e),a=a.getBlob()}var s=i.URL||i.webkitURL,o=s.createObjectURL(a),c=new i[t](o,r);return s.revokeObjectURL(o),c}catch(n){return new i[t]("data:application/javascript,".concat(encodeURIComponent(e)),r)}}catch(e){if(!n)throw Error("Inline worker is not supported");return new i[t](n,r)}}},7582:(e,t,r)=>{r.d(t,{_T:()=>n,mG:()=>i});function n(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}function i(e,t,r,n){return new(r||(r=Promise))((function(i,a){function s(e){try{c(n.next(e))}catch(e){a(e)}}function o(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))}Object.create;Object.create;"function"==typeof SuppressedError&&SuppressedError}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](r,r.exports,__webpack_require__),r.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={},_framework_compute_time_measurement__WEBPACK_IMPORTED_MODULE_0__;_framework_compute_time_measurement__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3992),(0,_framework_compute_time_measurement__WEBPACK_IMPORTED_MODULE_0__.ho)(!0),(0,_framework_compute_time_measurement__WEBPACK_IMPORTED_MODULE_0__.HJ)((()=>Promise.resolve().then(__webpack_require__.bind(__webpack_require__,1101))))})();